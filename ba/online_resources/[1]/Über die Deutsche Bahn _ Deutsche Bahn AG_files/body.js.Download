/*!
 * Bootstrap v3.2.0 (http://getbootstrap.com)
 * Copyright 2011-2018 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if (typeof jQuery === 'undefined') { throw new Error('Bootstrap\'s JavaScript requires jQuery') }

+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.2.0",d.prototype.close=function(b){function c(){f.detach().trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",c).emulateTransitionEnd(150):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.2.0",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),d[e](null==f[b]?this.options[b]:f[b]),setTimeout(a.proxy(function(){"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}a&&this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),c.preventDefault()})}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b).on("keydown.bs.carousel",a.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.2.0",c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},c.prototype.keydown=function(a){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.to=function(b){var c=this,d=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(b>this.$items.length-1||b<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){if(!this.sliding)return this.slide("next")},c.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},c.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}if(e.hasClass("active"))return this.sliding=!1;var j=e[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:g});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,f&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(e)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:g});return a.support.transition&&this.$element.hasClass("slide")?(e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one("bsTransitionEnd",function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(1e3*d.css("transition-duration").slice(0,-1))):(d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger(m)),f&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b);!e&&f.toggle&&"show"==b&&(b=!b),e||d.data("bs.collapse",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};c.VERSION="3.2.0",c.DEFAULTS={toggle:!0},c.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},c.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var c=a.Event("show.bs.collapse");if(this.$element.trigger(c),!c.isDefaultPrevented()){var d=this.$parent&&this.$parent.find("> .panel > .in");if(d&&d.length){var e=d.data("bs.collapse");if(e&&e.transitioning)return;b.call(d,"hide"),e||d.data("bs.collapse",null)}var f=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[f](0),this.transitioning=1;var g=function(){this.$element.removeClass("collapsing").addClass("collapse in")[f](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return g.call(this);var h=a.camelCase(["scroll",f].join("-"));this.$element.one("bsTransitionEnd",a.proxy(g,this)).emulateTransitionEnd(350)[f](this.$element[0][h])}}},c.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!a.support.transition)return d.call(this);this.$element[c](0).one("bsTransitionEnd",a.proxy(d,this)).emulateTransitionEnd(350)}}},c.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var d=a.fn.collapse;a.fn.collapse=b,a.fn.collapse.Constructor=c,a.fn.collapse.noConflict=function(){return a.fn.collapse=d,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(c){var d,e=a(this),f=e.attr("data-target")||c.preventDefault()||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),g=a(f),h=g.data("bs.collapse"),i=h?"toggle":e.data(),j=e.attr("data-parent"),k=j&&a(j);h&&h.transitioning||(k&&k.find('[data-toggle="collapse"][data-parent="'+j+'"]').not(e).addClass("collapsed"),e[g.hasClass("in")?"addClass":"removeClass"]("collapsed")),b.call(g,i)})}(jQuery),function(a){"use strict";function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=c(a(this)),e={relatedTarget:this};d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown",e)),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown",e))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.2.0",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=c(d),g=e.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.divider):visible a",i=e.find('[role="menu"]'+h+', [role="listbox"]'+h);if(i.length){var j=i.index(i.filter(":focus"));38==b.keyCode&&j>0&&j--,40==b.keyCode&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f+', [role="menu"], [role="listbox"]',g.prototype.keydown)}(jQuery),function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.2.0",c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(c.$body),c.$element.show().scrollTop(0),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one("bsTransitionEnd",function(){c.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(300):c.$element.trigger("focus").trigger(e)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var c=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&d;if(this.$backdrop=a('<div class="modal-backdrop '+d+'" />').prependTo(".page-wrapper"),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;e?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(150):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var f=function(){c.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",f).emulateTransitionEnd(150):f()}else b&&b()},c.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};c.VERSION="3.2.0",c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="in",!c.options.delay||!c.options.delay.show)return c.show();c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="out",!c.options.delay||!c.options.delay.hide)return c.hide();c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var c=a.contains(document.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!c)return;var d=this,e=this.tip(),f=this.getUID(this.type);this.setContent(),e.attr("id",f),this.$element.attr("aria-describedby",f),this.options.animation&&e.addClass("fade");var g="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,h=/\s?auto?\s?/i,i=h.test(g);i&&(g=g.replace(h,"")||"top"),e.detach().css({top:0,left:0,display:"block"}).addClass(g).data("bs."+this.type,this),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element);var j=this.getPosition(),k=e[0].offsetWidth,l=e[0].offsetHeight;if(i){var m=g,n=this.$element.parent(),o=this.getPosition(n);g="bottom"==g&&j.top+j.height+l-o.scroll>o.height?"top":"top"==g&&j.top-o.scroll-l<0?"bottom":"right"==g&&j.right+k>o.width?"left":"left"==g&&j.left-k<o.left?"right":g,e.removeClass(m).addClass(g)}var p=this.getCalculatedOffset(g,j,k,l);this.applyPlacement(p,g);var q=function(){d.$element.trigger("shown.bs."+d.type),d.hoverState=null};a.support.transition&&this.$tip.hasClass("fade")?e.one("bsTransitionEnd",q).emulateTransitionEnd(150):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=k.left?2*k.left-e+i:2*k.top-f+j,m=k.left?"left":"top",n=k.left?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(l,d[0][n],m)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach(),c.$element.trigger("hidden.bs."+c.type)}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);if(this.$element.removeAttr("aria-describedby"),this.$element.trigger(e),!e.isDefaultPrevented())return d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one("bsTransitionEnd",b).emulateTransitionEnd(150):b(),this.hoverState=null,this},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName;return a.extend({},"function"==typeof c.getBoundingClientRect?c.getBoundingClientRect():null,{scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop(),width:d?a(window).width():b.outerWidth(),height:d?a(window).height():b.outerHeight()},d?{top:0,left:0}:b.offset())},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a=this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)},c.prototype.getUID=function(a){do{a+=~~(1e6*Math.random())}while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&((c=a(b.currentTarget).data("bs."+this.type))||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.2.0",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").empty()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},c.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),function(a){"use strict";function b(c,d){var e=a.proxy(this.process,this);this.$body=a("body"),this.$scrollElement=a(a(c).is("body")?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.2.0",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b="offset",c=0;a.isWindow(this.$scrollElement[0])||(b="position",c=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var d=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+c,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){d.offsets.push(this[0]),d.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<=e[0])return g!=(a=f[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.2.0",c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.closest("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},c.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),f.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(c){c.preventDefault(),b.call(a(this),"show")})}(jQuery),function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.2.0",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=a(document).height(),d=this.$target.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top(this.$element)),"function"==typeof h&&(h=f.bottom(this.$element));var i=!(null!=this.unpin&&d+this.unpin<=e.top)&&(null!=h&&e.top+this.$element.height()>=b-h?"bottom":null!=g&&d<=g&&"top");if(this.affixed!==i){null!=this.unpin&&this.$element.css("top","");var j="affix"+(i?"-"+i:""),k=a.Event(j+".bs.affix");this.$element.trigger(k),k.isDefaultPrevented()||(this.affixed=i,this.unpin="bottom"==i?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(j).trigger(a.Event(j.replace("affix","affixed"))),"bottom"==i&&this.$element.offset({top:b-this.$element.height()-h}))}}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},d.offsetBottom&&(d.offset.bottom=d.offsetBottom),d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery),$(".embed-responsive-auto iframe").on("load",function(){try{$(this).parent().height($(this.contentDocument.body).height())}catch(a){$(this).parent().addClass("embed-responsive-4by3")}}),$("#genericModal").on("hidden.bs.modal",function(){$("#carousel-generic").removeClass("hideIndicators");var a=$(".modal-dialog iframe");a.attr("src",a.attr("src"))});

/*!
 * Masonry PACKAGED v3.1.5
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */

!function(a){function b(){}function c(a){function c(b){b.prototype.option||(b.prototype.option=function(b){a.isPlainObject(b)&&(this.options=a.extend(!0,this.options,b))})}function e(b,c){a.fn[b]=function(e){if("string"==typeof e){for(var g=d.call(arguments,1),h=0,i=this.length;i>h;h++){var j=this[h],k=a.data(j,b);if(k)if(a.isFunction(k[e])&&"_"!==e.charAt(0)){var l=k[e].apply(k,g);if(void 0!==l)return l}else f("no such method '"+e+"' for "+b+" instance");else f("cannot call methods on "+b+" prior to initialization; attempted to call '"+e+"'")}return this}return this.each(function(){var d=a.data(this,b);d?(d.option(e),d._init()):(d=new c(this,e),a.data(this,b,d))})}}if(a){var f="undefined"==typeof console?b:function(a){console.error(a)};return a.bridget=function(a,b){c(b),e(a,b)},a.bridget}}var d=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],c):c(a.jQuery)}(window),function(a){function b(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var c=document.documentElement,d=function(){};c.addEventListener?d=function(a,b,c){a.addEventListener(b,c,!1)}:c.attachEvent&&(d=function(a,c,d){a[c+d]=d.handleEvent?function(){var c=b(a);d.handleEvent.call(d,c)}:function(){var c=b(a);d.call(a,c)},a.attachEvent("on"+c,a[c+d])});var e=function(){};c.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:c.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var f={bind:d,unbind:e};"function"==typeof define&&define.amd?define("eventie/eventie",f):"object"==typeof exports?module.exports=f:a.eventie=f}(this),function(a){function b(a){"function"==typeof a&&(b.isReady?a():f.push(a))}function c(a){var c="readystatechange"===a.type&&"complete"!==e.readyState;if(!b.isReady&&!c){b.isReady=!0;for(var d=0,g=f.length;g>d;d++){var h=f[d];h()}}}function d(d){return d.bind(e,"DOMContentLoaded",c),d.bind(e,"readystatechange",c),d.bind(a,"load",c),b}var e=a.document,f=[];b.isReady=!1,"function"==typeof define&&define.amd?(b.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],d)):a.docReady=d(a.eventie)}(this),function(){function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype,e=this,f=e.EventEmitter;d.getListeners=function(a){var b,c,d=this._getEvents();if(a instanceof RegExp){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},d.on=c("addListener"),d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},d.once=c("addOnceListener"),d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=b(f[e],c),-1!==d&&f[e].splice(d,1));return this},d.off=c("removeListener"),d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if(a instanceof RegExp)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},d.removeAllListeners=c("removeEvent"),d.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},d.trigger=c("emitEvent"),d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},d._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return e.EventEmitter=f,a},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:this.EventEmitter=a}.call(this),function(a){function b(a){if(a){if("string"==typeof d[a])return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var b,e=0,f=c.length;f>e;e++)if(b=c[e]+a,"string"==typeof d[b])return b}}var c="Webkit Moz ms Ms O".split(" "),d=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return b}):"object"==typeof exports?module.exports=b:a.getStyleProperty=b}(window),function(a){function b(a){var b=parseFloat(a),c=-1===a.indexOf("%")&&!isNaN(b);return c&&b}function c(){for(var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},b=0,c=g.length;c>b;b++){var d=g[b];a[d]=0}return a}function d(a){function d(a){if("string"==typeof a&&(a=document.querySelector(a)),a&&"object"==typeof a&&a.nodeType){var d=f(a);if("none"===d.display)return c();var e={};e.width=a.offsetWidth,e.height=a.offsetHeight;for(var k=e.isBorderBox=!(!j||!d[j]||"border-box"!==d[j]),l=0,m=g.length;m>l;l++){var n=g[l],o=d[n];o=h(a,o);var p=parseFloat(o);e[n]=isNaN(p)?0:p}var q=e.paddingLeft+e.paddingRight,r=e.paddingTop+e.paddingBottom,s=e.marginLeft+e.marginRight,t=e.marginTop+e.marginBottom,u=e.borderLeftWidth+e.borderRightWidth,v=e.borderTopWidth+e.borderBottomWidth,w=k&&i,x=b(d.width);x!==!1&&(e.width=x+(w?0:q+u));var y=b(d.height);return y!==!1&&(e.height=y+(w?0:r+v)),e.innerWidth=e.width-(q+u),e.innerHeight=e.height-(r+v),e.outerWidth=e.width+s,e.outerHeight=e.height+t,e}}function h(a,b){if(e||-1===b.indexOf("%"))return b;var c=a.style,d=c.left,f=a.runtimeStyle,g=f&&f.left;return g&&(f.left=a.currentStyle.left),c.left=b,b=c.pixelLeft,c.left=d,g&&(f.left=g),b}var i,j=a("boxSizing");return function(){if(j){var a=document.createElement("div");a.style.width="200px",a.style.padding="1px 2px 3px 4px",a.style.borderStyle="solid",a.style.borderWidth="1px 2px 3px 4px",a.style[j]="border-box";var c=document.body||document.documentElement;c.appendChild(a);var d=f(a);i=200===b(d.width),c.removeChild(a)}}(),d}var e=a.getComputedStyle,f=e?function(a){return e(a,null)}:function(a){return a.currentStyle},g=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],d):"object"==typeof exports?module.exports=d(require("get-style-property")):a.getSize=d(a.getStyleProperty)}(window),function(a,b){function c(a,b){return a[h](b)}function d(a){if(!a.parentNode){var b=document.createDocumentFragment();b.appendChild(a)}}function e(a,b){d(a);for(var c=a.parentNode.querySelectorAll(b),e=0,f=c.length;f>e;e++)if(c[e]===a)return!0;return!1}function f(a,b){return d(a),c(a,b)}var g,h=function(){if(b.matchesSelector)return"matchesSelector";for(var a=["webkit","moz","ms","o"],c=0,d=a.length;d>c;c++){var e=a[c],f=e+"MatchesSelector";if(b[f])return f}}();if(h){var i=document.createElement("div"),j=c(i,"div");g=j?c:f}else g=e;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return g}):window.matchesSelector=g}(this,Element.prototype),function(a){function b(a,b){for(var c in b)a[c]=b[c];return a}function c(a){for(var b in a)return!1;return b=null,!0}function d(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function e(a,e,f){function h(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}var i=f("transition"),j=f("transform"),k=i&&j,l=!!f("perspective"),m={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[i],n=["transform","transition","transitionDuration","transitionProperty"],o=function(){for(var a={},b=0,c=n.length;c>b;b++){var d=n[b],e=f(d);e&&e!==d&&(a[d]=e)}return a}();b(h.prototype,a.prototype),h.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},h.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},h.prototype.getSize=function(){this.size=e(this.element)},h.prototype.css=function(a){var b=this.element.style;for(var c in a){var d=o[c]||c;b[d]=a[c]}},h.prototype.getPosition=function(){var a=g(this.element),b=this.layout.options,c=b.isOriginLeft,d=b.isOriginTop,e=parseInt(a[c?"left":"right"],10),f=parseInt(a[d?"top":"bottom"],10);e=isNaN(e)?0:e,f=isNaN(f)?0:f;var h=this.layout.size;e-=c?h.paddingLeft:h.paddingRight,f-=d?h.paddingTop:h.paddingBottom,this.position.x=e,this.position.y=f},h.prototype.layoutPosition=function(){var a=this.layout.size,b=this.layout.options,c={};b.isOriginLeft?(c.left=this.position.x+a.paddingLeft+"px",c.right=""):(c.right=this.position.x+a.paddingRight+"px",c.left=""),b.isOriginTop?(c.top=this.position.y+a.paddingTop+"px",c.bottom=""):(c.bottom=this.position.y+a.paddingBottom+"px",c.top=""),this.css(c),this.emitEvent("layout",[this])};var p=l?function(a,b){return"translate3d("+a+"px, "+b+"px, 0)"}:function(a,b){return"translate("+a+"px, "+b+"px)"};h.prototype._transitionTo=function(a,b){this.getPosition();var c=this.position.x,d=this.position.y,e=parseInt(a,10),f=parseInt(b,10),g=e===this.position.x&&f===this.position.y;if(this.setPosition(a,b),g&&!this.isTransitioning)return void this.layoutPosition();var h=a-c,i=b-d,j={},k=this.layout.options;h=k.isOriginLeft?h:-h,i=k.isOriginTop?i:-i,j.transform=p(h,i),this.transition({to:j,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},h.prototype.goTo=function(a,b){this.setPosition(a,b),this.layoutPosition()},h.prototype.moveTo=k?h.prototype._transitionTo:h.prototype.goTo,h.prototype.setPosition=function(a,b){this.position.x=parseInt(a,10),this.position.y=parseInt(b,10)},h.prototype._nonTransition=function(a){this.css(a.to),a.isCleaning&&this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)},h.prototype._transition=function(a){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(a);var b=this._transn;for(var c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);if(a.from){this.css(a.from);var d=this.element.offsetHeight;d=null}this.enableTransition(a.to),this.css(a.to),this.isTransitioning=!0};var q=j&&d(j)+",opacity";h.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:q,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(m,this,!1))},h.prototype.transition=h.prototype[i?"_transition":"_nonTransition"],h.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},h.prototype.onotransitionend=function(a){this.ontransitionend(a)};var r={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};h.prototype.ontransitionend=function(a){if(a.target===this.element){var b=this._transn,d=r[a.propertyName]||a.propertyName;if(delete b.ingProperties[d],c(b.ingProperties)&&this.disableTransition(),d in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[d]),d in b.onEnd){var e=b.onEnd[d];e.call(this),delete b.onEnd[d]}this.emitEvent("transitionEnd",[this])}},h.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(m,this,!1),this.isTransitioning=!1},h.prototype._removeStyles=function(a){var b={};for(var c in a)b[c]="";this.css(b)};var s={transitionProperty:"",transitionDuration:""};return h.prototype.removeTransitionStyles=function(){this.css(s)},h.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},h.prototype.remove=function(){if(!i||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var a=this;this.on("transitionEnd",function(){return a.removeElem(),!0}),this.hide()},h.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var a=this.layout.options;this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0})},h.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var a=this.layout.options;this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},h.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},h}var f=a.getComputedStyle,g=f?function(a){return f(a,null)}:function(a){return a.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],e):(a.Outlayer={},a.Outlayer.Item=e(a.EventEmitter,a.getSize,a.getStyleProperty))}(window),function(a){function b(a,b){for(var c in b)a[c]=b[c];return a}function c(a){return"[object Array]"===l.call(a)}function d(a){var b=[];if(c(a))b=a;else if(a&&"number"==typeof a.length)for(var d=0,e=a.length;e>d;d++)b.push(a[d]);else b.push(a);return b}function e(a,b){var c=n(b,a);-1!==c&&b.splice(c,1)}function f(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()}function g(c,g,l,n,o,p){function q(a,c){if("string"==typeof a&&(a=h.querySelector(a)),!a||!m(a))return void(i&&i.error("Bad "+this.constructor.namespace+" element: "+a));this.element=a,this.options=b({},this.constructor.defaults),this.option(c);var d=++r;this.element.outlayerGUID=d,s[d]=this,this._create(),this.options.isInitLayout&&this.layout()}var r=0,s={};return q.namespace="outlayer",q.Item=p,q.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},b(q.prototype,l.prototype),q.prototype.option=function(a){b(this.options,a)},q.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),b(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},q.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},q.prototype._itemize=function(a){for(var b=this._filterFindItemElements(a),c=this.constructor.Item,d=[],e=0,f=b.length;f>e;e++){var g=b[e],h=new c(g,this);d.push(h)}return d},q.prototype._filterFindItemElements=function(a){a=d(a);for(var b=this.options.itemSelector,c=[],e=0,f=a.length;f>e;e++){var g=a[e];if(m(g))if(b){o(g,b)&&c.push(g);for(var h=g.querySelectorAll(b),i=0,j=h.length;j>i;i++)c.push(h[i])}else c.push(g)}return c},q.prototype.getItemElements=function(){for(var a=[],b=0,c=this.items.length;c>b;b++)a.push(this.items[b].element);return a},q.prototype.layout=function(){this._resetLayout(),this._manageStamps();var a=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,a),this._isLayoutInited=!0},q.prototype._init=q.prototype.layout,q.prototype._resetLayout=function(){this.getSize()},q.prototype.getSize=function(){this.size=n(this.element)},q.prototype._getMeasurement=function(a,b){var c,d=this.options[a];d?("string"==typeof d?c=this.element.querySelector(d):m(d)&&(c=d),this[a]=c?n(c)[b]:d):this[a]=0},q.prototype.layoutItems=function(a,b){a=this._getItemsForLayout(a),this._layoutItems(a,b),this._postLayout()},q.prototype._getItemsForLayout=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c];e.isIgnored||b.push(e)}return b},q.prototype._layoutItems=function(a,b){function c(){d.emitEvent("layoutComplete",[d,a])}var d=this;if(!a||!a.length)return void c();this._itemsOn(a,"layout",c);for(var e=[],f=0,g=a.length;g>f;f++){var h=a[f],i=this._getItemLayoutPosition(h);i.item=h,i.isInstant=b||h.isLayoutInstant,e.push(i)}this._processLayoutQueue(e)},q.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},q.prototype._processLayoutQueue=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];this._positionItem(d.item,d.x,d.y,d.isInstant)}},q.prototype._positionItem=function(a,b,c,d){d?a.goTo(b,c):a.moveTo(b,c)},q.prototype._postLayout=function(){this.resizeContainer()},q.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))}},q.prototype._getContainerSize=k,q.prototype._setContainerMeasure=function(a,b){if(void 0!==a){var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth),a=Math.max(a,0),this.element.style[b?"width":"height"]=a+"px"}},q.prototype._itemsOn=function(a,b,c){function d(){return e++,e===f&&c.call(g),!0}for(var e=0,f=a.length,g=this,h=0,i=a.length;i>h;h++){var j=a[h];j.on(b,d)}},q.prototype.ignore=function(a){var b=this.getItem(a);b&&(b.isIgnored=!0)},q.prototype.unignore=function(a){var b=this.getItem(a);b&&delete b.isIgnored},q.prototype.stamp=function(a){if(a=this._find(a)){this.stamps=this.stamps.concat(a);for(var b=0,c=a.length;c>b;b++){var d=a[b];this.ignore(d)}}},q.prototype.unstamp=function(a){if(a=this._find(a))for(var b=0,c=a.length;c>b;b++){var d=a[b];e(d,this.stamps),this.unignore(d)}},q.prototype._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),a=d(a)):void 0},q.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var a=0,b=this.stamps.length;b>a;a++){var c=this.stamps[a];this._manageStamp(c)}}},q.prototype._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}},q.prototype._manageStamp=k,q.prototype._getElementOffset=function(a){var b=a.getBoundingClientRect(),c=this._boundingRect,d=n(a),e={left:b.left-c.left-d.marginLeft,top:b.top-c.top-d.marginTop,right:c.right-b.right-d.marginRight,bottom:c.bottom-b.bottom-d.marginBottom};return e},q.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},q.prototype.bindResize=function(){this.isResizeBound||(c.bind(a,"resize",this),this.isResizeBound=!0)},q.prototype.unbindResize=function(){this.isResizeBound&&c.unbind(a,"resize",this),this.isResizeBound=!1},q.prototype.onresize=function(){function a(){b.resize(),delete b.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var b=this;this.resizeTimeout=setTimeout(a,100)},q.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},q.prototype.needsResizeLayout=function(){var a=n(this.element),b=this.size&&a;return b&&a.innerWidth!==this.size.innerWidth},q.prototype.addItems=function(a){var b=this._itemize(a);return b.length&&(this.items=this.items.concat(b)),b},q.prototype.appended=function(a){var b=this.addItems(a);b.length&&(this.layoutItems(b,!0),this.reveal(b))},q.prototype.prepended=function(a){var b=this._itemize(a);if(b.length){var c=this.items.slice(0);this.items=b.concat(c),this._resetLayout(),this._manageStamps(),this.layoutItems(b,!0),this.reveal(b),this.layoutItems(c)}},q.prototype.reveal=function(a){var b=a&&a.length;if(b)for(var c=0;b>c;c++){var d=a[c];d.reveal()}},q.prototype.hide=function(a){var b=a&&a.length;if(b)for(var c=0;b>c;c++){var d=a[c];d.hide()}},q.prototype.getItem=function(a){for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];if(d.element===a)return d}},q.prototype.getItems=function(a){if(a&&a.length){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c],f=this.getItem(e);f&&b.push(f)}return b}},q.prototype.remove=function(a){a=d(a);var b=this.getItems(a);if(b&&b.length){this._itemsOn(b,"remove",function(){this.emitEvent("removeComplete",[this,b])});for(var c=0,f=b.length;f>c;c++){var g=b[c];g.remove(),e(g,this.items)}}},q.prototype.destroy=function(){var a=this.element.style;a.height="",a.position="",a.width="";for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];d.destroy()}this.unbindResize(),delete this.element.outlayerGUID,j&&j.removeData(this.element,this.constructor.namespace)},q.data=function(a){var b=a&&a.outlayerGUID;return b&&s[b]},q.create=function(a,c){function d(){q.apply(this,arguments)}return Object.create?d.prototype=Object.create(q.prototype):b(d.prototype,q.prototype),d.prototype.constructor=d,d.defaults=b({},q.defaults),b(d.defaults,c),d.prototype.settings={},d.namespace=a,d.data=q.data,d.Item=function(){p.apply(this,arguments)},d.Item.prototype=new p,g(function(){for(var b=f(a),c=h.querySelectorAll(".js-"+b),e="data-"+b+"-options",g=0,k=c.length;k>g;g++){var l,m=c[g],n=m.getAttribute(e);try{l=n&&JSON.parse(n)}catch(o){i&&i.error("Error parsing "+e+" on "+m.nodeName.toLowerCase()+(m.id?"#"+m.id:"")+": "+o);continue}var p=new d(m,l);j&&j.data(m,a,p)}}),j&&j.bridget&&j.bridget(a,d),d},q.Item=p,q}var h=a.document,i=a.console,j=a.jQuery,k=function(){},l=Object.prototype.toString,m="object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName},n=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],g):a.Outlayer=g(a.eventie,a.docReady,a.EventEmitter,a.getSize,a.matchesSelector,a.Outlayer.Item)}(window),function(a){function b(a,b){var d=a.create("masonry");return d.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var a=this.cols;for(this.colYs=[];a--;)this.colYs.push(0);this.maxY=0},d.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0],c=a&&a.element;this.columnWidth=c&&b(c).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},d.prototype.getContainerWidth=function(){var a=this.options.isFitWidth?this.element.parentNode:this.element,c=b(a);this.containerWidth=c&&c.innerWidth},d.prototype._getItemLayoutPosition=function(a){a.getSize();var b=a.size.outerWidth%this.columnWidth,d=b&&1>b?"round":"ceil",e=Math[d](a.size.outerWidth/this.columnWidth);e=Math.min(e,this.cols);for(var f=this._getColGroup(e),g=Math.min.apply(Math,f),h=c(f,g),i={x:this.columnWidth*h,y:g},j=g+a.size.outerHeight,k=this.cols+1-f.length,l=0;k>l;l++)this.colYs[h+l]=j;return i},d.prototype._getColGroup=function(a){if(2>a)return this.colYs;for(var b=[],c=this.cols+1-a,d=0;c>d;d++){var e=this.colYs.slice(d,d+a);b[d]=Math.max.apply(Math,e)}return b},d.prototype._manageStamp=function(a){var c=b(a),d=this._getElementOffset(a),e=this.options.isOriginLeft?d.left:d.right,f=e+c.outerWidth,g=Math.floor(e/this.columnWidth);g=Math.max(0,g);var h=Math.floor(f/this.columnWidth);h-=f%this.columnWidth?0:1,h=Math.min(this.cols-1,h);for(var i=(this.options.isOriginTop?d.top:d.bottom)+c.outerHeight,j=g;h>=j;j++)this.colYs[j]=Math.max(i,this.colYs[j])},d.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this.options.isFitWidth&&(a.width=this._getContainerFitWidth()),a},d.prototype._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter},d.prototype.needsResizeLayout=function(){var a=this.containerWidth;return this.getContainerWidth(),a!==this.containerWidth},d}var c=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++){var e=a[c];if(e===b)return c}return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],b):a.Masonry=b(a.Outlayer,a.getSize)}(window);

!function(a,b,c){"use strict";var d=b.Modernizr;a("body");a.DLMenu=function(b,c){this.$el=a(c),this._init(b)},a.DLMenu.defaults={animationClasses:{classin:"dl-animate-in-2",classout:"dl-animate-out-2"},onLevelClick:function(a,b){return!1},onLinkClick:function(a,b){return!1}},a.DLMenu.prototype={_init:function(b){this.options=a.extend(!0,{},a.DLMenu.defaults,b),this._config();var c={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};this.animEndEventName=c[d.prefixed("animation")]+".dlmenu",this.transEndEventName=e[d.prefixed("transition")]+".dlmenu",this.supportAnimations=!1,this.supportTransitions=d.csstransitions,this._initEvents()},_config:function(){this.open=!1,this.initialstate=this,this.currentstate=this.initialstate,this.$trigger=this.$el.find(".dl-trigger"),this.$menu=this.$el.find("ul.dl-menu"),this.$menuitems=this.$menu.find("li:not(.dl-back)"),this.$menulinks=this.$menu.find("li:not(.dl-back) a.gt"),this.$back=this.$el.find(".dl-back"),this.$presetitem=this.$menu.find(".dl-currentlevel")},hideBackLink:function(){var a=this.$back;a.children(".dl-backtext").empty().hide(),a.children(".dl-backicon").hide(),a.children(".nav-text-main").show(),a.attr("href",a.data("href")),a.data("hasHomeIcon")&&a.addClass("icon-Home")},showBackLink:function(a){this.$back.children(".dl-backtext").show().text(a),this.$back.children(".dl-backicon").show(),this.$back.children(".nav-text-main").hide(),this.$back.removeClass("icon-Home"),this.$back.attr("href","#")},_initEvents:function(){var b=this.currentstate;this.$trigger.on("click.dlmenu",function(){b.open?b._closeMenu():b._openMenu()}),this.$menulinks.on("click.dlmenu",function(c){var d=a(this).parent(),e=d.children("ul.dl-submenu");if(e.length>0){var f=e.clone().css("opacity",1).insertAfter(b.$menu),g=function(){b.$menu.off(b.animEndEventName).removeClass(b.options.animationClasses.classout),d.addClass("dl-subviewopen").parentsUntil(".dl-menu","li").removeClass("dl-subviewopen").addClass("dl-subview"),f.remove(),b.showBackLink(d.children("a.backtag").text())};setTimeout(function(){b.$menu.addClass("dl-subview"),d.addClass("dl-subviewopen").parentsUntil(".dl-menu","li").removeClass("dl-subviewopen").addClass("dl-subview"),f.addClass(b.options.animationClasses.classin),b.$menu.addClass(b.options.animationClasses.classout),b.supportAnimations?b.$menu.on(b.animEndEventName,g):g.call(),b.options.onLevelClick(d,d.children("a:first").text())}),b.options.onLinkClick(d,c)}}),this.$back.on("click.dlback",function(a){var c=b.$menu.find(".dl-subviewopen .dl-submenu"),d=c.parent(),e=c.clone().insertAfter(b.$menu),f=function(){b.$menu.off(b.animEndEventName).removeClass(b.options.animationClasses.classin),e.remove();var a=d.closest("li.dl-subview");a&&1===a.length?b.showBackLink(a.children("a.backtag").text()):b.hideBackLink()};setTimeout(function(){e.addClass(b.options.animationClasses.classout),b.$menu.addClass(b.options.animationClasses.classin),b.supportAnimations?b.$menu.on(b.animEndEventName,f):f.call(),d.removeClass("dl-subviewopen");var a=d.parents(".dl-subview:first");a.is("li")&&a.addClass("dl-subviewopen"),a.removeClass("dl-subview")})})},closeMenu:function(){this.open&&this._closeMenu()},_closeMenu:function(){var a=this,b=function(){a.$menu.off(a.transEndEventName),a._resetMenu()};this.$menu.removeClass("dl-menuopen"),this.$menu.addClass("dl-menu-toggle"),this.$trigger.removeClass("dl-active"),this.supportTransitions?this.$menu.on(this.transEndEventName,b):b.call(),this.open=!1,a.hideBackLink()},openMenu:function(){this.open||this._openMenu()},_openMenu:function(){var b=this.currentstate;this.$menu.addClass("dl-menuopen dl-menu-toggle").on(this.transEndEventName,function(){a(this).removeClass("dl-menu-toggle")}),this.$trigger.addClass("dl-active"),this.open=!0,b.$presetitem&&(this.$back.data("href",this.$back.attr("href")),this.$back.attr("href","#"),this.$back.data("hasHomeIcon",this.$back.hasClass("icon-Home")),b.$presetitem.parent().parent().children("a.gt").trigger("click.dlmenu"))},_resetMenu:function(){this.$menu.removeClass("dl-subview"),this.$menuitems.removeClass("dl-subview dl-subviewopen"),this.currentstate=this.initialstate}};var e=function(a){b.console&&b.console.error(a)};a.fn.dlmenu=function(b){if("string"==typeof b){var c=Array.prototype.slice.call(arguments,1);this.each(function(){var d=a.data(this,"dlmenu");return d?a.isFunction(d[b])&&"_"!==b.charAt(0)?void d[b].apply(d,c):void e("no such method '"+b+"' for dlmenu instance"):void e("cannot call methods on dlmenu prior to initialization; attempted to call method '"+b+"'")})}else this.each(function(){var c=a.data(this,"dlmenu");c?c._init():c=a.data(this,"dlmenu",new a.DLMenu(b,this))});return this}}(jQuery,window);

/**
 * HideSeek jQuery plugin
 *
 * @copyright Copyright 2015, Dimitris Krestos
 * @license   Apache License, Version 2.0 (http://www.opensource.org/licenses/apache2.0.php)
 * @link      http://vdw.staytuned.gr
 * @version   v0.7.1
 *
 * Dependencies are include in minified versions at the bottom:
 * 1. Highlight v4 by Johann Burkard
 *
 */

!function(e){"use strict";e.fn.hideseek=function(t){var s={list:".hideseek-data",nodata:"",attribute:"text",highlight:!1,ignore:"",headers:"",navigation:!1,ignore_accents:!1,hidden_mode:!1,min_chars:1},t=e.extend(s,t);return this.each(function(){var s=e(this);s.opts=[],e.map(["list","nodata","attribute","highlight","ignore","headers","navigation","ignore_accents","hidden_mode","min_chars"],function(e){s.opts[e]=s.data(e)||t[e]}),s.opts.headers&&(s.opts.ignore+=s.opts.ignore?", "+s.opts.headers:s.opts.headers);var i=e(s.opts.list);s.opts.navigation&&s.attr("autocomplete","off"),s.opts.hidden_mode&&i.children().hide(),s.keyup(function(t){function n(e){return e.children(".selected:visible")}function o(e){return n(e).prevAll(":visible:first")}function a(e){return n(e).nextAll(":visible:first")}if(-1==[38,40,13].indexOf(t.keyCode)&&(8!=t.keyCode?s.val().length>=s.opts.min_chars:!0)){var r=s.val().toLowerCase();i.children(s.opts.ignore.trim()?":not("+s.opts.ignore+")":"").removeClass("selected").each(function(){var t=("text"!=s.opts.attribute?e(this).attr(s.opts.attribute)||"":e(this).text()).toLowerCase(),i=-1==t.removeAccents(s.opts.ignore_accents).indexOf(r)||r===(s.opts.hidden_mode?"":!1);i?e(this).hide():s.opts.highlight?e(this).removeHighlight().highlight(r).show():e(this).show(),s.trigger("_after_each")}),s.opts.nodata&&(i.find(".no-results").remove(),i.children(':not([style*="display: none"])').length||(i.children().first().clone().removeHighlight().addClass("no-results").show().prependTo(s.opts.list).text(s.opts.nodata),s.trigger("_after_nodata"))),s.opts.headers&&e(s.opts.headers,i).each(function(){e(this).nextUntil(s.opts.headers).not('[style*="display: none"],'+s.opts.ignore).length?e(this).show():e(this).hide(5000)}),s.trigger("_after")}s.opts.navigation&&(38==t.keyCode?n(i).length?(o(i).addClass("selected"),n(i).last().removeClass("selected")):i.children(":visible").last().addClass("selected"):40==t.keyCode?n(i).length?(a(i).addClass("selected"),n(i).first().removeClass("selected")):i.children(":visible").first().addClass("selected"):13==t.keyCode&&(n(i).find("a").length?document.location=n(i).find("a").attr("href"):s.val(n(i).text())))})})},e(document).ready(function(){e('[data-toggle="hideseek"]').hideseek()})}(jQuery);

/*
highlight v4
Highlights arbitrary terms.
<http://johannburkard.de/blog/programming/javascript/highlight-javascript-text-higlighting-jquery-plugin.html>
MIT license.
Johann Burkard
<http://johannburkard.de>
<mailto:jb@eaio.com>
*/
jQuery.fn.highlight=function(t){function e(t,i){var n=0;if(3==t.nodeType){var a=t.data.removeAccents(true).toUpperCase().indexOf(i);if(a>=0){var s=document.createElement("mark");s.className="highlight";var r=t.splitText(a);r.splitText(i.length);var o=r.cloneNode(!0);s.appendChild(o),r.parentNode.replaceChild(s,r),n=1}}else if(1==t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var h=0;h<t.childNodes.length;++h)h+=e(t.childNodes[h],i);return n}return this.length&&t&&t.length?this.each(function(){e(this,t.toUpperCase())}):this},jQuery.fn.removeHighlight=function(){return this.find("mark.highlight").each(function(){with(this.parentNode.firstChild.nodeName,this.parentNode)replaceChild(this.firstChild,this),normalize()}).end()};

// Ignore accents
// Attention: The Unicode characters are CMS9 related changes so the Characters get rendered correct
String.prototype.removeAccents=function(e){return e?this.replace(/[\u00E1\u00E0\u00E3\u00E2\u00E4]/gi,"a").replace(/[\u00E9\u00E8\u00A8\u00EA]/gi,"e").replace(/[\u00ED\u00EC\u00EF\u00EE]/gi,"i").replace(/[\u00F3\u00F2\u00F6\u00F4\u00F5\u00D6]/gi,"o").replace(/[\u00FA\u00F9\u00FC\u00FB]/gi,"u").replace(/[\u00E7]/gi,"c").replace(/[\u00F1]/gi,"n"):this};


/*!
 * Bootstrap-select v1.6.3 (http://silviomoreto.github.io/bootstrap-select/)
 *
 * Copyright 2013-2014 bootstrap-select
 * Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)
 */
!function(a){"use strict";function b(a,b){return a.toUpperCase().indexOf(b.toUpperCase())>-1}function c(b){var c=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return a.each(c,function(){b=b.replace(this.re,this.ch)}),b}function d(a){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c="(?:"+Object.keys(b).join("|")+")",d=new RegExp(c),e=new RegExp(c,"g"),f=null==a?"":""+a;return d.test(f)?f.replace(e,function(a){return b[a]}):f}function e(b,c){var d=arguments,e=b,b=d[0],c=d[1];[].shift.apply(d),void 0===b&&(b=e);var g,h=this.each(function(){var e=a(this);if(e.is("select")){var h=e.data("selectpicker"),i="object"==typeof b&&b;if(h){if(i)for(var j in i)i.hasOwnProperty(j)&&(h.options[j]=i[j])}else{var k=a.extend({},f.DEFAULTS,a.fn.selectpicker.defaults||{},e.data(),i);e.data("selectpicker",h=new f(this,k,c))}"string"==typeof b&&(g=h[b]instanceof Function?h[b].apply(h,d):h.options[b])}});return void 0!==g?g:h}a.expr[":"].icontains=function(c,d,e){return b(a(c).text(),e[3])},a.expr[":"].aicontains=function(c,d,e){return b(a(c).data("normalizedText")||a(c).text(),e[3])};var f=function(b,c,d){d&&(d.stopPropagation(),d.preventDefault()),this.$element=a(b),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=c,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=f.prototype.val,this.render=f.prototype.render,this.refresh=f.prototype.refresh,this.setStyle=f.prototype.setStyle,this.selectAll=f.prototype.selectAll,this.deselectAll=f.prototype.deselectAll,this.destroy=f.prototype.remove,this.remove=f.prototype.remove,this.show=f.prototype.show,this.hide=f.prototype.hide,this.init()};f.VERSION="1.6.3",f.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results match",countSelectedText:function(a,b){return 1==a?"{0} item selected":"{0} items selected"},maxOptionsText:function(a,b){var c=[];return c[0]=1==a?"Limit reached ({n} item max)":"Limit reached ({n} items max)",c[1]=1==b?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)",c},selectAllText:"Select All",deselectAllText:"Deselect All",multipleSeparator:", ",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,searchAccentInsensitive:!1},f.prototype={constructor:f,init:function(){var b=this,c=this.$element.attr("id");this.$element.hide(),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$menu=this.$newElement.find("> .dropdown-menu"),this.$button=this.$newElement.find("> button"),this.$searchbox=this.$newElement.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==c&&(this.$button.attr("data-id",c),a('label[for="'+c+'"]').click(function(a){a.preventDefault(),b.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.liHeight(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile()},createDropdown:function(){var b=this.multiple?" show-tick":"",c=this.$element.parent().hasClass("input-group")?" input-group-btn":"",d=this.autofocus?" autofocus":"",e=this.$element.parents().hasClass("form-group-lg")?" btn-lg":this.$element.parents().hasClass("form-group-sm")?" btn-sm":"",f=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",g=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="input-block-level form-control" autocomplete="off" /></div>':"",h=this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-block"><button class="actions-btn bs-select-all btn btn-sm btn-default">'+this.options.selectAllText+'</button><button class="actions-btn bs-deselect-all btn btn-sm btn-default">'+this.options.deselectAllText+"</button></div></div>":"";return a('<div class="btn-group bootstrap-select'+b+c+'"><button type="button" class="btn dropdown-toggle selectpicker'+e+'" data-toggle="dropdown"'+d+'><span class="filter-option pull-left"></span>&nbsp;<span class="caretBlock"></span><span class="caret"></span></button><div class="dropdown-menu open">'+f+g+h+'<ul class="dropdown-menu inner selectpicker" role="menu"></ul></div></div>')},createView:function(){var a=this.createDropdown(),b=this.createLi();return a.find("ul").append(b),a},reloadLi:function(){this.destroyLi();var a=this.createLi();this.$menu.find("ul").append(a)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var b=this,e=[],f=0,g=function(a,b,c){return"<li"+(void 0!==c?' class="'+c+'"':"")+(void 0!==b|null===b?' data-original-index="'+b+'"':"")+">"+a+"</li>"},h=function(a,e,f,g){var h=c(d(a));return'<a tabindex="0"'+(void 0!==e?' class="'+e+'"':"")+(void 0!==f?' style="'+f+'"':"")+(void 0!==g?'data-optgroup="'+g+'"':"")+' data-normalized-text="'+h+'">'+a+'<span class="'+b.options.iconBase+" "+b.options.tickIcon+' check-mark"></span></a>'};return this.$element.find("option").each(function(){var c=a(this),d=c.attr("class")||"",i=c.attr("style"),j=c.data("content")?c.data("content"):c.html(),k=void 0!==c.data("subtext")?'<small class="muted text-muted">'+c.data("subtext")+"</small>":"",l=void 0!==c.data("icon")?'<span class="'+b.options.iconBase+" "+c.data("icon")+'"></span> ':"",m=c.is(":disabled")||c.parent().is(":disabled"),n=c[0].index;if(""!==l&&m&&(l="<span>"+l+"</span>"),c.data("content")||(j=l+'<span class="text">'+j+k+"</span>"),!b.options.hideDisabled||!m)if(c.parent().is("optgroup")&&!0!==c.data("divider")){if(0===c.index()){f+=1;var o=c.parent().attr("label"),p=void 0!==c.parent().data("subtext")?'<small class="muted text-muted">'+c.parent().data("subtext")+"</small>":"",q=c.parent().data("icon")?'<span class="'+b.options.iconBase+" "+c.parent().data("icon")+'"></span> ':"";o=q+'<span class="text">'+o+p+"</span>",0!==n&&e.length>0&&e.push(g("",null,"divider")),e.push(g(o,null,"dropdown-header"))}e.push(g(h(j,"opt "+d,i,f),n))}else!0===c.data("divider")?e.push(g("",n,"divider")):!0===c.data("hidden")?e.push(g(h(j,d,i),n,"hide is-hidden")):e.push(g(h(j,d,i),n))}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),a(e.join(""))},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(b){var c=this;!1!==b&&this.$element.find("option").each(function(b){c.setDisabled(b,a(this).is(":disabled")||a(this).parent().is(":disabled")),c.setSelected(b,a(this).is(":selected"))}),this.tabIndex();var e=this.options.hideDisabled?":not([disabled])":"",f=this.$element.find("option:selected"+e).map(function(){var b,d=a(this),e=d.data("icon")&&c.options.showIcon?'<i class="'+c.options.iconBase+" "+d.data("icon")+'"></i> ':"";return b=c.options.showSubtext&&d.attr("data-subtext")&&!c.multiple?' <small class="muted text-muted">'+d.data("subtext")+"</small>":"",d.data("content")&&c.options.showContent?d.data("content"):void 0!==d.attr("title")?d.attr("title"):e+d.html()+b}).toArray(),g=this.multiple?f.join(this.options.multipleSeparator):f[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var h=this.options.selectedTextFormat.split(">");if(h.length>1&&f.length>h[1]||1==h.length&&f.length>=2){e=this.options.hideDisabled?", [disabled]":"";var i=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+e).length;g=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(f.length,i):this.options.countSelectedText).replace("{0}",f.length.toString()).replace("{1}",i.toString())}}this.options.title=this.$element.attr("title"),"static"==this.options.selectedTextFormat&&(g=this.options.title),g||(g=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",d(g)),this.$newElement.find(".filter-option").html(g)},setStyle:function(a,b){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|validate\[.*\]/gi,""));var c=a||this.options.style;"add"==b?this.$button.addClass(c):"remove"==b?this.$button.removeClass(c):(this.$button.removeClass(this.options.style),this.$button.addClass(c))},liHeight:function(){if(!1!==this.options.size){var a=this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus",!1).end().appendTo("body"),b=a.addClass("open").find("> .dropdown-menu"),c=b.find("li").not(".divider").not(".dropdown-header").filter(":visible").children("a").outerHeight(),d=this.options.header?b.find(".popover-title").outerHeight():0,e=this.options.liveSearch?b.find(".bs-searchbox").outerHeight():0,f=this.options.actionsBox?b.find(".bs-actionsbox").outerHeight():0;a.remove(),this.$newElement.data("liHeight",c).data("headerHeight",d).data("searchHeight",e).data("actionsHeight",f)}},setSize:function(){this.findLis();var b,c,d,e=this,f=this.$menu,g=f.find(".inner"),h=this.$newElement.outerHeight(),i=this.$newElement.data("liHeight"),j=this.$newElement.data("headerHeight"),k=this.$newElement.data("searchHeight"),l=this.$newElement.data("actionsHeight"),m=this.$lis.filter(".divider").outerHeight(!0),n=parseInt(f.css("padding-top"))+parseInt(f.css("padding-bottom"))+parseInt(f.css("border-top-width"))+parseInt(f.css("border-bottom-width")),o=this.options.hideDisabled?", .disabled":"",p=a(window),q=n+parseInt(f.css("margin-top"))+parseInt(f.css("margin-bottom"))+2,r=function(){c=e.$newElement.offset().top-p.scrollTop(),d=p.height()-c-h};if(r(),this.options.header&&f.css("padding-top",0),"auto"==this.options.size){var s=function(){var a,h=e.$lis.not(".hide");r(),b=d-q,e.options.dropupAuto&&e.$newElement.toggleClass("dropup",c>d&&b-q<f.height()),e.$newElement.hasClass("dropup")&&(b=c-q),a=h.length+h.filter(".dropdown-header").length>3?3*i+q-2:0,f.css({"max-height":b+"px",overflow:"hidden","min-height":a+j+k+l+"px"}),g.css({"max-height":b-j-k-l-n+"px","overflow-y":"auto","min-height":Math.max(a-n,0)+"px"})};s(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",s),a(window).off("resize.getSize").on("resize.getSize",s),a(window).off("scroll.getSize").on("scroll.getSize",s)}else if(this.options.size&&"auto"!=this.options.size&&f.find("li"+o).length>this.options.size){var t=this.$lis.not(".divider"+o).find(" > *").slice(0,this.options.size).last().parent().index(),u=this.$lis.slice(0,t+1).filter(".divider").length;b=i*this.options.size+u*m+n,e.options.dropupAuto&&this.$newElement.toggleClass("dropup",c>d&&b<f.height()),f.css({"max-height":b+j+k+l+"px",overflow:"hidden"}),g.css({"max-height":b-n+"px","overflow-y":"auto"})}},setWidth:function(){if("auto"==this.options.width){this.$menu.css("min-width","0");var a=this.$newElement.clone().appendTo("body"),b=a.find("> .dropdown-menu").css("width"),c=a.css("width","auto").find("> button").css("width");a.remove(),this.$newElement.css("width",Math.max(parseInt(b),parseInt(c))+"px")}else"fit"==this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var b,c,d=this,e="<div />",f=a(e),g=function(a){f.addClass(a.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",a.hasClass("dropup")),b=a.offset(),c=a.hasClass("dropup")?0:a[0].offsetHeight,f.css({top:b.top+c,left:b.left,width:a[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){d.isDisabled()||(g(a(this)),f.appendTo(d.options.container),f.toggleClass("open",!a(this).hasClass("open")),f.append(d.$menu))}),a(window).resize(function(){g(d.$newElement)}),a(window).on("scroll",function(){g(d.$newElement)}),a("html").on("click",function(b){a(b.target).closest(d.$newElement).length<1&&f.removeClass("open")})},setSelected:function(a,b){this.findLis(),this.$lis.filter('[data-original-index="'+a+'"]').toggleClass("selected",b)},setDisabled:function(a,b){this.findLis(),b?this.$lis.filter('[data-original-index="'+a+'"]').addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):this.$lis.filter('[data-original-index="'+a+'"]').removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var a=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),-1==this.$button.attr("tabindex")&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))),this.$button.click(function(){return!a.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var b=this;this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(a){a.stopPropagation()}),this.$newElement.on("click",function(){b.setSize(),b.options.liveSearch||b.multiple||setTimeout(function(){b.$menu.find(".selected a").focus()},10)}),this.$menu.on("click","li a",function(c){var d=a(this),e=d.parent().data("originalIndex"),f=b.$element.val(),g=b.$element.prop("selectedIndex");if(b.multiple&&c.stopPropagation(),c.preventDefault(),!b.isDisabled()&&!d.parent().hasClass("disabled")){var h=b.$element.find("option"),i=h.eq(e),j=i.prop("selected"),k=i.parent("optgroup"),l=b.options.maxOptions,m=k.data("maxOptions")||!1;if(b.multiple){if(i.prop("selected",!j),b.setSelected(e,!j),d.blur(),!1!==l||!1!==m){var n=l<h.filter(":selected").length,o=m<k.find("option:selected").length;if(l&&n||m&&o)if(l&&1==l)h.prop("selected",!1),i.prop("selected",!0),b.$menu.find(".selected").removeClass("selected"),b.setSelected(e,!0);else if(m&&1==m){k.find("option:selected").prop("selected",!1),i.prop("selected",!0);var p=d.data("optgroup");b.$menu.find(".selected").has('a[data-optgroup="'+p+'"]').removeClass("selected"),b.setSelected(e,!0)}else{var q="function"==typeof b.options.maxOptionsText?b.options.maxOptionsText(l,m):b.options.maxOptionsText,r=q[0].replace("{n}",l),s=q[1].replace("{n}",m),t=a('<div class="notify"></div>');q[2]&&(r=r.replace("{var}",q[2][l>1?0:1]),s=s.replace("{var}",q[2][m>1?0:1])),i.prop("selected",!1),b.$menu.append(t),l&&n&&(t.append(a("<div>"+r+"</div>")),b.$element.trigger("maxReached.bs.select")),m&&o&&(t.append(a("<div>"+s+"</div>")),b.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){b.setSelected(e,!1)},10),t.delay(750).fadeOut(300,function(){a(this).remove()})}}}else h.prop("selected",!1),i.prop("selected",!0),b.$menu.find(".selected").removeClass("selected"),b.setSelected(e,!0);b.multiple?b.options.liveSearch&&b.$searchbox.focus():b.$button.focus(),(f!=b.$element.val()&&b.multiple||g!=b.$element.prop("selectedIndex")&&!b.multiple)&&b.$element.change()}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(a){a.target==this&&(a.preventDefault(),a.stopPropagation(),b.options.liveSearch?b.$searchbox.focus():b.$button.focus())}),this.$menu.on("click","li.divider, li.dropdown-header",function(a){a.preventDefault(),a.stopPropagation(),b.options.liveSearch?b.$searchbox.focus():b.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){b.$button.focus()}),this.$searchbox.on("click",function(a){a.stopPropagation()}),this.$menu.on("click",".actions-btn",function(c){b.options.liveSearch?b.$searchbox.focus():b.$button.focus(),c.preventDefault(),c.stopPropagation(),a(this).is(".bs-select-all")?b.selectAll():b.deselectAll(),b.$element.change()}),this.$element.change(function(){b.render(!1)})},liveSearchListener:function(){var b=this,e=a('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){b.$menu.find(".active").removeClass("active"),b.$searchbox.val()&&(b.$searchbox.val(""),b.$lis.not(".is-hidden").removeClass("hide"),e.parent().length&&e.remove()),b.multiple||b.$menu.find(".selected").addClass("active"),setTimeout(function(){b.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(a){a.stopPropagation()}),this.$searchbox.on("input propertychange",function(){b.$searchbox.val()?(b.options.searchAccentInsensitive?b.$lis.not(".is-hidden").removeClass("hide").find("a").not(":aicontains("+c(b.$searchbox.val())+")").parent().addClass("hide"):b.$lis.not(".is-hidden").removeClass("hide").find("a").not(":icontains("+b.$searchbox.val()+")").parent().addClass("hide"),b.$menu.find("li").filter(":visible:not(.no-results)").length?e.parent().length&&e.remove():(e.parent().length&&e.remove(),e.html(b.options.noneResultsText+' "'+d(b.$searchbox.val())+'"').show(),b.$menu.find("li").last().after(e))):(b.$lis.not(".is-hidden").removeClass("hide"),e.parent().length&&e.remove()),b.$menu.find("li.active").removeClass("active"),b.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus(),a(this).focus()})},val:function(a){return void 0!==a?(this.$element.val(a),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis(),this.$lis.not(".divider").not(".disabled").not(".selected").filter(":visible").find("a").click()},deselectAll:function(){this.findLis(),this.$lis.not(".divider").not(".disabled").filter(".selected").filter(":visible").find("a").click()},keydown:function(b){var d,e,f,g,h,i,j,k,l,m=a(this),n=m.is("input")?m.parent().parent():m.parent(),o=n.data("this"),p={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(o.options.liveSearch&&(n=m.parent().parent()),o.options.container&&(n=o.$menu),d=a("[role=menu] li a",n),l=o.$menu.parent().hasClass("open"),!l&&/([0-9]|[A-z])/.test(String.fromCharCode(b.keyCode))&&(o.options.container?o.$newElement.trigger("click"):(o.setSize(),o.$menu.parent().addClass("open"),l=!0),o.$searchbox.focus()),o.options.liveSearch&&(/(^9$|27)/.test(b.keyCode.toString(10))&&l&&0===o.$menu.find(".active").length&&(b.preventDefault(),o.$menu.parent().removeClass("open"),o.$button.focus()),d=a("[role=menu] li:not(.divider):not(.dropdown-header):visible",n),m.val()||/(38|40)/.test(b.keyCode.toString(10))||0===d.filter(".active").length&&(d=o.options.searchAccentInsensitive?o.$newElement.find("li").filter(":aicontains("+c(p[b.keyCode])+")"):o.$newElement.find("li").filter(":icontains("+p[b.keyCode]+")"))),d.length){if(/(38|40)/.test(b.keyCode.toString(10)))e=d.index(d.filter(":focus")),g=d.parent(":not(.disabled):visible").first().index(),h=d.parent(":not(.disabled):visible").last().index(),f=d.eq(e).parent().nextAll(":not(.disabled):visible").eq(0).index(),i=d.eq(e).parent().prevAll(":not(.disabled):visible").eq(0).index(),j=d.eq(f).parent().prevAll(":not(.disabled):visible").eq(0).index(),o.options.liveSearch&&(d.each(function(b){a(this).is(":not(.disabled)")&&a(this).data("index",b)}),e=d.index(d.filter(".active")),g=d.filter(":not(.disabled):visible").first().data("index"),h=d.filter(":not(.disabled):visible").last().data("index"),f=d.eq(e).nextAll(":not(.disabled):visible").eq(0).data("index"),i=d.eq(e).prevAll(":not(.disabled):visible").eq(0).data("index"),j=d.eq(f).prevAll(":not(.disabled):visible").eq(0).data("index")),k=m.data("prevIndex"),38==b.keyCode&&(o.options.liveSearch&&(e-=1),e!=j&&e>i&&(e=i),e<g&&(e=g),e==k&&(e=h)),40==b.keyCode&&(o.options.liveSearch&&(e+=1),-1==e&&(e=0),e!=j&&e<f&&(e=f),e>h&&(e=h),e==k&&(e=g)),m.data("prevIndex",e),o.options.liveSearch?(b.preventDefault(),m.is(".dropdown-toggle")||(d.removeClass("active"),d.eq(e).addClass("active").find("a").focus(),m.focus())):d.eq(e).focus();else if(!m.is("input")){var q,r,s=[];d.each(function(){a(this).parent().is(":not(.disabled)")&&a.trim(a(this).text().toLowerCase()).substring(0,1)==p[b.keyCode]&&s.push(a(this).parent().index())}),q=a(document).data("keycount"),q++,a(document).data("keycount",q),r=a.trim(a(":focus").text().toLowerCase()).substring(0,1),r!=p[b.keyCode]?(q=1,a(document).data("keycount",q)):q>=s.length&&(a(document).data("keycount",0),q>s.length&&(q=1)),d.eq(s[q-1]).focus()}(/(13|32)/.test(b.keyCode.toString(10))||/(^9$)/.test(b.keyCode.toString(10))&&o.options.selectOnTab)&&l&&(/(32)/.test(b.keyCode.toString(10))||b.preventDefault(),o.options.liveSearch?/(32)/.test(b.keyCode.toString(10))||(o.$menu.find(".active a").click(),m.focus()):a(":focus").click(),a(document).data("keycount",0)),(/(^9$|27)/.test(b.keyCode.toString(10))&&l&&(o.multiple||o.options.liveSearch)||/(27)/.test(b.keyCode.toString(10))&&!l)&&(o.$menu.parent().removeClass("open"),o.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},update:function(){this.reloadLi(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()}};var g=a.fn.selectpicker;a.fn.selectpicker=e,a.fn.selectpicker.Constructor=f,a.fn.selectpicker.noConflict=function(){return a.fn.selectpicker=g,this},a(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",f.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",function(a){a.stopPropagation()}),a(window).on("load.bs.select.data-api",function(){a(".selectpicker").each(function(){var b=a(this);e.call(b,b.data())})})}(jQuery);

!function(){"use strict";/**
	 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
	 *
	 * @codingstandard ftlabs-jsv2
	 * @copyright The Financial Times Limited [All Rights Reserved]
	 * @license MIT License (see LICENSE.txt)
	 */
function a(b,d){function e(a,b){return function(){return a.apply(b,arguments)}}var f;if(d=d||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=d.touchBoundary||10,this.layer=b,this.tapDelay=d.tapDelay||200,this.tapTimeout=d.tapTimeout||700,!a.notNeeded(b)){for(var g=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],h=this,i=0,j=g.length;i<j;i++)h[g[i]]=e(h[g[i]],h);c&&(b.addEventListener("mouseover",this.onMouse,!0),b.addEventListener("mousedown",this.onMouse,!0),b.addEventListener("mouseup",this.onMouse,!0)),b.addEventListener("click",this.onClick,!0),b.addEventListener("touchstart",this.onTouchStart,!1),b.addEventListener("touchmove",this.onTouchMove,!1),b.addEventListener("touchend",this.onTouchEnd,!1),b.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(b.removeEventListener=function(a,c,d){var e=Node.prototype.removeEventListener;"click"===a?e.call(b,a,c.hijacked||c,d):e.call(b,a,c,d)},b.addEventListener=function(a,c,d){var e=Node.prototype.addEventListener;"click"===a?e.call(b,a,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(b,a,c,d)}),"function"==typeof b.onclick&&(f=b.onclick,b.addEventListener("click",function(a){f(a)},!1),b.onclick=null)}}var b=navigator.userAgent.indexOf("Windows Phone")>=0,c=navigator.userAgent.indexOf("Android")>0&&!b,d=/iP(ad|hone|od)/.test(navigator.userAgent)&&!b,e=d&&/OS 4_\d(_\d)?/.test(navigator.userAgent),f=d&&/OS [6-7]_\d/.test(navigator.userAgent),g=navigator.userAgent.indexOf("BB10")>0;a.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(d&&"file"===a.type||a.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(a.className)},a.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!c;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},a.prototype.sendClick=function(a,b){var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent(this.determineEventType(a),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},a.prototype.determineEventType=function(a){return c&&"select"===a.tagName.toLowerCase()?"mousedown":"click"},a.prototype.focus=function(a){var b;d&&a.setSelectionRange&&0!==a.type.indexOf("date")&&"time"!==a.type&&"month"!==a.type?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},a.prototype.updateScrollParent=function(a){var b,c;if(!(b=a.fastClickScrollParent)||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},a.prototype.getTargetElementFromEventTarget=function(a){return a.nodeType===Node.TEXT_NODE?a.parentNode:a},a.prototype.onTouchStart=function(a){var b,c,f;if(a.targetTouches.length>1)return!0;if(b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0],d){if(f=window.getSelection(),f.rangeCount&&!f.isCollapsed)return!0;if(!e){if(c.identifier&&c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<this.tapDelay&&a.preventDefault(),!0},a.prototype.touchHasMoved=function(a){var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c},a.prototype.onTouchMove=function(a){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))&&(this.trackingClick=!1,this.targetElement=null),!0)},a.prototype.findControl=function(a){return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},a.prototype.onTouchEnd=function(a){var b,g,h,i,j,k=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(a.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=a.timeStamp,g=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,f&&(j=a.changedTouches[0],k=document.elementFromPoint(j.pageX-window.pageXOffset,j.pageY-window.pageYOffset)||k,k.fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(h=k.tagName.toLowerCase())){if(b=this.findControl(k)){if(this.focus(k),c)return!1;k=b}}else if(this.needsFocus(k))return a.timeStamp-g>100||d&&window.top!==window&&"input"===h?(this.targetElement=null,!1):(this.focus(k),this.sendClick(k,a),d&&"select"===h||(this.targetElement=null,a.preventDefault()),!1);return!(!d||e||!(i=k.fastClickScrollParent)||i.fastClickLastScrollTop===i.scrollTop)||(this.needsClick(k)||(a.preventDefault(),this.sendClick(k,a)),!1)},a.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},a.prototype.onMouse=function(a){return!this.targetElement||(!!a.forwardedTouchEvent||(!a.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1))))},a.prototype.onClick=function(a){var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===a.target.type&&0===a.detail||(b=this.onMouse(a),b||(this.targetElement=null),b)},a.prototype.destroy=function(){var a=this.layer;c&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},a.notNeeded=function(a){var b,d,e;if(void 0===window.ontouchstart)return!0;if(d=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!c)return!0;if(b=document.querySelector("meta[name=viewport]")){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(d>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(g&&(e=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),e[1]>=10&&e[2]>=3&&(b=document.querySelector("meta[name=viewport]")))){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===a.style.msTouchAction||"none"===a.style.touchAction},a.attach=function(b,c){return new a(b,c)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?(module.exports=a.attach,module.exports.FastClick=a):window.FastClick=a}();

(function($){$.extend({tablesorter:new
function(){var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:'/\.|\,/g',onRenderHeader:null,selectorHeaders:'thead th',debug:false};function benchmark(s,d){log(s+","+(new Date().getTime()-d.getTime())+"ms");}this.benchmark=benchmark;function log(s){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.log(s);}else{alert(s);}}function buildParserCache(table,$headers){if(table.config.debug){var parsersDebug="";}if(table.tBodies.length==0)return;var rows=table.tBodies[0].rows;if(rows[0]){var list=[],cells=rows[0].cells,l=cells.length;for(var i=0;i<l;i++){var p=false;if($.metadata&&($($headers[i]).metadata()&&$($headers[i]).metadata().sorter)){p=getParserById($($headers[i]).metadata().sorter);}else if((table.config.headers[i]&&table.config.headers[i].sorter)){p=getParserById(table.config.headers[i].sorter);}if(!p){p=detectParserForColumn(table,rows,-1,i);}if(table.config.debug){parsersDebug+="column:"+i+" parser:"+p.id+"\n";}list.push(p);}}if(table.config.debug){log(parsersDebug);}return list;};function detectParserForColumn(table,rows,rowIndex,cellIndex){var l=parsers.length,node=false,nodeValue=false,keepLooking=true;while(nodeValue==''&&keepLooking){rowIndex++;if(rows[rowIndex]){node=getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex);nodeValue=trimAndGetNodeText(table.config,node);if(table.config.debug){log('Checking if value was empty on row:'+rowIndex);}}else{keepLooking=false;}}for(var i=1;i<l;i++){if(parsers[i].is(nodeValue,table,node)){return parsers[i];}}return parsers[0];}function getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex){return rows[rowIndex].cells[cellIndex];}function trimAndGetNodeText(config,node){return $.trim(getElementText(config,node));}function getParserById(name){var l=parsers.length;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==name.toLowerCase()){return parsers[i];}}return false;}function buildCache(table){if(table.config.debug){var cacheTime=new Date();}var totalRows=(table.tBodies[0]&&table.tBodies[0].rows.length)||0,totalCells=(table.tBodies[0].rows[0]&&table.tBodies[0].rows[0].cells.length)||0,parsers=table.config.parsers,cache={row:[],normalized:[]};for(var i=0;i<totalRows;++i){var c=$(table.tBodies[0].rows[i]),cols=[];if(c.hasClass(table.config.cssChildRow)){cache.row[cache.row.length-1]=cache.row[cache.row.length-1].add(c);continue;}cache.row.push(c);for(var j=0;j<totalCells;++j){cols.push(parsers[j].format(getElementText(table.config,c[0].cells[j]),table,c[0].cells[j]));}cols.push(cache.normalized.length);cache.normalized.push(cols);cols=null;};if(table.config.debug){benchmark("Building cache for "+totalRows+" rows:",cacheTime);}return cache;};function getElementText(config,node){var text="";if(!node)return"";if(!config.supportsTextContent)config.supportsTextContent=node.textContent||false;if(config.textExtraction=="simple"){if(config.supportsTextContent){text=node.textContent;}else{if(node.childNodes[0]&&node.childNodes[0].hasChildNodes()){text=node.childNodes[0].innerHTML;}else{text=node.innerHTML;}}}else{if(typeof(config.textExtraction)=="function"){text=config.textExtraction(node);}else{text=$(node).text();}}return text;}function appendToTable(table,cache){if(table.config.debug){var appendTime=new Date()}var c=cache,r=c.row,n=c.normalized,totalRows=n.length,checkCell=(n[0].length-1),tableBody=$(table.tBodies[0]),rows=[];for(var i=0;i<totalRows;i++){var pos=n[i][checkCell];rows.push(r[pos]);if(!table.config.appender){var l=r[pos].length;for(var j=0;j<l;j++){tableBody[0].appendChild(r[pos][j]);}}}if(table.config.appender){table.config.appender(table,rows);}rows=null;if(table.config.debug){benchmark("Rebuilt table:",appendTime);}applyWidget(table);setTimeout(function(){$(table).trigger("sortEnd");},0);};function buildHeaders(table){if(table.config.debug){var time=new Date();}var meta=($.metadata)?true:false;var header_index=computeTableHeaderCellIndexes(table);$tableHeaders=$(table.config.selectorHeaders,table).each(function(index){this.column=header_index[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=formatSortingOrder(table.config.sortInitialOrder);this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(table,index))this.sortDisabled=true;if(checkHeaderOptionsSortingLocked(table,index))this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(table,index);if(!this.sortDisabled){var $th=$(this).addClass(table.config.cssHeader);if(table.config.onRenderHeader)table.config.onRenderHeader.apply($th);}table.config.headerList[index]=this;});if(table.config.debug){benchmark("Built headers:",time);log($tableHeaders);}return $tableHeaders;};function computeTableHeaderCellIndexes(t){var matrix=[];var lookup={};var thead=t.getElementsByTagName('THEAD')[0];var trs=thead.getElementsByTagName('TR');for(var i=0;i<trs.length;i++){var cells=trs[i].cells;for(var j=0;j<cells.length;j++){var c=cells[j];var rowIndex=c.parentNode.rowIndex;var cellId=rowIndex+"-"+c.cellIndex;var rowSpan=c.rowSpan||1;var colSpan=c.colSpan||1
var firstAvailCol;if(typeof(matrix[rowIndex])=="undefined"){matrix[rowIndex]=[];}for(var k=0;k<matrix[rowIndex].length+1;k++){if(typeof(matrix[rowIndex][k])=="undefined"){firstAvailCol=k;break;}}lookup[cellId]=firstAvailCol;for(var k=rowIndex;k<rowIndex+rowSpan;k++){if(typeof(matrix[k])=="undefined"){matrix[k]=[];}var matrixrow=matrix[k];for(var l=firstAvailCol;l<firstAvailCol+colSpan;l++){matrixrow[l]="x";}}}}return lookup;}function checkCellColSpan(table,rows,row){var arr=[],r=table.tHead.rows,c=r[row].cells;for(var i=0;i<c.length;i++){var cell=c[i];if(cell.colSpan>1){arr=arr.concat(checkCellColSpan(table,headerArr,row++));}else{if(table.tHead.length==1||(cell.rowSpan>1||!r[row+1])){arr.push(cell);}}}return arr;};function checkHeaderMetadata(cell){if(($.metadata)&&($(cell).metadata().sorter===false)){return true;};return false;}function checkHeaderOptions(table,i){if((table.config.headers[i])&&(table.config.headers[i].sorter===false)){return true;};return false;}function checkHeaderOptionsSortingLocked(table,i){if((table.config.headers[i])&&(table.config.headers[i].lockedOrder))return table.config.headers[i].lockedOrder;return false;}function applyWidget(table){var c=table.config.widgets;var l=c.length;for(var i=0;i<l;i++){getWidgetById(c[i]).format(table);}}function getWidgetById(name){var l=widgets.length;for(var i=0;i<l;i++){if(widgets[i].id.toLowerCase()==name.toLowerCase()){return widgets[i];}}};function formatSortingOrder(v){if(typeof(v)!="Number"){return(v.toLowerCase()=="desc")?1:0;}else{return(v==1)?1:0;}}function isValueInArray(v,a){var l=a.length;for(var i=0;i<l;i++){if(a[i][0]==v){return true;}}return false;}function setHeadersCss(table,$headers,list,css){$headers.removeClass(css[0]).removeClass(css[1]);var h=[];$headers.each(function(offset){if(!this.sortDisabled){h[this.column]=$(this);}});var l=list.length;for(var i=0;i<l;i++){h[list[i][0]].addClass(css[list[i][1]]);}}function fixColumnWidth(table,$headers){var c=table.config;if(c.widthFixed){var colgroup=$('<colgroup>');$("tr:first td",table.tBodies[0]).each(function(){colgroup.append($('<col>').css('width',$(this).width()));});$(table).prepend(colgroup);};}function updateHeaderSortCount(table,sortList){var c=table.config,l=sortList.length;for(var i=0;i<l;i++){var s=sortList[i],o=c.headerList[s[0]];o.count=s[1];o.count++;}}function multisort(table,sortList,cache){if(table.config.debug){var sortTime=new Date();}var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0];var order=sortList[i][1];var s=(table.config.parsers[c].type=="text")?((order==0)?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c)):((order==0)?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c));var e="e"+i;dynamicExp+="var "+e+" = "+s;dynamicExp+="if("+e+") { return "+e+"; } ";dynamicExp+="else { ";}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++){dynamicExp+="}; ";}dynamicExp+="return 0; ";dynamicExp+="}; ";if(table.config.debug){benchmark("Evaling expression:"+dynamicExp,new Date());}eval(dynamicExp);cache.normalized.sort(sortWrapper);if(table.config.debug){benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime);}return cache;};function makeSortFunction(type,direction,index){var a="a["+index+"]",b="b["+index+"]";if(type=='text'&&direction=='asc'){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+a+" < "+b+") ? -1 : 1 )));";}else if(type=='text'&&direction=='desc'){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+b+" < "+a+") ? -1 : 1 )));";}else if(type=='numeric'&&direction=='asc'){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+a+" - "+b+"));";}else if(type=='numeric'&&direction=='desc'){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+b+" - "+a+"));";}};function makeSortText(i){return"((a["+i+"] < b["+i+"]) ? -1 : ((a["+i+"] > b["+i+"]) ? 1 : 0));";};function makeSortTextDesc(i){return"((b["+i+"] < a["+i+"]) ? -1 : ((b["+i+"] > a["+i+"]) ? 1 : 0));";};function makeSortNumeric(i){return"a["+i+"]-b["+i+"];";};function makeSortNumericDesc(i){return"b["+i+"]-a["+i+"];";};function sortText(a,b){if(table.config.sortLocaleCompare)return a.localeCompare(b);return((a<b)?-1:((a>b)?1:0));};function sortTextDesc(a,b){if(table.config.sortLocaleCompare)return b.localeCompare(a);return((b<a)?-1:((b>a)?1:0));};function sortNumeric(a,b){return a-b;};function sortNumericDesc(a,b){return b-a;};function getCachedSortType(parsers,i){return parsers[i].type;};this.construct=function(settings){return this.each(function(){if(!this.tHead||!this.tBodies)return;var $this,$document,$headers,cache,config,shiftDown=0,sortOrder;this.config={};config=$.extend(this.config,$.tablesorter.defaults,settings);$this=$(this);$.data(this,"tablesorter",config);$headers=buildHeaders(this);this.config.parsers=buildParserCache(this,$headers);cache=buildCache(this);var sortCSS=[config.cssDesc,config.cssAsc];fixColumnWidth(this);$headers.click(function(e){var totalRows=($this[0].tBodies[0]&&$this[0].tBodies[0].rows.length)||0;if(!this.sortDisabled&&totalRows>0){$this.trigger("sortStart");var $cell=$(this);var i=this.column;this.order=this.count++%2;if(this.lockedOrder)this.order=this.lockedOrder;if(!e[config.sortMultiSortKey]){config.sortList=[];if(config.sortForce!=null){var a=config.sortForce;for(var j=0;j<a.length;j++){if(a[j][0]!=i){config.sortList.push(a[j]);}}}config.sortList.push([i,this.order]);}else{if(isValueInArray(i,config.sortList)){for(var j=0;j<config.sortList.length;j++){var s=config.sortList[j],o=config.headerList[s[0]];if(s[0]==i){o.count=s[1];o.count++;s[1]=o.count%2;}}}else{config.sortList.push([i,this.order]);}};setTimeout(function(){setHeadersCss($this[0],$headers,config.sortList,sortCSS);appendToTable($this[0],multisort($this[0],config.sortList,cache));},1);return false;}}).mousedown(function(){if(config.cancelSelection){this.onselectstart=function(){return false};return false;}});$this.bind("update",function(){var me=this;setTimeout(function(){me.config.parsers=buildParserCache(me,$headers);cache=buildCache(me);},1);}).bind("updateCell",function(e,cell){var config=this.config;var pos=[(cell.parentNode.rowIndex-1),cell.cellIndex];cache.normalized[pos[0]][pos[1]]=config.parsers[pos[1]].format(getElementText(config,cell),cell);}).bind("sorton",function(e,list){$(this).trigger("sortStart");config.sortList=list;var sortList=config.sortList;updateHeaderSortCount(this,sortList);setHeadersCss(this,$headers,sortList,sortCSS);appendToTable(this,multisort(this,sortList,cache));}).bind("appendCache",function(){appendToTable(this,cache);}).bind("applyWidgetId",function(e,id){getWidgetById(id).format(this);}).bind("applyWidgets",function(){applyWidget(this);});if($.metadata&&($(this).metadata()&&$(this).metadata().sortlist)){config.sortList=$(this).metadata().sortlist;}if(config.sortList.length>0){$this.trigger("sorton",[config.sortList]);}applyWidget(this);});};this.addParser=function(parser){var l=parsers.length,a=true;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==parser.id.toLowerCase()){a=false;}}if(a){parsers.push(parser);};};this.addWidget=function(widget){widgets.push(widget);};this.formatFloat=function(s){var i=parseFloat(s);return(isNaN(i))?0:i;};this.formatInt=function(s){var i=parseInt(s);return(isNaN(i))?0:i;};this.isDigit=function(s,config){return/^[-+]?\d*$/.test($.trim(s.replace(/[,.']/g,'')));};this.clearTableBody=function(table){if($.browser.msie){function empty(){while(this.firstChild)this.removeChild(this.firstChild);}empty.apply(table.tBodies[0]);}else{table.tBodies[0].innerHTML="";}};}});$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(s){return true;},format:function(s){return $.trim(s.toLocaleLowerCase());},type:"text"});ts.addParser({id:"digit",is:function(s,table){var c=table.config;return $.tablesorter.isDigit(s,c);},format:function(s){return $.tablesorter.formatFloat(s);},type:"numeric"});ts.addParser({id:"currency",is:function(s){return/^[£$€?.]/.test(s);},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/[£$€]/g),""));},type:"numeric"});ts.addParser({id:"ipAddress",is:function(s){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(s);},format:function(s){var a=s.split("."),r="",l=a.length;for(var i=0;i<l;i++){var item=a[i];if(item.length==2){r+="0"+item;}else{r+=item;}}return $.tablesorter.formatFloat(r);},type:"numeric"});ts.addParser({id:"url",is:function(s){return/^(https?|ftp|file):\/\/$/.test(s);},format:function(s){return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\/\//),''));},type:"text"});ts.addParser({id:"isoDate",is:function(s){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(s);},format:function(s){return $.tablesorter.formatFloat((s!="")?new Date(s.replace(new RegExp(/-/g),"/")).getTime():"0");},type:"numeric"});ts.addParser({id:"percent",is:function(s){return/\%$/.test($.trim(s));},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/%/g),""));},type:"numeric"});ts.addParser({id:"usLongDate",is:function(s){return s.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/));},format:function(s){return $.tablesorter.formatFloat(new Date(s).getTime());},type:"numeric"});ts.addParser({id:"shortDate",is:function(s){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(s);},format:function(s,table){var c=table.config;s=s.replace(/\-/g,"/");if(c.dateFormat=="us"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2");}else if(c.dateFormat=="uk"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1");}else if(c.dateFormat=="dd/mm/yy"||c.dateFormat=="dd-mm-yy"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3");}return $.tablesorter.formatFloat(new Date(s).getTime());},type:"numeric"});ts.addParser({id:"time",is:function(s){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(s);},format:function(s){return $.tablesorter.formatFloat(new Date("2000/01/01 "+s).getTime());},type:"numeric"});ts.addParser({id:"metadata",is:function(s){return false;},format:function(s,table,cell){var c=table.config,p=(!c.parserMetadataName)?'sortValue':c.parserMetadataName;return $(cell).metadata()[p];},type:"numeric"});ts.addWidget({id:"zebra",format:function(table){if(table.config.debug){var time=new Date();}var $tr,row=-1,odd;$("tr:visible",table.tBodies[0]).each(function(i){$tr=$(this);if(!$tr.hasClass(table.config.cssChildRow))row++;odd=(row%2==0);$tr.removeClass(table.config.widgetZebra.css[odd?0:1]).addClass(table.config.widgetZebra.css[odd?1:0])});if(table.config.debug){$.tablesorter.benchmark("Applying Zebra widget",time);}}});})(jQuery);

/*!
 * tablesorter (FORK) pager plugin
 * updated 3/26/2015 (v2.21.3)
 */
!function(a){"use strict";var b=a.tablesorter;a.extend({tablesorterPager:new function(){this.defaults={container:null,ajaxUrl:null,customAjaxUrl:function(a,b){return b},ajaxObject:{dataType:"json"},processAjaxOnInit:!0,ajaxProcessing:function(a){return[0,[],null]},output:"{startRow} to {endRow} of {totalRows} rows",updateArrows:!0,page:0,pageReset:0,size:10,maxOptionSize:20,savePages:!0,storageKey:"tablesorter-pager",fixedHeight:!1,countChildRows:!1,removeRows:!1,cssFirst:".first",cssPrev:".prev",cssNext:".next",cssLast:".last",cssGoto:".gotoPage",cssPageDisplay:".pagedisplay",cssPageSize:".pagesize",cssErrorRow:"tablesorter-errorRow",cssDisabled:"disabled",totalRows:0,totalPages:0,filteredRows:0,filteredPages:0,ajaxCounter:0,currentFilters:[],startRow:0,endRow:0,$size:null,last:{}};var c="filterInit filterStart filterEnd sortEnd disable enable destroy updateComplete pageSize pageSet pageAndSize pagerUpdate refreshComplete ",d=this,e=function(a,b){var c="addClass",d="removeClass",e=a.cssDisabled,f=!!b,g=f||0===a.page,h=Math.min(a.totalPages,a.filteredPages),i=f||a.page===h-1||0===h;a.updateArrows&&(a.$container.find(a.cssFirst+","+a.cssPrev)[g?c:d](e).attr("aria-disabled",g),a.$container.find(a.cssNext+","+a.cssLast)[i?c:d](e).attr("aria-disabled",i))},f=function(b,c){var d,e,f,g=b.config,h=g.$table.hasClass("hasFilters");if(h&&!c.ajaxUrl)if(a.isEmptyObject(g.cache))c.filteredRows=c.totalRows=g.$tbodies.eq(0).children("tr").not(c.countChildRows?"":"."+g.cssChildRow).length;else for(c.filteredRows=0,d=g.cache[0].normalized,f=d.length,e=0;e<f;e++)c.filteredRows+=c.regexRows.test(d[e][g.columns].$row[0].className)?0:1;else h||(c.filteredRows=c.totalRows)},g=function(c,d,g){if(!d.initializing){var j,k,l,m,n,o,p=c.config,q=d.size||d.settings.size||10;if(d.countChildRows&&k.push(p.cssChildRow),d.totalPages=Math.ceil(d.totalRows/q),p.totalRows=d.totalRows,f(c,d),p.filteredRows=d.filteredRows,d.filteredPages=Math.ceil(d.filteredRows/q)||0,Math.min(d.totalPages,d.filteredPages)>=0){if(k=d.size*d.page>d.filteredRows&&g,d.page=k?d.pageReset||0:d.page,d.startRow=k?d.size*d.page+1:0===d.filteredRows?0:d.size*d.page+1,d.endRow=Math.min(d.filteredRows,d.totalRows,d.size*(d.page+1)),l=d.$container.find(d.cssPageDisplay),j=(d.ajaxData&&d.ajaxData.output?d.ajaxData.output||d.output:d.output).replace(/\{page([\-+]\d+)?\}/gi,function(a,b){return d.totalPages?d.page+(b?parseInt(b,10):1):0}).replace(/\{\w+(\s*:\s*\w+)?\}/gi,function(a){var b,c,e=a.replace(/[{}\s]/g,""),f=e.split(":"),g=d.ajaxData,h=/(rows?|pages?)$/i.test(e)?0:"";return/(startRow|page)/.test(f[0])&&"input"===f[1]?(b=(""+("page"===f[0]?d.totalPages:d.totalRows)).length,c="page"===f[0]?d.page+1:d.startRow,'<input type="text" class="ts-'+f[0]+'" style="max-width:'+b+'em" value="'+c+'"/>'):f.length>1&&g&&g[f[0]]?g[f[0]][f[1]]:d[e]||(g?g[e]:h)||h}),d.$goto.length){for(k="",o=h(d),n=o.length,m=0;m<n;m++)k+='<option value="'+o[m]+'">'+o[m]+"</option>";d.$goto.html(k).val(d.page+1)}l.length&&(l["INPUT"===l[0].nodeName?"val":"html"](j),l.find(".ts-startRow, .ts-page").unbind("change.pager").bind("change.pager",function(){var b=a(this).val(),c=a(this).hasClass("ts-startRow")?Math.floor(b/d.size)+1:b;p.$table.trigger("pageSet.pager",[c])}))}e(d),i(c,d),d.initialized&&!1!==g&&(p.debug&&b.log("Pager: Triggering pagerComplete"),p.$table.trigger("pagerComplete",d),d.savePages&&b.storage&&b.storage(c,d.storageKey,{page:d.page,size:d.size}))}},h=function(b){var c,d,e,f,g,h,i=Math.min(b.totalPages,b.filteredPages)||1,j=5*Math.ceil(i/b.maxOptionSize/5),k=i>b.maxOptionSize,l=b.page+1,m=j,n=i-j,o=[1],p=k?j:1;for(c=p;c<=i;)o.push(c),c+=k?j:1;if(o.push(i),k){for(e=[],d=Math.max(Math.floor(b.maxOptionSize/j)-1,5),m=l-d,m<1&&(m=1),n=l+d,n>i&&(n=i),c=m;c<=n;c++)e.push(c);o=a.grep(o,function(b,c){return a.inArray(b,o)===c}),g=o.length,h=e.length,g-h>j/2&&g+h>b.maxOptionSize&&(f=Math.floor(g/2)-Math.floor(h/2),Array.prototype.splice.apply(o,[f,h])),o=o.concat(e)}return o=a.grep(o,function(b,c){return a.inArray(b,o)===c}).sort(function(a,b){return a-b})},i=function(b,c){var d,e,f=b.config,g=f.$tbodies.eq(0);g.find("tr.pagerSavedHeightSpacer").remove(),c.fixedHeight&&!c.isDisabled&&(e=a.data(b,"pagerSavedHeight"))&&(d=e-g.height())>5&&a.data(b,"pagerLastSize")===c.size&&g.children("tr:visible").length<c.size&&g.append('<tr class="pagerSavedHeightSpacer '+f.selectorRemove.slice(1)+'" style="height:'+d+'px;"></tr>')},j=function(b,c){var d,e=b.config,f=e.$tbodies.eq(0);f.find("tr.pagerSavedHeightSpacer").remove(),f.children("tr:visible").length||f.append('<tr class="pagerSavedHeightSpacer '+e.selectorRemove.slice(1)+'"><td>&nbsp</td></tr>'),d=f.children("tr").eq(0).height()*c.size,a.data(b,"pagerSavedHeight",d),i(b,c),a.data(b,"pagerLastSize",c.size)},k=function(a,c){if(!c.ajaxUrl){var d,e=0,f=a.config,g=f.$tbodies.eq(0).children("tr"),h=g.length,i=c.page*c.size,j=i+c.size,k=f.widgetOptions&&f.widgetOptions.filter_filteredRow||"filtered",l=0,m=0;for(c.cacheIndex=[],d=0;d<h;d++)g[d].className.match(k)||(m===i&&g[d].className.match(f.cssChildRow)?g[d].style.display="none":(g[d].style.display=m>=i&&m<j?"":"none",l!==m&&m>=i&&m<j&&(c.cacheIndex.push(d),l=m),(m+=g[d].className.match(f.cssChildRow+"|"+f.selectorRemove.slice(1))&&!c.countChildRows?0:1)===j&&"none"!==g[d].style.display&&g[d].className.match(b.css.cssHasChild)&&(e=d)));if(e>0&&g[e].className.match(b.css.cssHasChild))for(;++e<h&&g[e].className.match(f.cssChildRow);)g[e].style.display=""}},l=function(b,c){c.size=parseInt(c.$size.val(),10)||c.size||c.settings.size||10,a.data(b,"pagerLastSize",c.size),e(c),c.removeRows||(k(b,c),a(b).bind("sortEnd.pager filterEnd.pager",function(){k(b,c)}))},m=function(c,d,e,f,h){if("function"==typeof e.ajaxProcessing){var i,j,k,l,m,n,o,p,q,r,s=d.config,t=s.$table,u="",v=e.ajaxProcessing(c,d,f)||[0,[]],w=t.find("thead th").length;if(b.showError(d),h)s.debug&&b.log("Pager: >> Ajax Error",f,h),b.showError(d,0===f.status?"Not connected, verify Network":404===f.status?"Requested page not found [404]":500===f.status?"Internal Server Error [500]":"parsererror"===h?"Requested JSON parse failed":"timeout"===h?"Time out error":"abort"===h?"Ajax Request aborted":"Uncaught error: "+f.statusText+" ["+f.status+"]"),s.$tbodies.eq(0).children("tr").detach(),e.totalRows=0;else{if(a.isArray(v)?(n=isNaN(v[0])&&!isNaN(v[1]),r=v[n?1:0],e.totalRows=isNaN(r)?e.totalRows||0:r,s.totalRows=s.filteredRows=e.filteredRows=e.totalRows,p=0===e.totalRows?[""]:v[n?0:1]||[],o=v[2]):(e.ajaxData=v,s.totalRows=e.totalRows=v.total,s.filteredRows=e.filteredRows=void 0!==v.filteredRows?v.filteredRows:v.total,o=v.headers,p=v.rows),q=p&&p.length,p instanceof jQuery)e.processAjaxOnInit&&(s.$tbodies.eq(0).children("tr").detach(),s.$tbodies.eq(0).append(p));else if(q){for(i=0;i<q;i++){for(u+="<tr>",j=0;j<p[i].length;j++)u+=/^\s*<td/.test(p[i][j])?a.trim(p[i][j]):"<td>"+p[i][j]+"</td>";u+="</tr>"}e.processAjaxOnInit&&s.$tbodies.eq(0).html(u)}e.processAjaxOnInit=!0,o&&o.length===w&&(k=t.hasClass("hasStickyHeaders"),m=k?s.widgetOptions.$sticky.children("thead:first").children("tr").children():"",l=t.find("tfoot tr:first").children(),s.$headers.filter("th").each(function(c){var d,e=a(this);e.find("."+b.css.icon).length?(d=e.find("."+b.css.icon).clone(!0),e.find(".tablesorter-header-inner").html(o[c]).append(d),k&&m.length&&(d=m.eq(c).find("."+b.css.icon).clone(!0),m.eq(c).find(".tablesorter-header-inner").html(o[c]).append(d))):(e.find(".tablesorter-header-inner").html(o[c]),k&&m.length&&m.eq(c).find(".tablesorter-header-inner").html(o[c])),l.eq(c).html(o[c])}))}s.showProcessing&&b.isProcessing(d),e.totalPages=Math.ceil(e.totalRows/(e.size||e.settings.size||10)),e.last.totalRows=e.totalRows,e.last.currentFilters=e.currentFilters,e.last.sortList=(s.sortList||[]).join(","),g(d,e,!1),t.trigger("updateCache",[function(){e.initialized&&setTimeout(function(){s.debug&&b.log("Pager: Triggering pagerChange"),t.trigger("applyWidgets").trigger("pagerChange",e),g(d,e,!0)},0)}])}e.initialized||(e.initialized=!0,e.initializing=!1,d.config.debug&&b.log("Pager: Triggering pagerInitialized"),a(d).trigger("applyWidgets").trigger("pagerInitialized",e),g(d,e))},n=function(c,d){var e,f=o(c,d),g=a(document),h=c.config;""!==f&&(h.showProcessing&&b.isProcessing(c,!0),g.bind("ajaxError.pager",function(a,b,e,f){m(null,c,d,b,f),g.unbind("ajaxError.pager")}),e=++d.ajaxCounter,d.last.ajaxUrl=f,d.ajaxObject.url=f,d.ajaxObject.success=function(a,b,f){e<d.ajaxCounter||(m(a,c,d,f),g.unbind("ajaxError.pager"),"function"==typeof d.oldAjaxSuccess&&d.oldAjaxSuccess(a))},h.debug&&b.log("Pager: Ajax initialized",d.ajaxObject),a.ajax(d.ajaxObject))},o=function(c,d){var e,f,g=c.config,h=d.ajaxUrl?d.ajaxUrl.replace(/\{page([\-+]\d+)?\}/,function(a,b){return d.page+(b?parseInt(b,10):0)}).replace(/\{size\}/g,d.size):"",i=g.sortList,j=d.currentFilters||a(c).data("lastSearch")||[],k=h.match(/\{\s*sort(?:List)?\s*:\s*(\w*)\s*\}/),l=h.match(/\{\s*filter(?:List)?\s*:\s*(\w*)\s*\}/),m=[];if(k){for(k=k[1],f=i.length,e=0;e<f;e++)m.push(k+"["+i[e][0]+"]="+i[e][1]);h=h.replace(/\{\s*sort(?:List)?\s*:\s*(\w*)\s*\}/g,m.length?m.join("&"):k),m=[]}if(l){for(l=l[1],f=j.length,e=0;e<f;e++)j[e]&&m.push(l+"["+e+"]="+encodeURIComponent(j[e]));h=h.replace(/\{\s*filter(?:List)?\s*:\s*(\w*)\s*\}/g,m.length?m.join("&"):l),d.currentFilters=j}return"function"==typeof d.customAjaxUrl&&(h=d.customAjaxUrl(c,h)),g.debug&&b.log("Pager: Ajax url = "+h),h},p=function(c,d,e){var f,h,i,j,l=a(c),m=c.config,n=m.$table.hasClass("hasFilters"),o=d&&d.length||0,p=e.page*e.size,q=e.size;if(o<1)return void(m.debug&&b.log("Pager: >> No rows for pager to render"));if(e.page>=e.totalPages&&v(c,e),e.cacheIndex=[],e.isDisabled=!1,e.initialized&&(m.debug&&b.log("Pager: Triggering pagerChange"),l.trigger("pagerChange",e)),e.removeRows){for(b.clearTableBody(c),f=b.processTbody(c,m.$tbodies.eq(0),!0),h=n?0:p,i=n?0:p,j=0;j<q&&h<d.length;)n&&/filtered/.test(d[h][0].className)||++i>p&&j<=q&&(j++,e.cacheIndex.push(h),f.append(d[h])),h++;b.processTbody(c,f,!1)}else k(c,e);g(c,e),c.isUpdating&&(m.debug&&b.log("Pager: Triggering updateComplete"),l.trigger("updateComplete",[c,!0]))},q=function(c,d){d.ajax?e(d,!0):(d.isDisabled=!0,a.data(c,"pagerLastPage",d.page),a.data(c,"pagerLastSize",d.size),d.page=0,d.size=d.totalRows,d.totalPages=1,a(c).addClass("pagerDisabled").removeAttr("aria-describedby").find("tr.pagerSavedHeightSpacer").remove(),p(c,c.config.rowsCopy,d),a(c).trigger("applyWidgets"),c.config.debug&&b.log("Pager: Disabled")),d.$size.add(d.$goto).add(d.$container.find(".ts-startRow, .ts-page")).each(function(){a(this).attr("aria-disabled","true").addClass(d.cssDisabled)[0].disabled=!0})},r=function(a){var b=a.config,c=b.pager;b.$table.trigger("updateCache",[function(){var d,e=[],f=a.config.cache[0].normalized;for(c.totalRows=f.length,d=0;d<c.totalRows;d++)e.push(f[d][b.columns].$row);b.rowsCopy=e,s(a,c,!0)}])},s=function(c,d,e){if(!d.isDisabled){var g,h=c.config,i=a(c),j=d.last;if(!1!==e&&d.initialized&&a.isEmptyObject(h.cache))return r(c);d.ajax&&b.hasWidget(c,"filter")&&!h.widgetOptions.filter_initialized||(f(c,d),g=Math.min(d.totalPages,d.filteredPages),d.page<0&&(d.page=0),d.page>g-1&&0!==g&&(d.page=g-1),j.currentFilters=""===(j.currentFilters||[]).join("")?[]:j.currentFilters,d.currentFilters=""===(d.currentFilters||[]).join("")?[]:d.currentFilters,j.page===d.page&&j.size===d.size&&j.totalRows===d.totalRows&&(j.currentFilters||[]).join(",")===(d.currentFilters||[]).join(",")&&(j.ajaxUrl||"")===(d.ajaxObject.url||"")&&(j.optAjaxUrl||"")===(d.ajaxUrl||"")&&j.sortList===(h.sortList||[]).join(",")||(h.debug&&b.log("Pager: Changing to page "+d.page),d.last={page:d.page,size:d.size,sortList:(h.sortList||[]).join(","),totalRows:d.totalRows,currentFilters:d.currentFilters||[],ajaxUrl:d.ajaxObject.url||"",optAjaxUrl:d.ajaxUrl||""},d.ajax?n(c,d):d.ajax||p(c,h.rowsCopy,d),a.data(c,"pagerLastPage",d.page),d.initialized&&!1!==e&&(h.debug&&b.log("Pager: Triggering pageMoved"),i.trigger("pageMoved",d).trigger("applyWidgets"),c.isUpdating&&(h.debug&&b.log("Pager: Triggering updateComplete"),i.trigger("updateComplete",[c,!0])))))}},t=function(b,c,d){d.size=c||d.size||d.settings.size||10,d.$size.val(d.size),a.data(b,"pagerLastPage",d.page),a.data(b,"pagerLastSize",d.size),d.totalPages=Math.ceil(d.totalRows/d.size),d.filteredPages=Math.ceil(d.filteredRows/d.size),s(b,d)},u=function(a,b){b.page=0,s(a,b)},v=function(a,b){b.page=Math.min(b.totalPages,b.filteredPages)-1,s(a,b)},w=function(a,b){b.page++,b.page>=Math.min(b.totalPages,b.filteredPages)-1&&(b.page=Math.min(b.totalPages,b.filteredPages)-1),s(a,b)},x=function(a,b){b.page--,b.page<=0&&(b.page=0),s(a,b)},y=function(d,e){q(d,e),e.$container.hide(),d.config.appender=null,e.initialized=!1,delete d.config.rowsCopy,a(d).unbind(c.split(" ").join(".pager ").replace(/\s+/g," ")),b.storage&&b.storage(d,e.storageKey,"")},z=function(c,d,e){var f,g=c.config;d.$size.add(d.$goto).add(d.$container.find(".ts-startRow, .ts-page")).removeClass(d.cssDisabled).removeAttr("disabled").attr("aria-disabled","false"),d.isDisabled=!1,d.page=a.data(c,"pagerLastPage")||d.page||0,d.size=a.data(c,"pagerLastSize")||parseInt(d.$size.find("option[selected]").val(),10)||d.size||d.settings.size||10,d.$size.val(d.size),d.totalPages=Math.ceil(Math.min(d.totalRows,d.filteredRows)/d.size),c.id&&(f=c.id+"_pager_info",d.$container.find(d.cssPageDisplay).attr("id",f),g.$table.attr("aria-describedby",f)),j(c,d),e&&(g.$table.trigger("updateRows"),t(c,d.size,d),l(c,d),g.debug&&b.log("Pager: Enabled"))};d.appender=function(b,c){var d=b.config,e=d.pager;e.ajax||(d.rowsCopy=c,e.totalRows=e.countChildRows?d.$tbodies.eq(0).children("tr").length:c.length,e.size=a.data(b,"pagerLastSize")||e.size||e.settings.size||10,e.totalPages=Math.ceil(e.totalRows/e.size),p(b,c,e),g(b,e,!1))},d.construct=function(e){return this.each(function(){if(this.config&&this.hasInitialized){var f,h,i,m=this,n=m.config,o=n.widgetOptions,p=n.pager=a.extend(!0,{},a.tablesorterPager.defaults,e),A=n.$table,B=p.$container=a(p.container).addClass("tablesorter-pager").show();p.settings=a.extend(!0,{},a.tablesorterPager.defaults,e),n.debug&&b.log("Pager: Initializing"),p.oldAjaxSuccess=p.oldAjaxSuccess||p.ajaxObject.success,n.appender=d.appender,p.initializing=!0,p.savePages&&b.storage&&(f=b.storage(m,p.storageKey)||{},p.page=isNaN(f.page)?p.page:f.page,p.size=(isNaN(f.size)?p.size:f.size)||p.settings.size||10,a.data(m,"pagerLastSize",p.size)),p.regexRows=new RegExp("("+(o.filter_filteredRow||"filtered")+"|"+n.selectorRemove.slice(1)+"|"+n.cssChildRow+")"),A.unbind(c.split(" ").join(".pager ").replace(/\s+/g," ")).bind("filterInit.pager filterStart.pager",function(b,c){p.currentFilters=a.isArray(c)?c:n.$table.data("lastSearch"),"filterStart"===b.type&&!1!==p.pageReset&&(n.lastCombinedFilter||"")!==(p.currentFilters||[]).join("")&&(p.page=p.pageReset)}).bind("filterEnd.pager sortEnd.pager",function(){p.currentFilters=n.$table.data("lastSearch"),(p.initialized||p.initializing)&&(n.delayInit&&n.rowsCopy&&0===n.rowsCopy.length&&r(m),g(m,p,!1),s(m,p,!1),n.$table.trigger("applyWidgets"))}).bind("disable.pager",function(a){a.stopPropagation(),q(m,p)}).bind("enable.pager",function(a){a.stopPropagation(),z(m,p,!0)}).bind("destroy.pager",function(a){a.stopPropagation(),y(m,p)}).bind("updateComplete.pager",function(a,b,c){if(a.stopPropagation(),b&&!c&&!p.ajax){var d=n.$tbodies.eq(0).children("tr").not(n.selectorRemove);p.totalRows=d.length-(p.countChildRows?0:d.filter("."+n.cssChildRow).length),p.totalPages=Math.ceil(p.totalRows/p.size),d.length&&n.rowsCopy&&0===n.rowsCopy.length&&r(b),p.page>=p.totalPages&&v(b,p),k(b,p),j(b,p),g(b,p,!0)}}).bind("pageSize.pager refreshComplete.pager",function(a,b){a.stopPropagation(),t(m,parseInt(b,10)||p.settings.size||10,p),k(m,p),g(m,p,!1)}).bind("pageSet.pager pagerUpdate.pager",function(a,b){a.stopPropagation(),"pagerUpdate"===a.type&&(b=void 0===b?p.page+1:b,p.last.page=!0),p.page=(parseInt(b,10)||1)-1,s(m,p,!0),g(m,p,!1)}).bind("pageAndSize.pager",function(a,b,c){a.stopPropagation(),p.page=(parseInt(b,10)||1)-1,t(m,parseInt(c,10)||p.settings.size||10,p),s(m,p,!0),k(m,p),g(m,p,!1)}),h=[p.cssFirst,p.cssPrev,p.cssNext,p.cssLast],i=[u,x,w,v],n.debug&&!B.length&&b.log("Pager: >> Container not found"),B.find(h.join(",")).attr("tabindex",0).unbind("click.pager").bind("click.pager",function(b){b.stopPropagation();var c,d=a(this),e=h.length;if(!d.hasClass(p.cssDisabled))for(c=0;c<e;c++)if(d.is(h[c])){i[c](m,p);break}}),p.$goto=B.find(p.cssGoto),p.$goto.length?p.$goto.unbind("change.pager").bind("change.pager",function(){p.page=a(this).val()-1,s(m,p,!0),g(m,p,!1)}):n.debug&&b.log("Pager: >> Goto selector not found"),p.$size=B.find(p.cssPageSize),p.$size.length?(p.$size.find("option").removeAttr("selected"),p.$size.unbind("change.pager").bind("change.pager",function(){return p.$size.val(a(this).val()),a(this).hasClass(p.cssDisabled)||(t(m,parseInt(a(this).val(),10),p),j(m,p)),!1})):n.debug&&b.log("Pager: >> Size selector not found"),p.initialized=!1,A.trigger("pagerBeforeInitialized",p),z(m,p,!1),"string"==typeof p.ajaxUrl?(p.ajax=!0,n.widgetOptions.filter_serversideFiltering=!0,n.serverSideSorting=!0,s(m,p)):(p.ajax=!1,a(this).trigger("appendCache",!0),l(m,p)),p.ajax||p.initialized||(p.initializing=!1,p.initialized=!0,s(m,p),n.debug&&b.log("Pager: Triggering pagerInitialized"),n.$table.trigger("pagerInitialized",p),n.widgetOptions.filter_initialized&&b.hasWidget(m,"filter")||g(m,p,!1))}})}}}),b.showError=function(b,c){a(b).each(function(){var b=this.config,d=b.pager&&b.pager.cssErrorRow||b.widgetOptions.pager_css&&b.widgetOptions.pager_css.errorRow||"tablesorter-errorRow";b&&(void 0===c?b.$table.find("thead").find(b.selectorRemove).remove():a(/tr\>/.test(c)?c:'<tr><td colspan="'+b.columns+'">'+c+"</td></tr>").click(function(){a(this).remove()}).appendTo(b.$table.find("thead:first")).addClass(d+" "+b.selectorRemove.slice(1)).attr({role:"alert","aria-live":"assertive"}))})},a.fn.extend({tablesorterPager:a.tablesorterPager.construct})}(jQuery);

!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"undefined"!=typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";var b=window.Slick||{};b=function(){function b(b,d){var e,f=this;f.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:a(b),appendDots:a(b),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(a,b){return'<button type="button" data-role="none" role="button" aria-required="false" tabindex="0">'+(b+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!1,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},f.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},a.extend(f,f.initials),f.activeBreakpoint=null,f.animType=null,f.animProp=null,f.breakpoints=[],f.breakpointSettings=[],f.cssTransitions=!1,f.hidden="hidden",f.paused=!1,f.positionProp=null,f.respondTo=null,f.rowCount=1,f.shouldClick=!0,f.$slider=a(b),f.$slidesCache=null,f.transformType=null,f.transitionType=null,f.visibilityChange="visibilitychange",f.windowWidth=0,f.windowTimer=null,e=a(b).data("slick")||{},f.options=a.extend({},f.defaults,e,d),f.currentSlide=f.options.initialSlide,f.originalSettings=f.options,void 0!==document.mozHidden?(f.hidden="mozHidden",f.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(f.hidden="webkitHidden",f.visibilityChange="webkitvisibilitychange"),f.autoPlay=a.proxy(f.autoPlay,f),f.autoPlayClear=a.proxy(f.autoPlayClear,f),f.changeSlide=a.proxy(f.changeSlide,f),f.clickHandler=a.proxy(f.clickHandler,f),f.selectHandler=a.proxy(f.selectHandler,f),f.setPosition=a.proxy(f.setPosition,f),f.swipeHandler=a.proxy(f.swipeHandler,f),f.dragHandler=a.proxy(f.dragHandler,f),f.keyHandler=a.proxy(f.keyHandler,f),f.autoPlayIterator=a.proxy(f.autoPlayIterator,f),f.instanceUid=c++,f.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,f.registerBreakpoints(),f.init(!0),f.checkResponsive(!0)}var c=0;return b}(),b.prototype.addSlide=b.prototype.slickAdd=function(b,c,d){var e=this;if("boolean"==typeof c)d=c,c=null;else if(c<0||c>=e.slideCount)return!1;e.unload(),"number"==typeof c?0===c&&0===e.$slides.length?a(b).appendTo(e.$slideTrack):d?a(b).insertBefore(e.$slides.eq(c)):a(b).insertAfter(e.$slides.eq(c)):!0===d?a(b).prependTo(e.$slideTrack):a(b).appendTo(e.$slideTrack),e.$slides=e.$slideTrack.children(this.options.slide),e.$slideTrack.children(this.options.slide).detach(),e.$slideTrack.append(e.$slides),e.$slides.each(function(b,c){a(c).attr("data-slick-index",b)}),e.$slidesCache=e.$slides,e.reinit()},b.prototype.animateHeight=function(){var a=this;if(1===a.options.slidesToShow&&!0===a.options.adaptiveHeight&&!1===a.options.vertical){var b=a.$slides.eq(a.currentSlide).outerHeight(!0);a.$list.animate({height:b},a.options.speed)}},b.prototype.animateSlide=function(b,c){var d={},e=this;e.animateHeight(),!0===e.options.rtl&&!1===e.options.vertical&&(b=-b),!1===e.transformsEnabled?!1===e.options.vertical?e.$slideTrack.animate({left:b},e.options.speed,e.options.easing,c):e.$slideTrack.animate({top:b},e.options.speed,e.options.easing,c):!1===e.cssTransitions?(!0===e.options.rtl&&(e.currentLeft=-e.currentLeft),a({animStart:e.currentLeft}).animate({animStart:b},{duration:e.options.speed,easing:e.options.easing,step:function(a){a=Math.ceil(a),!1===e.options.vertical?(d[e.animType]="translate("+a+"px, 0px)",e.$slideTrack.css(d)):(d[e.animType]="translate(0px,"+a+"px)",e.$slideTrack.css(d))},complete:function(){c&&c.call()}})):(e.applyTransition(),b=Math.ceil(b),!1===e.options.vertical?d[e.animType]="translate3d("+b+"px, 0px, 0px)":d[e.animType]="translate3d(0px,"+b+"px, 0px)",e.$slideTrack.css(d),c&&setTimeout(function(){e.disableTransition(),c.call()},e.options.speed))},b.prototype.asNavFor=function(b){var c=this,d=c.options.asNavFor;d&&null!==d&&(d=a(d).not(c.$slider)),null!==d&&"object"==typeof d&&d.each(function(){var c=a(this).slick("getSlick");c.unslicked||c.slideHandler(b,!0)})},b.prototype.applyTransition=function(a){var b=this,c={};!1===b.options.fade?c[b.transitionType]=b.transformType+" "+b.options.speed+"ms "+b.options.cssEase:c[b.transitionType]="opacity "+b.options.speed+"ms "+b.options.cssEase,!1===b.options.fade?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.autoPlay=function(){var a=this;a.autoPlayTimer&&clearInterval(a.autoPlayTimer),a.slideCount>a.options.slidesToShow&&!0!==a.paused&&(a.autoPlayTimer=setInterval(a.autoPlayIterator,a.options.autoplaySpeed))},b.prototype.autoPlayClear=function(){var a=this;a.autoPlayTimer&&clearInterval(a.autoPlayTimer)},b.prototype.autoPlayIterator=function(){var a=this;!1===a.options.infinite?1===a.direction?(a.currentSlide+1===a.slideCount-1&&(a.direction=0),a.slideHandler(a.currentSlide+a.options.slidesToScroll)):(a.currentSlide-1==0&&(a.direction=1),a.slideHandler(a.currentSlide-a.options.slidesToScroll)):a.slideHandler(a.currentSlide+a.options.slidesToScroll)},b.prototype.buildArrows=function(){var b=this;!0===b.options.arrows&&(b.$prevArrow=a(b.options.prevArrow).addClass("slick-arrow"),b.$nextArrow=a(b.options.nextArrow).addClass("slick-arrow"),b.slideCount>b.options.slidesToShow?(b.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),b.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),b.htmlExpr.test(b.options.prevArrow)&&b.$prevArrow.prependTo(b.options.appendArrows),b.htmlExpr.test(b.options.nextArrow)&&b.$nextArrow.appendTo(b.options.appendArrows),!0!==b.options.infinite&&b.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):b.$prevArrow.add(b.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},b.prototype.buildDots=function(){var b,c,d=this;if(!0===d.options.dots&&d.slideCount>d.options.slidesToShow){for(c='<ul class="'+d.options.dotsClass+'">',b=0;b<=d.getDotCount();b+=1)c+="<li>"+d.options.customPaging.call(this,d,b)+"</li>";c+="</ul>",d.$dots=a(c).appendTo(d.options.appendDots),d.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},b.prototype.buildOut=function(){var b=this;b.$slides=b.$slider.children(b.options.slide+":not(.slick-cloned)").addClass("slick-slide"),b.slideCount=b.$slides.length,b.$slides.each(function(b,c){a(c).attr("data-slick-index",b).data("originalStyling",a(c).attr("style")||"")}),b.$slider.addClass("slick-slider"),b.$slideTrack=0===b.slideCount?a('<div class="slick-track"/>').appendTo(b.$slider):b.$slides.wrapAll('<div class="slick-track"/>').parent(),b.$list=b.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),b.$slideTrack.css("opacity",0),!0!==b.options.centerMode&&!0!==b.options.swipeToSlide||(b.options.slidesToScroll=1),a("img[data-lazy]",b.$slider).not("[src]").addClass("slick-loading"),b.setupInfinite(),b.buildArrows(),b.buildDots(),b.updateDots(),b.setSlideClasses("number"==typeof b.currentSlide?b.currentSlide:0),!0===b.options.draggable&&b.$list.addClass("draggable")},b.prototype.buildRows=function(){var a,b,c,d,e,f,g,h=this;if(d=document.createDocumentFragment(),f=h.$slider.children(),h.options.rows>1){for(g=h.options.slidesPerRow*h.options.rows,e=Math.ceil(f.length/g),a=0;a<e;a++){var i=document.createElement("div");for(b=0;b<h.options.rows;b++){var j=document.createElement("div");for(c=0;c<h.options.slidesPerRow;c++){var k=a*g+(b*h.options.slidesPerRow+c);f.get(k)&&j.appendChild(f.get(k))}i.appendChild(j)}d.appendChild(i)}h.$slider.html(d),h.$slider.children().children().children().css({width:100/h.options.slidesPerRow+"%",display:"inline-block"})}},b.prototype.checkResponsive=function(b,c){var d,e,f,g=this,h=!1,i=g.$slider.width(),j=window.innerWidth||a(window).width();if("window"===g.respondTo?f=j:"slider"===g.respondTo?f=i:"min"===g.respondTo&&(f=Math.min(j,i)),g.options.responsive&&g.options.responsive.length&&null!==g.options.responsive){e=null;for(d in g.breakpoints)g.breakpoints.hasOwnProperty(d)&&(!1===g.originalSettings.mobileFirst?f<g.breakpoints[d]&&(e=g.breakpoints[d]):f>g.breakpoints[d]&&(e=g.breakpoints[d]));null!==e?null!==g.activeBreakpoint?(e!==g.activeBreakpoint||c)&&(g.activeBreakpoint=e,"unslick"===g.breakpointSettings[e]?g.unslick(e):(g.options=a.extend({},g.originalSettings,g.breakpointSettings[e]),!0===b&&(g.currentSlide=g.options.initialSlide),g.refresh(b)),h=e):(g.activeBreakpoint=e,"unslick"===g.breakpointSettings[e]?g.unslick(e):(g.options=a.extend({},g.originalSettings,g.breakpointSettings[e]),!0===b&&(g.currentSlide=g.options.initialSlide),g.refresh(b)),h=e):null!==g.activeBreakpoint&&(g.activeBreakpoint=null,g.options=g.originalSettings,!0===b&&(g.currentSlide=g.options.initialSlide),g.refresh(b),h=e),b||!1===h||g.$slider.trigger("breakpoint",[g,h])}},b.prototype.changeSlide=function(b,c){var d,e,f,g=this,h=a(b.target);switch(h.is("a")&&b.preventDefault(),h.is("li")||(h=h.closest("li")),f=g.slideCount%g.options.slidesToScroll!=0,d=f?0:(g.slideCount-g.currentSlide)%g.options.slidesToScroll,b.data.message){case"previous":e=0===d?g.options.slidesToScroll:g.options.slidesToShow-d,g.slideCount>g.options.slidesToShow&&g.slideHandler(g.currentSlide-e,!1,c);break;case"next":e=0===d?g.options.slidesToScroll:d,g.slideCount>g.options.slidesToShow&&g.slideHandler(g.currentSlide+e,!1,c);break;case"index":var i=0===b.data.index?0:b.data.index||h.index()*g.options.slidesToScroll;g.slideHandler(g.checkNavigable(i),!1,c),h.children().trigger("focus");break;default:return}},b.prototype.checkNavigable=function(a){var b,c,d=this;if(b=d.getNavigableIndexes(),c=0,a>b[b.length-1])a=b[b.length-1];else for(var e in b){if(a<b[e]){a=c;break}c=b[e]}return a},b.prototype.cleanUpEvents=function(){var b=this;b.options.dots&&null!==b.$dots&&(a("li",b.$dots).off("click.slick",b.changeSlide),!0===b.options.pauseOnDotsHover&&!0===b.options.autoplay&&a("li",b.$dots).off("mouseenter.slick",a.proxy(b.setPaused,b,!0)).off("mouseleave.slick",a.proxy(b.setPaused,b,!1))),!0===b.options.arrows&&b.slideCount>b.options.slidesToShow&&(b.$prevArrow&&b.$prevArrow.off("click.slick",b.changeSlide),b.$nextArrow&&b.$nextArrow.off("click.slick",b.changeSlide)),b.$list.off("touchstart.slick mousedown.slick",b.swipeHandler),b.$list.off("touchmove.slick mousemove.slick",b.swipeHandler),b.$list.off("touchend.slick mouseup.slick",b.swipeHandler),b.$list.off("touchcancel.slick mouseleave.slick",b.swipeHandler),b.$list.off("click.slick",b.clickHandler),a(document).off(b.visibilityChange,b.visibility),b.$list.off("mouseenter.slick",a.proxy(b.setPaused,b,!0)),b.$list.off("mouseleave.slick",a.proxy(b.setPaused,b,!1)),!0===b.options.accessibility&&b.$list.off("keydown.slick",b.keyHandler),!0===b.options.focusOnSelect&&a(b.$slideTrack).children().off("click.slick",b.selectHandler),a(window).off("orientationchange.slick.slick-"+b.instanceUid,b.orientationChange),a(window).off("resize.slick.slick-"+b.instanceUid,b.resize),a("[draggable!=true]",b.$slideTrack).off("dragstart",b.preventDefault),a(window).off("load.slick.slick-"+b.instanceUid,b.setPosition),a(document).off("ready.slick.slick-"+b.instanceUid,b.setPosition)},b.prototype.cleanUpRows=function(){var a,b=this;b.options.rows>1&&(a=b.$slides.children().children(),a.removeAttr("style"),b.$slider.html(a))},b.prototype.clickHandler=function(a){!1===this.shouldClick&&(a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault())},b.prototype.destroy=function(b){var c=this;c.autoPlayClear(),c.touchObject={},c.cleanUpEvents(),a(".slick-cloned",c.$slider).detach(),c.$dots&&c.$dots.remove(),c.$prevArrow&&c.$prevArrow.length&&(c.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),c.htmlExpr.test(c.options.prevArrow)&&c.$prevArrow.remove()),c.$nextArrow&&c.$nextArrow.length&&(c.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),c.htmlExpr.test(c.options.nextArrow)&&c.$nextArrow.remove()),c.$slides&&(c.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){a(this).attr("style",a(this).data("originalStyling"))}),c.$slideTrack.children(this.options.slide).detach(),c.$slideTrack.detach(),c.$list.detach(),c.$slider.append(c.$slides)),c.cleanUpRows(),c.$slider.removeClass("slick-slider"),c.$slider.removeClass("slick-initialized"),c.unslicked=!0,b||c.$slider.trigger("destroy",[c])},b.prototype.disableTransition=function(a){var b=this,c={};c[b.transitionType]="",!1===b.options.fade?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.fadeSlide=function(a,b){var c=this;!1===c.cssTransitions?(c.$slides.eq(a).css({zIndex:c.options.zIndex}),c.$slides.eq(a).animate({opacity:1},c.options.speed,c.options.easing,b)):(c.applyTransition(a),c.$slides.eq(a).css({opacity:1,zIndex:c.options.zIndex}),b&&setTimeout(function(){c.disableTransition(a),b.call()},c.options.speed))},b.prototype.fadeSlideOut=function(a){var b=this;!1===b.cssTransitions?b.$slides.eq(a).animate({opacity:0,zIndex:b.options.zIndex-2},b.options.speed,b.options.easing):(b.applyTransition(a),b.$slides.eq(a).css({opacity:0,zIndex:b.options.zIndex-2}))},b.prototype.filterSlides=b.prototype.slickFilter=function(a){var b=this;null!==a&&(b.$slidesCache=b.$slides,b.unload(),b.$slideTrack.children(this.options.slide).detach(),b.$slidesCache.filter(a).appendTo(b.$slideTrack),b.reinit())},b.prototype.getCurrent=b.prototype.slickCurrentSlide=function(){return this.currentSlide},b.prototype.getDotCount=function(){var a=this,b=0,c=0,d=0;if(!0===a.options.infinite)for(;b<a.slideCount;)++d,b=c+a.options.slidesToScroll,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;else if(!0===a.options.centerMode)d=a.slideCount;else for(;b<a.slideCount;)++d,b=c+a.options.slidesToScroll,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;return d-1},b.prototype.getLeft=function(a){var b,c,d,e=this,f=0;return e.slideOffset=0,c=e.$slides.first().outerHeight(!0),!0===e.options.infinite?(e.slideCount>e.options.slidesToShow&&(e.slideOffset=e.slideWidth*e.options.slidesToShow*-1,f=c*e.options.slidesToShow*-1),e.slideCount%e.options.slidesToScroll!=0&&a+e.options.slidesToScroll>e.slideCount&&e.slideCount>e.options.slidesToShow&&(a>e.slideCount?(e.slideOffset=(e.options.slidesToShow-(a-e.slideCount))*e.slideWidth*-1,f=(e.options.slidesToShow-(a-e.slideCount))*c*-1):(e.slideOffset=e.slideCount%e.options.slidesToScroll*e.slideWidth*-1,f=e.slideCount%e.options.slidesToScroll*c*-1))):a+e.options.slidesToShow>e.slideCount&&(e.slideOffset=(a+e.options.slidesToShow-e.slideCount)*e.slideWidth,f=(a+e.options.slidesToShow-e.slideCount)*c),e.slideCount<=e.options.slidesToShow&&(e.slideOffset=0,f=0),!0===e.options.centerMode&&!0===e.options.infinite?e.slideOffset+=e.slideWidth*Math.floor(e.options.slidesToShow/2)-e.slideWidth:!0===e.options.centerMode&&(e.slideOffset=0,e.slideOffset+=e.slideWidth*Math.floor(e.options.slidesToShow/2)),b=!1===e.options.vertical?a*e.slideWidth*-1+e.slideOffset:a*c*-1+f,!0===e.options.variableWidth&&(d=e.slideCount<=e.options.slidesToShow||!1===e.options.infinite?e.$slideTrack.children(".slick-slide").eq(a):e.$slideTrack.children(".slick-slide").eq(a+e.options.slidesToShow),b=!0===e.options.rtl?d[0]?-1*(e.$slideTrack.width()-d[0].offsetLeft-d.width()):0:d[0]?-1*d[0].offsetLeft:0,!0===e.options.centerMode&&(d=e.slideCount<=e.options.slidesToShow||!1===e.options.infinite?e.$slideTrack.children(".slick-slide").eq(a):e.$slideTrack.children(".slick-slide").eq(a+e.options.slidesToShow+1),b=!0===e.options.rtl?d[0]?-1*(e.$slideTrack.width()-d[0].offsetLeft-d.width()):0:d[0]?-1*d[0].offsetLeft:0,b+=(e.$list.width()-d.outerWidth(!1))/2)),b},b.prototype.getOption=b.prototype.slickGetOption=function(a){return this.options[a]},b.prototype.getNavigableIndexes=function(){var a,b=this,c=0,d=0,e=[];for(!1===b.options.infinite?a=b.slideCount:(c=-1*b.options.slidesToScroll,d=-1*b.options.slidesToScroll,a=2*b.slideCount);c<a;)e.push(c),c=d+b.options.slidesToScroll,d+=b.options.slidesToScroll<=b.options.slidesToShow?b.options.slidesToScroll:b.options.slidesToShow;return e},b.prototype.getSlick=function(){return this},b.prototype.getSlideCount=function(){var b,c,d=this;return c=!0===d.options.centerMode?d.slideWidth*Math.floor(d.options.slidesToShow/2):0,!0===d.options.swipeToSlide?(d.$slideTrack.find(".slick-slide").each(function(e,f){if(f.offsetLeft-c+a(f).outerWidth(!1)/2>-1*d.swipeLeft)return b=f,!1}),Math.abs(a(b).attr("data-slick-index")-d.currentSlide)||1):d.options.slidesToScroll},b.prototype.goTo=b.prototype.slickGoTo=function(a,b){this.changeSlide({data:{message:"index",index:parseInt(a)}},b)},b.prototype.init=function(b){var c=this;a(c.$slider).hasClass("slick-initialized")||(a(c.$slider).addClass("slick-initialized"),c.buildRows(),c.buildOut(),c.setProps(),c.startLoad(),c.loadSlider(),c.initializeEvents(),c.updateArrows(),c.updateDots()),b&&c.$slider.trigger("init",[c]),!0===c.options.accessibility&&c.initADA()},b.prototype.initArrowEvents=function(){var a=this;!0===a.options.arrows&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.on("click.slick",{message:"previous"},a.changeSlide),a.$nextArrow.on("click.slick",{message:"next"},a.changeSlide))},b.prototype.initDotEvents=function(){var b=this;!0===b.options.dots&&b.slideCount>b.options.slidesToShow&&a("li",b.$dots).on("click.slick",{message:"index"},b.changeSlide),!0===b.options.dots&&!0===b.options.pauseOnDotsHover&&!0===b.options.autoplay&&a("li",b.$dots).on("mouseenter.slick",a.proxy(b.setPaused,b,!0)).on("mouseleave.slick",a.proxy(b.setPaused,b,!1))},b.prototype.initializeEvents=function(){var b=this;b.initArrowEvents(),b.initDotEvents(),b.$list.on("touchstart.slick mousedown.slick",{action:"start"},b.swipeHandler),b.$list.on("touchmove.slick mousemove.slick",{action:"move"},b.swipeHandler),b.$list.on("touchend.slick mouseup.slick",{action:"end"},b.swipeHandler),b.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},b.swipeHandler),b.$list.on("click.slick",b.clickHandler),a(document).on(b.visibilityChange,a.proxy(b.visibility,b)),b.$list.on("mouseenter.slick",a.proxy(b.setPaused,b,!0)),b.$list.on("mouseleave.slick",a.proxy(b.setPaused,b,!1)),!0===b.options.accessibility&&b.$list.on("keydown.slick",b.keyHandler),!0===b.options.focusOnSelect&&a(b.$slideTrack).children().on("click.slick",b.selectHandler),a(window).on("orientationchange.slick.slick-"+b.instanceUid,a.proxy(b.orientationChange,b)),a(window).on("resize.slick.slick-"+b.instanceUid,a.proxy(b.resize,b)),a("[draggable!=true]",b.$slideTrack).on("dragstart",b.preventDefault),a(window).on("load.slick.slick-"+b.instanceUid,b.setPosition),a(document).on("ready.slick.slick-"+b.instanceUid,b.setPosition)},b.prototype.initUI=function(){var a=this;!0===a.options.arrows&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.show(),a.$nextArrow.show()),!0===a.options.dots&&a.slideCount>a.options.slidesToShow&&a.$dots.show(),!0===a.options.autoplay&&a.autoPlay()},b.prototype.keyHandler=function(a){var b=this;a.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===a.keyCode&&!0===b.options.accessibility?b.changeSlide({data:{message:"previous"}}):39===a.keyCode&&!0===b.options.accessibility&&b.changeSlide({data:{message:"next"}}))},b.prototype.lazyLoad=function(){function b(b){a("img[data-lazy]",b).each(function(){var b=a(this),c=a(this).attr("data-lazy"),d=document.createElement("img");d.onload=function(){b.animate({opacity:0},100,function(){b.attr("src",c).animate({opacity:1},200,function(){b.removeAttr("data-lazy").removeClass("slick-loading")})})},d.src=c})}var c,d,e,f,g=this;!0===g.options.centerMode?!0===g.options.infinite?(e=g.currentSlide+(g.options.slidesToShow/2+1),f=e+g.options.slidesToShow+2):(e=Math.max(0,g.currentSlide-(g.options.slidesToShow/2+1)),f=g.options.slidesToShow/2+1+2+g.currentSlide):(e=g.options.infinite?g.options.slidesToShow+g.currentSlide:g.currentSlide,f=e+g.options.slidesToShow,!0===g.options.fade&&(e>0&&e--,f<=g.slideCount&&f++)),c=g.$slider.find(".slick-slide").slice(e,f),b(c),g.slideCount<=g.options.slidesToShow?(d=g.$slider.find(".slick-slide"),b(d)):g.currentSlide>=g.slideCount-g.options.slidesToShow?(d=g.$slider.find(".slick-cloned").slice(0,g.options.slidesToShow),b(d)):0===g.currentSlide&&(d=g.$slider.find(".slick-cloned").slice(-1*g.options.slidesToShow),b(d))},b.prototype.loadSlider=function(){var a=this;a.setPosition(),a.$slideTrack.css({opacity:1}),a.$slider.removeClass("slick-loading"),a.initUI(),"progressive"===a.options.lazyLoad&&a.progressiveLazyLoad()},b.prototype.next=b.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},b.prototype.orientationChange=function(){var a=this;a.checkResponsive(),a.setPosition()},b.prototype.pause=b.prototype.slickPause=function(){var a=this;a.autoPlayClear(),a.paused=!0},b.prototype.play=b.prototype.slickPlay=function(){var a=this;a.paused=!1,a.autoPlay()},b.prototype.postSlide=function(a){var b=this;b.$slider.trigger("afterChange",[b,a]),b.animating=!1,b.setPosition(),b.swipeLeft=null,!0===b.options.autoplay&&!1===b.paused&&b.autoPlay(),!0===b.options.accessibility&&b.initADA()},b.prototype.prev=b.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},b.prototype.preventDefault=function(a){a.preventDefault()},b.prototype.progressiveLazyLoad=function(){var b,c,d=this;(b=a("img[data-lazy]",d.$slider).length)>0&&(c=a("img[data-lazy]",d.$slider).first(),c.attr("src",null),c.attr("src",c.attr("data-lazy")).removeClass("slick-loading").load(function(){c.removeAttr("data-lazy"),d.progressiveLazyLoad(),!0===d.options.adaptiveHeight&&d.setPosition()}).error(function(){c.removeAttr("data-lazy"),d.progressiveLazyLoad()}))},b.prototype.refresh=function(b){var c,d,e=this;d=e.slideCount-e.options.slidesToShow,e.options.infinite||(e.slideCount<=e.options.slidesToShow?e.currentSlide=0:e.currentSlide>d&&(e.currentSlide=d)),c=e.currentSlide,e.destroy(!0),a.extend(e,e.initials,{currentSlide:c}),e.init(),b||e.changeSlide({data:{message:"index",index:c}},!1)},b.prototype.registerBreakpoints=function(){var b,c,d,e=this,f=e.options.responsive||null;if("array"===a.type(f)&&f.length){e.respondTo=e.options.respondTo||"window";for(b in f)if(d=e.breakpoints.length-1,c=f[b].breakpoint,f.hasOwnProperty(b)){for(;d>=0;)e.breakpoints[d]&&e.breakpoints[d]===c&&e.breakpoints.splice(d,1),d--;e.breakpoints.push(c),e.breakpointSettings[c]=f[b].settings}e.breakpoints.sort(function(a,b){return e.options.mobileFirst?a-b:b-a})}},b.prototype.reinit=function(){var b=this;b.$slides=b.$slideTrack.children(b.options.slide).addClass("slick-slide"),b.slideCount=b.$slides.length,b.currentSlide>=b.slideCount&&0!==b.currentSlide&&(b.currentSlide=b.currentSlide-b.options.slidesToScroll),b.slideCount<=b.options.slidesToShow&&(b.currentSlide=0),b.registerBreakpoints(),b.setProps(),b.setupInfinite(),b.buildArrows(),b.updateArrows(),b.initArrowEvents(),b.buildDots(),b.updateDots(),b.initDotEvents(),b.checkResponsive(!1,!0),!0===b.options.focusOnSelect&&a(b.$slideTrack).children().on("click.slick",b.selectHandler),b.setSlideClasses(0),b.setPosition(),b.$slider.trigger("reInit",[b]),!0===b.options.autoplay&&b.focusHandler()},b.prototype.resize=function(){var b=this;a(window).width()!==b.windowWidth&&(clearTimeout(b.windowDelay),b.windowDelay=window.setTimeout(function(){b.windowWidth=a(window).width(),b.checkResponsive(),b.unslicked||b.setPosition()},50))},b.prototype.removeSlide=b.prototype.slickRemove=function(a,b,c){var d=this;if("boolean"==typeof a?(b=a,a=!0===b?0:d.slideCount-1):a=!0===b?--a:a,d.slideCount<1||a<0||a>d.slideCount-1)return!1;d.unload(),!0===c?d.$slideTrack.children().remove():d.$slideTrack.children(this.options.slide).eq(a).remove(),d.$slides=d.$slideTrack.children(this.options.slide),d.$slideTrack.children(this.options.slide).detach(),d.$slideTrack.append(d.$slides),d.$slidesCache=d.$slides,d.reinit()},b.prototype.setCSS=function(a){var b,c,d=this,e={};!0===d.options.rtl&&(a=-a),b="left"==d.positionProp?Math.ceil(a)+"px":"0px",c="top"==d.positionProp?Math.ceil(a)+"px":"0px",e[d.positionProp]=a,!1===d.transformsEnabled?d.$slideTrack.css(e):(e={},!1===d.cssTransitions?(e[d.animType]="translate("+b+", "+c+")",d.$slideTrack.css(e)):(e[d.animType]="translate3d("+b+", "+c+", 0px)",d.$slideTrack.css(e)))},b.prototype.setDimensions=function(){var a=this;!1===a.options.vertical?!0===a.options.centerMode&&a.$list.css({padding:"0px "+a.options.centerPadding}):(a.$list.height(a.$slides.first().outerHeight(!0)*a.options.slidesToShow),!0===a.options.centerMode&&a.$list.css({padding:a.options.centerPadding+" 0px"})),a.listWidth=a.$list.width(),a.listHeight=a.$list.height(),!1===a.options.vertical&&!1===a.options.variableWidth?(a.slideWidth=Math.ceil(a.listWidth/a.options.slidesToShow),a.$slideTrack.width(Math.ceil(a.slideWidth*a.$slideTrack.children(".slick-slide").length))):!0===a.options.variableWidth?a.$slideTrack.width(5e3*a.slideCount):(a.slideWidth=Math.ceil(a.listWidth),a.$slideTrack.height(Math.ceil(a.$slides.first().outerHeight(!0)*a.$slideTrack.children(".slick-slide").length)));var b=a.$slides.first().outerWidth(!0)-a.$slides.first().width();!1===a.options.variableWidth&&a.$slideTrack.children(".slick-slide").width(a.slideWidth-b)},b.prototype.setFade=function(){var b,c=this;c.$slides.each(function(d,e){b=c.slideWidth*d*-1,!0===c.options.rtl?a(e).css({position:"relative",right:b,top:0,zIndex:c.options.zIndex-2,opacity:0}):a(e).css({position:"relative",left:b,top:0,zIndex:c.options.zIndex-2,opacity:0})}),c.$slides.eq(c.currentSlide).css({zIndex:c.options.zIndex-1,opacity:1})},b.prototype.setHeight=function(){var a=this;if(1===a.options.slidesToShow&&!0===a.options.adaptiveHeight&&!1===a.options.vertical){var b=a.$slides.eq(a.currentSlide).outerHeight(!0);a.$list.css("height",b)}},b.prototype.setOption=b.prototype.slickSetOption=function(b,c,d){var e,f,g=this;if("responsive"===b&&"array"===a.type(c))for(f in c)if("array"!==a.type(g.options.responsive))g.options.responsive=[c[f]];else{for(e=g.options.responsive.length-1;e>=0;)g.options.responsive[e].breakpoint===c[f].breakpoint&&g.options.responsive.splice(e,1),e--;g.options.responsive.push(c[f])}else g.options[b]=c;!0===d&&(g.unload(),g.reinit())},b.prototype.setPosition=function(){var a=this;a.setDimensions(),a.setHeight(),!1===a.options.fade?a.setCSS(a.getLeft(a.currentSlide)):a.setFade(),a.$slider.trigger("setPosition",[a])},b.prototype.setProps=function(){var a=this,b=document.body.style;a.positionProp=!0===a.options.vertical?"top":"left","top"===a.positionProp?a.$slider.addClass("slick-vertical"):a.$slider.removeClass("slick-vertical"),void 0===b.WebkitTransition&&void 0===b.MozTransition&&void 0===b.msTransition||!0===a.options.useCSS&&(a.cssTransitions=!0),a.options.fade&&("number"==typeof a.options.zIndex?a.options.zIndex<3&&(a.options.zIndex=3):a.options.zIndex=a.defaults.zIndex),void 0!==b.OTransform&&(a.animType="OTransform",a.transformType="-o-transform",a.transitionType="OTransition",void 0===b.perspectiveProperty&&void 0===b.webkitPerspective&&(a.animType=!1)),void 0!==b.MozTransform&&(a.animType="MozTransform",a.transformType="-moz-transform",a.transitionType="MozTransition",void 0===b.perspectiveProperty&&void 0===b.MozPerspective&&(a.animType=!1)),void 0!==b.webkitTransform&&(a.animType="webkitTransform",a.transformType="-webkit-transform",a.transitionType="webkitTransition",void 0===b.perspectiveProperty&&void 0===b.webkitPerspective&&(a.animType=!1)),void 0!==b.msTransform&&(a.animType="msTransform",a.transformType="-ms-transform",a.transitionType="msTransition",void 0===b.msTransform&&(a.animType=!1)),void 0!==b.transform&&!1!==a.animType&&(a.animType="transform",a.transformType="transform",a.transitionType="transition"),a.transformsEnabled=a.options.useTransform&&null!==a.animType&&!1!==a.animType},b.prototype.setSlideClasses=function(a){var b,c,d,e,f=this;c=f.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),f.$slides.eq(a).addClass("slick-current"),!0===f.options.centerMode?(b=Math.floor(f.options.slidesToShow/2),!0===f.options.infinite&&(a>=b&&a<=f.slideCount-1-b?f.$slides.slice(a-b,a+b+1).addClass("slick-active").attr("aria-hidden","false"):(d=f.options.slidesToShow+a,c.slice(d-b+1,d+b+2).addClass("slick-active").attr("aria-hidden","false")),0===a?c.eq(c.length-1-f.options.slidesToShow).addClass("slick-center"):a===f.slideCount-1&&c.eq(f.options.slidesToShow).addClass("slick-center")),f.$slides.eq(a).addClass("slick-center")):a>=0&&a<=f.slideCount-f.options.slidesToShow?f.$slides.slice(a,a+f.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):c.length<=f.options.slidesToShow?c.addClass("slick-active").attr("aria-hidden","false"):(e=f.slideCount%f.options.slidesToShow,d=!0===f.options.infinite?f.options.slidesToShow+a:a,f.options.slidesToShow==f.options.slidesToScroll&&f.slideCount-a<f.options.slidesToShow?c.slice(d-(f.options.slidesToShow-e),d+e).addClass("slick-active").attr("aria-hidden","false"):c.slice(d,d+f.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===f.options.lazyLoad&&f.lazyLoad()},b.prototype.setupInfinite=function(){var b,c,d,e=this;if(!0===e.options.fade&&(e.options.centerMode=!1),!0===e.options.infinite&&!1===e.options.fade&&(c=null,e.slideCount>e.options.slidesToShow)){for(d=!0===e.options.centerMode?e.options.slidesToShow+1:e.options.slidesToShow,b=e.slideCount;b>e.slideCount-d;b-=1)c=b-1,a(e.$slides[c]).clone(!0).attr("id","").attr("data-slick-index",c-e.slideCount).prependTo(e.$slideTrack).addClass("slick-cloned");for(b=0;b<d;b+=1)c=b,a(e.$slides[c]).clone(!0).attr("id","").attr("data-slick-index",c+e.slideCount).appendTo(e.$slideTrack).addClass("slick-cloned");e.$slideTrack.find(".slick-cloned").find("[id]").each(function(){a(this).attr("id","")})}},b.prototype.setPaused=function(a){var b=this;!0===b.options.autoplay&&!0===b.options.pauseOnHover&&(b.paused=a,a?b.autoPlayClear():b.autoPlay())},b.prototype.selectHandler=function(b){var c=this,d=a(b.target).is(".slick-slide")?a(b.target):a(b.target).parents(".slick-slide"),e=parseInt(d.attr("data-slick-index"));if(e||(e=0),c.slideCount<=c.options.slidesToShow)return c.setSlideClasses(e),void c.asNavFor(e);c.slideHandler(e)},b.prototype.slideHandler=function(a,b,c){var d,e,f,g,h=null,i=this;if(b=b||!1,(!0!==i.animating||!0!==i.options.waitForAnimate)&&!(!0===i.options.fade&&i.currentSlide===a||i.slideCount<=i.options.slidesToShow)){if(!1===b&&i.asNavFor(a),d=a,h=i.getLeft(d),g=i.getLeft(i.currentSlide),i.currentLeft=null===i.swipeLeft?g:i.swipeLeft,!1===i.options.infinite&&!1===i.options.centerMode&&(a<0||a>i.getDotCount()*i.options.slidesToScroll))return void(!1===i.options.fade&&(d=i.currentSlide,!0!==c?i.animateSlide(g,function(){i.postSlide(d)}):i.postSlide(d)));if(!1===i.options.infinite&&!0===i.options.centerMode&&(a<0||a>i.slideCount-i.options.slidesToScroll))return void(!1===i.options.fade&&(d=i.currentSlide,!0!==c?i.animateSlide(g,function(){i.postSlide(d)}):i.postSlide(d)));if(!0===i.options.autoplay&&clearInterval(i.autoPlayTimer),e=d<0?i.slideCount%i.options.slidesToScroll!=0?i.slideCount-i.slideCount%i.options.slidesToScroll:i.slideCount+d:d>=i.slideCount?i.slideCount%i.options.slidesToScroll!=0?0:d-i.slideCount:d,i.animating=!0,i.$slider.trigger("beforeChange",[i,i.currentSlide,e]),f=i.currentSlide,i.currentSlide=e,i.setSlideClasses(i.currentSlide),i.updateDots(),i.updateArrows(),!0===i.options.fade)return!0!==c?(i.fadeSlideOut(f),i.fadeSlide(e,function(){i.postSlide(e)})):i.postSlide(e),void i.animateHeight();!0!==c?i.animateSlide(h,function(){i.postSlide(e)}):i.postSlide(e)}},b.prototype.startLoad=function(){var a=this;!0===a.options.arrows&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.hide(),a.$nextArrow.hide()),!0===a.options.dots&&a.slideCount>a.options.slidesToShow&&a.$dots.hide(),a.$slider.addClass("slick-loading")},b.prototype.swipeDirection=function(){var a,b,c,d,e=this;return a=e.touchObject.startX-e.touchObject.curX,b=e.touchObject.startY-e.touchObject.curY,c=Math.atan2(b,a),d=Math.round(180*c/Math.PI),d<0&&(d=360-Math.abs(d)),d<=45&&d>=0?!1===e.options.rtl?"left":"right":d<=360&&d>=315?!1===e.options.rtl?"left":"right":d>=135&&d<=225?!1===e.options.rtl?"right":"left":!0===e.options.verticalSwiping?d>=35&&d<=135?"left":"right":"vertical"},b.prototype.swipeEnd=function(a){var b,c=this;if(c.dragging=!1,c.shouldClick=!(c.touchObject.swipeLength>10),void 0===c.touchObject.curX)return!1;if(!0===c.touchObject.edgeHit&&c.$slider.trigger("edge",[c,c.swipeDirection()]),c.touchObject.swipeLength>=c.touchObject.minSwipe)switch(c.swipeDirection()){case"left":b=c.options.swipeToSlide?c.checkNavigable(c.currentSlide+c.getSlideCount()):c.currentSlide+c.getSlideCount(),c.slideHandler(b),c.currentDirection=0,c.touchObject={},c.$slider.trigger("swipe",[c,"left"]);break;case"right":b=c.options.swipeToSlide?c.checkNavigable(c.currentSlide-c.getSlideCount()):c.currentSlide-c.getSlideCount(),c.slideHandler(b),c.currentDirection=1,c.touchObject={},c.$slider.trigger("swipe",[c,"right"])}else c.touchObject.startX!==c.touchObject.curX&&(c.slideHandler(c.currentSlide),c.touchObject={})},b.prototype.swipeHandler=function(a){var b=this;if(!(!1===b.options.swipe||"ontouchend"in document&&!1===b.options.swipe||!1===b.options.draggable&&-1!==a.type.indexOf("mouse")))switch(b.touchObject.fingerCount=a.originalEvent&&void 0!==a.originalEvent.touches?a.originalEvent.touches.length:1,b.touchObject.minSwipe=b.listWidth/b.options.touchThreshold,!0===b.options.verticalSwiping&&(b.touchObject.minSwipe=b.listHeight/b.options.touchThreshold),a.data.action){case"start":b.swipeStart(a);break;case"move":b.swipeMove(a);break;case"end":b.swipeEnd(a)}},b.prototype.swipeMove=function(a){var b,c,d,e,f,g=this;return f=void 0!==a.originalEvent?a.originalEvent.touches:null,!(!g.dragging||f&&1!==f.length)&&(b=g.getLeft(g.currentSlide),g.touchObject.curX=void 0!==f?f[0].pageX:a.clientX,g.touchObject.curY=void 0!==f?f[0].pageY:a.clientY,g.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(g.touchObject.curX-g.touchObject.startX,2))),!0===g.options.verticalSwiping&&(g.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(g.touchObject.curY-g.touchObject.startY,2)))),"vertical"!==(c=g.swipeDirection())?(void 0!==a.originalEvent&&g.touchObject.swipeLength>4&&a.preventDefault(),e=(!1===g.options.rtl?1:-1)*(g.touchObject.curX>g.touchObject.startX?1:-1),!0===g.options.verticalSwiping&&(e=g.touchObject.curY>g.touchObject.startY?1:-1),d=g.touchObject.swipeLength,g.touchObject.edgeHit=!1,!1===g.options.infinite&&(0===g.currentSlide&&"right"===c||g.currentSlide>=g.getDotCount()&&"left"===c)&&(d=g.touchObject.swipeLength*g.options.edgeFriction,g.touchObject.edgeHit=!0),!1===g.options.vertical?g.swipeLeft=b+d*e:g.swipeLeft=b+d*(g.$list.height()/g.listWidth)*e,!0===g.options.verticalSwiping&&(g.swipeLeft=b+d*e),!0!==g.options.fade&&!1!==g.options.touchMove&&(!0===g.animating?(g.swipeLeft=null,!1):void g.setCSS(g.swipeLeft))):void 0)},b.prototype.swipeStart=function(a){var b,c=this;if(1!==c.touchObject.fingerCount||c.slideCount<=c.options.slidesToShow)return c.touchObject={},!1;void 0!==a.originalEvent&&void 0!==a.originalEvent.touches&&(b=a.originalEvent.touches[0]),c.touchObject.startX=c.touchObject.curX=void 0!==b?b.pageX:a.clientX,c.touchObject.startY=c.touchObject.curY=void 0!==b?b.pageY:a.clientY,c.dragging=!0},b.prototype.unfilterSlides=b.prototype.slickUnfilter=function(){var a=this;null!==a.$slidesCache&&(a.unload(),a.$slideTrack.children(this.options.slide).detach(),a.$slidesCache.appendTo(a.$slideTrack),a.reinit())},b.prototype.unload=function(){var b=this;a(".slick-cloned",b.$slider).remove(),b.$dots&&b.$dots.remove(),b.$prevArrow&&b.htmlExpr.test(b.options.prevArrow)&&b.$prevArrow.remove(),b.$nextArrow&&b.htmlExpr.test(b.options.nextArrow)&&b.$nextArrow.remove(),b.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},b.prototype.unslick=function(a){var b=this;b.$slider.trigger("unslick",[b,a]),b.destroy()},b.prototype.updateArrows=function(){var a=this;Math.floor(a.options.slidesToShow/2),!0===a.options.arrows&&a.slideCount>a.options.slidesToShow&&!a.options.infinite&&(a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),a.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===a.currentSlide?(a.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),a.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):a.currentSlide>=a.slideCount-a.options.slidesToShow&&!1===a.options.centerMode?(a.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):a.currentSlide>=a.slideCount-1&&!0===a.options.centerMode&&(a.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},b.prototype.updateDots=function(){var a=this;null!==a.$dots&&(a.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),a.$dots.find("li").eq(Math.floor(a.currentSlide/a.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},b.prototype.visibility=function(){var a=this;document[a.hidden]?(a.paused=!0,a.autoPlayClear()):!0===a.options.autoplay&&(a.paused=!1,a.autoPlay())},b.prototype.initADA=function(){var b=this;b.$slides.add(b.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),b.$slideTrack.attr("role","listbox"),b.$slides.not(b.$slideTrack.find(".slick-cloned")).each(function(c){a(this).attr({role:"option","aria-describedby":"slick-slide"+b.instanceUid+c})}),null!==b.$dots&&b.$dots.attr("role","tablist").find("li").each(function(c){a(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+b.instanceUid+c,id:"slick-slide"+b.instanceUid+c})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),b.activateADA()},b.prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},b.prototype.focusHandler=function(){var b=this;b.$slider.on("focus.slick blur.slick","*",function(c){c.stopImmediatePropagation();var d=a(this);setTimeout(function(){b.isPlay&&(d.is(":focus")?(b.autoPlayClear(),b.paused=!0):(b.paused=!1,b.autoPlay()))},0)})},a.fn.slick=function(){var a,c,d=this,e=arguments[0],f=Array.prototype.slice.call(arguments,1),g=d.length;for(a=0;a<g;a++)if("object"==typeof e||void 0===e?d[a].slick=new b(d[a],e):c=d[a].slick[e].apply(d[a].slick,f),void 0!==c)return c;return d}});

!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a){a.fn.perfectScrollbar=function(b){return this.each(function(){if("object"==typeof b||void 0===b){var c=b;f.get(this)||e.initialize(this,c)}else{var d=b;"update"===d?e.update(this):"destroy"===d&&e.destroy(this)}return a(this)})}}var e=a("../main"),f=a("../plugin/instances");if("function"==typeof define&&define.amd)define(["jquery"],d);else{var g=window.jQuery?window.jQuery:window.$;void 0!==g&&d(g)}b.exports=d},{"../main":7,"../plugin/instances":18}],2:[function(a,b,c){"use strict";function d(a,b){var c=a.className.split(" ");c.indexOf(b)<0&&c.push(b),a.className=c.join(" ")}function e(a,b){var c=a.className.split(" "),d=c.indexOf(b);d>=0&&c.splice(d,1),a.className=c.join(" ")}c.add=function(a,b){a.classList?a.classList.add(b):d(a,b)},c.remove=function(a,b){a.classList?a.classList.remove(b):e(a,b)},c.list=function(a){return a.classList?Array.prototype.slice.apply(a.classList):a.className.split(" ")}},{}],3:[function(a,b,c){"use strict";function d(a,b){return window.getComputedStyle(a)[b]}function e(a,b,c){return"number"==typeof c&&(c=c.toString()+"px"),a.style[b]=c,a}function f(a,b){for(var c in b){var d=b[c];"number"==typeof d&&(d=d.toString()+"px"),a.style[c]=d}return a}var g={};g.e=function(a,b){var c=document.createElement(a);return c.className=b,c},g.appendTo=function(a,b){return b.appendChild(a),a},g.css=function(a,b,c){return"object"==typeof b?f(a,b):void 0===c?d(a,b):e(a,b,c)},g.matches=function(a,b){return void 0!==a.matches?a.matches(b):void 0!==a.matchesSelector?a.matchesSelector(b):void 0!==a.webkitMatchesSelector?a.webkitMatchesSelector(b):void 0!==a.mozMatchesSelector?a.mozMatchesSelector(b):void 0!==a.msMatchesSelector?a.msMatchesSelector(b):void 0},g.remove=function(a){void 0!==a.remove?a.remove():a.parentNode&&a.parentNode.removeChild(a)},g.queryChildren=function(a,b){return Array.prototype.filter.call(a.childNodes,function(a){return g.matches(a,b)})},b.exports=g},{}],4:[function(a,b,c){"use strict";var d=function(a){this.element=a,this.events={}};d.prototype.bind=function(a,b){void 0===this.events[a]&&(this.events[a]=[]),this.events[a].push(b),this.element.addEventListener(a,b,!1)},d.prototype.unbind=function(a,b){var c=void 0!==b;this.events[a]=this.events[a].filter(function(d){return!(!c||d===b)||(this.element.removeEventListener(a,d,!1),!1)},this)},d.prototype.unbindAll=function(){for(var a in this.events)this.unbind(a)};var e=function(){this.eventElements=[]};e.prototype.eventElement=function(a){var b=this.eventElements.filter(function(b){return b.element===a})[0];return void 0===b&&(b=new d(a),this.eventElements.push(b)),b},e.prototype.bind=function(a,b,c){this.eventElement(a).bind(b,c)},e.prototype.unbind=function(a,b,c){this.eventElement(a).unbind(b,c)},e.prototype.unbindAll=function(){for(var a=0;a<this.eventElements.length;a++)this.eventElements[a].unbindAll()},e.prototype.once=function(a,b,c){var d=this.eventElement(a),e=function(a){d.unbind(b,e),c(a)};d.bind(b,e)},b.exports=e},{}],5:[function(a,b,c){"use strict";b.exports=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}}()},{}],6:[function(a,b,c){"use strict";var d=a("./class"),e=a("./dom");c.toInt=function(a){return parseInt(a,10)||0},c.clone=function(a){if(null===a)return null;if("object"==typeof a){var b={};for(var c in a)b[c]=this.clone(a[c]);return b}return a},c.extend=function(a,b){var c=this.clone(a);for(var d in b)c[d]=this.clone(b[d]);return c},c.isEditable=function(a){return e.matches(a,"input,[contenteditable]")||e.matches(a,"select,[contenteditable]")||e.matches(a,"textarea,[contenteditable]")||e.matches(a,"button,[contenteditable]")},c.removePsClasses=function(a){for(var b=d.list(a),c=0;c<b.length;c++){var e=b[c];0===e.indexOf("ps-")&&d.remove(a,e)}},c.outerWidth=function(a){return this.toInt(e.css(a,"width"))+this.toInt(e.css(a,"paddingLeft"))+this.toInt(e.css(a,"paddingRight"))+this.toInt(e.css(a,"borderLeftWidth"))+this.toInt(e.css(a,"borderRightWidth"))},c.startScrolling=function(a,b){d.add(a,"ps-in-scrolling"),void 0!==b?d.add(a,"ps-"+b):(d.add(a,"ps-x"),d.add(a,"ps-y"))},c.stopScrolling=function(a,b){d.remove(a,"ps-in-scrolling"),void 0!==b?d.remove(a,"ps-"+b):(d.remove(a,"ps-x"),d.remove(a,"ps-y"))},c.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(a,b,c){"use strict";var d=a("./plugin/destroy"),e=a("./plugin/initialize"),f=a("./plugin/update");b.exports={initialize:e,update:f,destroy:d}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(a,b,c){"use strict";b.exports={maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,stopPropagationOnClick:!0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,useKeyboard:!0,useSelectionScroll:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],9:[function(a,b,c){"use strict";var d=a("../lib/dom"),e=a("../lib/helper"),f=a("./instances");b.exports=function(a){var b=f.get(a);b&&(b.event.unbindAll(),d.remove(b.scrollbarX),d.remove(b.scrollbarY),d.remove(b.scrollbarXRail),d.remove(b.scrollbarYRail),e.removePsClasses(a),f.remove(a))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(a,b,c){"use strict";function d(a,b){function c(a){return a.getBoundingClientRect()}var d=window.Event.prototype.stopPropagation.bind;b.settings.stopPropagationOnClick&&b.event.bind(b.scrollbarY,"click",d),b.event.bind(b.scrollbarYRail,"click",function(d){var f=e.toInt(b.scrollbarYHeight/2),i=b.railYRatio*(d.pageY-window.pageYOffset-c(b.scrollbarYRail).top-f),j=b.railYRatio*(b.railYHeight-b.scrollbarYHeight),k=i/j;k<0?k=0:k>1&&(k=1),h(a,"top",(b.contentHeight-b.containerHeight)*k),g(a),d.stopPropagation()}),b.settings.stopPropagationOnClick&&b.event.bind(b.scrollbarX,"click",d),b.event.bind(b.scrollbarXRail,"click",function(d){var f=e.toInt(b.scrollbarXWidth/2),i=b.railXRatio*(d.pageX-window.pageXOffset-c(b.scrollbarXRail).left-f),j=b.railXRatio*(b.railXWidth-b.scrollbarXWidth),k=i/j;k<0?k=0:k>1&&(k=1),h(a,"left",(b.contentWidth-b.containerWidth)*k-b.negativeScrollAdjustment),g(a),d.stopPropagation()})}var e=a("../../lib/helper"),f=a("../instances"),g=a("../update-geometry"),h=a("../update-scroll");b.exports=function(a){d(a,f.get(a))}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(a,b,c){"use strict";function d(a,b){function c(c){var e=d+c*b.railXRatio,f=Math.max(0,b.scrollbarXRail.getBoundingClientRect().left)+b.railXRatio*(b.railXWidth-b.scrollbarXWidth);b.scrollbarXLeft=e<0?0:e>f?f:e;var h=g.toInt(b.scrollbarXLeft*(b.contentWidth-b.containerWidth)/(b.containerWidth-b.railXRatio*b.scrollbarXWidth))-b.negativeScrollAdjustment;j(a,"left",h)}var d=null,e=null,h=function(b){c(b.pageX-e),i(a),b.stopPropagation(),b.preventDefault()},k=function(){g.stopScrolling(a,"x"),b.event.unbind(b.ownerDocument,"mousemove",h)};b.event.bind(b.scrollbarX,"mousedown",function(c){e=c.pageX,d=g.toInt(f.css(b.scrollbarX,"left"))*b.railXRatio,g.startScrolling(a,"x"),b.event.bind(b.ownerDocument,"mousemove",h),b.event.once(b.ownerDocument,"mouseup",k),c.stopPropagation(),c.preventDefault()})}function e(a,b){function c(c){var e=d+c*b.railYRatio,f=Math.max(0,b.scrollbarYRail.getBoundingClientRect().top)+b.railYRatio*(b.railYHeight-b.scrollbarYHeight);b.scrollbarYTop=e<0?0:e>f?f:e;var h=g.toInt(b.scrollbarYTop*(b.contentHeight-b.containerHeight)/(b.containerHeight-b.railYRatio*b.scrollbarYHeight));j(a,"top",h)}var d=null,e=null,h=function(b){c(b.pageY-e),i(a),b.stopPropagation(),b.preventDefault()},k=function(){g.stopScrolling(a,"y"),b.event.unbind(b.ownerDocument,"mousemove",h)};b.event.bind(b.scrollbarY,"mousedown",function(c){e=c.pageY,d=g.toInt(f.css(b.scrollbarY,"top"))*b.railYRatio,g.startScrolling(a,"y"),b.event.bind(b.ownerDocument,"mousemove",h),b.event.once(b.ownerDocument,"mouseup",k),c.stopPropagation(),c.preventDefault()})}var f=a("../../lib/dom"),g=a("../../lib/helper"),h=a("../instances"),i=a("../update-geometry"),j=a("../update-scroll");b.exports=function(a){var b=h.get(a);d(a,b),e(a,b)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(a,b,c){"use strict";function d(a,b){function c(c,d){var e=a.scrollTop;if(0===c){if(!b.scrollbarYActive)return!1;if(0===e&&d>0||e>=b.contentHeight-b.containerHeight&&d<0)return!b.settings.wheelPropagation}var f=a.scrollLeft;if(0===d){if(!b.scrollbarXActive)return!1;if(0===f&&c<0||f>=b.contentWidth-b.containerWidth&&c>0)return!b.settings.wheelPropagation}return!0}var d=!1;b.event.bind(a,"mouseenter",function(){d=!0}),b.event.bind(a,"mouseleave",function(){d=!1});var g=!1;b.event.bind(b.ownerDocument,"keydown",function(j){if(!j.isDefaultPrevented||!j.isDefaultPrevented()){var k=f.matches(b.scrollbarX,":focus")||f.matches(b.scrollbarY,":focus");if(d||k){var l=document.activeElement?document.activeElement:b.ownerDocument.activeElement;if(l){for(;l.shadowRoot;)l=l.shadowRoot.activeElement;if(e.isEditable(l))return}var m=0,n=0;switch(j.which){case 37:m=-30;break;case 38:n=30;break;case 39:m=30;break;case 40:n=-30;break;case 33:n=90;break;case 32:n=j.shiftKey?90:-90;break;case 34:n=-90;break;case 35:n=j.ctrlKey?-b.contentHeight:-b.containerHeight;break;case 36:n=j.ctrlKey?a.scrollTop:b.containerHeight;break;default:return}i(a,"top",a.scrollTop-n),i(a,"left",a.scrollLeft+m),h(a),g=c(m,n),g&&j.preventDefault()}}})}var e=a("../../lib/helper"),f=a("../../lib/dom"),g=a("../instances"),h=a("../update-geometry"),i=a("../update-scroll");b.exports=function(a){d(a,g.get(a))}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(a,b,c){"use strict";function d(a,b){function c(c,d){var e=a.scrollTop;if(0===c){if(!b.scrollbarYActive)return!1;if(0===e&&d>0||e>=b.contentHeight-b.containerHeight&&d<0)return!b.settings.wheelPropagation}var f=a.scrollLeft;if(0===d){if(!b.scrollbarXActive)return!1;if(0===f&&c<0||f>=b.contentWidth-b.containerWidth&&c>0)return!b.settings.wheelPropagation}return!0}function d(a){var b=a.deltaX,c=-1*a.deltaY;return void 0!==b&&void 0!==c||(b=-1*a.wheelDeltaX/6,c=a.wheelDeltaY/6),a.deltaMode&&1===a.deltaMode&&(b*=10,c*=10),b!==b&&c!==c&&(b=0,c=a.wheelDelta),[b,c]}function e(b,c){var d=a.querySelector("textarea:hover");if(d){var e=d.scrollHeight-d.clientHeight;if(e>0&&!(0===d.scrollTop&&c>0||d.scrollTop===e&&c<0))return!0;var f=d.scrollLeft-d.clientWidth;if(f>0&&!(0===d.scrollLeft&&b<0||d.scrollLeft===f&&b>0))return!0}return!1}function h(h){var j=d(h),k=j[0],l=j[1];e(k,l)||(i=!1,b.settings.useBothWheelAxes?b.scrollbarYActive&&!b.scrollbarXActive?(l?g(a,"top",a.scrollTop-l*b.settings.wheelSpeed):g(a,"top",a.scrollTop+k*b.settings.wheelSpeed),i=!0):b.scrollbarXActive&&!b.scrollbarYActive&&(k?g(a,"left",a.scrollLeft+k*b.settings.wheelSpeed):g(a,"left",a.scrollLeft-l*b.settings.wheelSpeed),i=!0):(g(a,"top",a.scrollTop-l*b.settings.wheelSpeed),g(a,"left",a.scrollLeft+k*b.settings.wheelSpeed)),f(a),(i=i||c(k,l))&&(h.stopPropagation(),h.preventDefault()))}var i=!1;void 0!==window.onwheel?b.event.bind(a,"wheel",h):void 0!==window.onmousewheel&&b.event.bind(a,"mousewheel",h)}var e=a("../instances"),f=a("../update-geometry"),g=a("../update-scroll");b.exports=function(a){d(a,e.get(a))}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(a,b,c){"use strict";function d(a,b){b.event.bind(a,"scroll",function(){f(a)})}var e=a("../instances"),f=a("../update-geometry");b.exports=function(a){d(a,e.get(a))}},{"../instances":18,"../update-geometry":19}],15:[function(a,b,c){"use strict";function d(a,b){function c(){var a=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===a.toString().length?null:a.getRangeAt(0).commonAncestorContainer}function d(){j||(j=setInterval(function(){if(!f.get(a))return void clearInterval(j);h(a,"top",a.scrollTop+k.top),h(a,"left",a.scrollLeft+k.left),g(a)},50))}function i(){j&&(clearInterval(j),j=null),e.stopScrolling(a)}var j=null,k={top:0,left:0},l=!1;b.event.bind(b.ownerDocument,"selectionchange",function(){a.contains(c())?l=!0:(l=!1,i())}),b.event.bind(window,"mouseup",function(){l&&(l=!1,i())}),b.event.bind(window,"mousemove",function(b){if(l){var c={x:b.pageX,y:b.pageY},f={left:a.offsetLeft,right:a.offsetLeft+a.offsetWidth,top:a.offsetTop,bottom:a.offsetTop+a.offsetHeight};c.x<f.left+3?(k.left=-5,e.startScrolling(a,"x")):c.x>f.right-3?(k.left=5,e.startScrolling(a,"x")):k.left=0,c.y<f.top+3?(f.top+3-c.y<5?k.top=-5:k.top=-20,e.startScrolling(a,"y")):c.y>f.bottom-3?(c.y-f.bottom+3<5?k.top=5:k.top=20,e.startScrolling(a,"y")):k.top=0,0===k.top&&0===k.left?i():d()}})}var e=a("../../lib/helper"),f=a("../instances"),g=a("../update-geometry"),h=a("../update-scroll");b.exports=function(a){d(a,f.get(a))}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(a,b,c){"use strict";function d(a,b,c,d){function h(c,d){var e=a.scrollTop,f=a.scrollLeft,g=Math.abs(c),h=Math.abs(d);if(h>g){if(d<0&&e===b.contentHeight-b.containerHeight||d>0&&0===e)return!b.settings.swipePropagation}else if(g>h&&(c<0&&f===b.contentWidth-b.containerWidth||c>0&&0===f))return!b.settings.swipePropagation;return!0}function i(b,c){g(a,"top",a.scrollTop-c),g(a,"left",a.scrollLeft-b),f(a)}function j(){u=!0}function k(){u=!1}function l(a){return a.targetTouches?a.targetTouches[0]:a}function m(a){return!(!a.targetTouches||1!==a.targetTouches.length)||!(!a.pointerType||"mouse"===a.pointerType||a.pointerType===a.MSPOINTER_TYPE_MOUSE)}function n(a){if(m(a)){v=!0;var b=l(a);q.pageX=b.pageX,q.pageY=b.pageY,r=(new Date).getTime(),null!==t&&clearInterval(t),a.stopPropagation()}}function o(a){if(!u&&v&&m(a)){var b=l(a),c={pageX:b.pageX,pageY:b.pageY},d=c.pageX-q.pageX,e=c.pageY-q.pageY;i(d,e),q=c;var f=(new Date).getTime(),g=f-r;g>0&&(s.x=d/g,s.y=e/g,r=f),h(d,e)&&(a.stopPropagation(),a.preventDefault())}}function p(){!u&&v&&(v=!1,clearInterval(t),t=setInterval(function(){return e.get(a)?Math.abs(s.x)<.01&&Math.abs(s.y)<.01?void clearInterval(t):(i(30*s.x,30*s.y),s.x*=.8,void(s.y*=.8)):void clearInterval(t)},10))}var q={},r=0,s={},t=null,u=!1,v=!1;c&&(b.event.bind(window,"touchstart",j),b.event.bind(window,"touchend",k),b.event.bind(a,"touchstart",n),b.event.bind(a,"touchmove",o),b.event.bind(a,"touchend",p)),d&&(window.PointerEvent?(b.event.bind(window,"pointerdown",j),b.event.bind(window,"pointerup",k),b.event.bind(a,"pointerdown",n),b.event.bind(a,"pointermove",o),b.event.bind(a,"pointerup",p)):window.MSPointerEvent&&(b.event.bind(window,"MSPointerDown",j),b.event.bind(window,"MSPointerUp",k),b.event.bind(a,"MSPointerDown",n),b.event.bind(a,"MSPointerMove",o),b.event.bind(a,"MSPointerUp",p)))}var e=a("../instances"),f=a("../update-geometry"),g=a("../update-scroll");b.exports=function(a,b,c){d(a,e.get(a),b,c)}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(a,b,c){"use strict";var d=a("../lib/class"),e=a("../lib/helper"),f=a("./instances"),g=a("./update-geometry"),h=a("./handler/click-rail"),i=a("./handler/drag-scrollbar"),j=a("./handler/keyboard"),k=a("./handler/mouse-wheel"),l=a("./handler/native-scroll"),m=a("./handler/selection"),n=a("./handler/touch");b.exports=function(a,b){b="object"==typeof b?b:{},d.add(a,"ps-container");var c=f.add(a);c.settings=e.extend(c.settings,b),d.add(a,"ps-theme-"+c.settings.theme),h(a),i(a),k(a),l(a),c.settings.useSelectionScroll&&m(a),(e.env.supportsTouch||e.env.supportsIePointer)&&n(a,e.env.supportsTouch,e.env.supportsIePointer),c.settings.useKeyboard&&j(a),g(a)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(a,b,c){"use strict";function d(a){function b(){h.add(a,"ps-focus")}function c(){h.remove(a,"ps-focus")}var d=this;d.settings=m.clone(j),d.containerWidth=null,d.containerHeight=null,d.contentWidth=null,d.contentHeight=null,d.isRtl="rtl"===i.css(a,"direction"),d.isNegativeScroll=function(){var b=a.scrollLeft,c=null;return a.scrollLeft=-1,c=a.scrollLeft<0,a.scrollLeft=b,c}(),d.negativeScrollAdjustment=d.isNegativeScroll?a.scrollWidth-a.clientWidth:0,d.event=new k,d.ownerDocument=a.ownerDocument||document,d.scrollbarXRail=i.appendTo(i.e("div","ps-scrollbar-x-rail"),a),d.scrollbarX=i.appendTo(i.e("div","ps-scrollbar-x"),d.scrollbarXRail),d.scrollbarX.setAttribute("tabindex",0),d.event.bind(d.scrollbarX,"focus",b),d.event.bind(d.scrollbarX,"blur",c),d.scrollbarXActive=null,d.scrollbarXWidth=null,d.scrollbarXLeft=null,d.scrollbarXBottom=m.toInt(i.css(d.scrollbarXRail,"bottom")),d.isScrollbarXUsingBottom=d.scrollbarXBottom===d.scrollbarXBottom,d.scrollbarXTop=d.isScrollbarXUsingBottom?null:m.toInt(i.css(d.scrollbarXRail,"top")),d.railBorderXWidth=m.toInt(i.css(d.scrollbarXRail,"borderLeftWidth"))+m.toInt(i.css(d.scrollbarXRail,"borderRightWidth")),i.css(d.scrollbarXRail,"display","block"),d.railXMarginWidth=m.toInt(i.css(d.scrollbarXRail,"marginLeft"))+m.toInt(i.css(d.scrollbarXRail,"marginRight")),i.css(d.scrollbarXRail,"display",""),d.railXWidth=null,d.railXRatio=null,d.scrollbarYRail=i.appendTo(i.e("div","ps-scrollbar-y-rail"),a),d.scrollbarY=i.appendTo(i.e("div","ps-scrollbar-y"),d.scrollbarYRail),d.scrollbarY.setAttribute("tabindex",0),d.event.bind(d.scrollbarY,"focus",b),d.event.bind(d.scrollbarY,"blur",c),d.scrollbarYActive=null,d.scrollbarYHeight=null,d.scrollbarYTop=null,d.scrollbarYRight=m.toInt(i.css(d.scrollbarYRail,"right")),d.isScrollbarYUsingRight=d.scrollbarYRight===d.scrollbarYRight,d.scrollbarYLeft=d.isScrollbarYUsingRight?null:m.toInt(i.css(d.scrollbarYRail,"left")),d.scrollbarYOuterWidth=d.isRtl?m.outerWidth(d.scrollbarY):null,d.railBorderYWidth=m.toInt(i.css(d.scrollbarYRail,"borderTopWidth"))+m.toInt(i.css(d.scrollbarYRail,"borderBottomWidth")),i.css(d.scrollbarYRail,"display","block"),d.railYMarginHeight=m.toInt(i.css(d.scrollbarYRail,"marginTop"))+m.toInt(i.css(d.scrollbarYRail,"marginBottom")),i.css(d.scrollbarYRail,"display",""),d.railYHeight=null,d.railYRatio=null}function e(a){return void 0===a.dataset?a.getAttribute("data-ps-id"):a.dataset.psId}function f(a,b){void 0===a.dataset?a.setAttribute("data-ps-id",b):a.dataset.psId=b}function g(a){void 0===a.dataset?a.removeAttribute("data-ps-id"):delete a.dataset.psId}var h=a("../lib/class"),i=a("../lib/dom"),j=a("./default-setting"),k=a("../lib/event-manager"),l=a("../lib/guid"),m=a("../lib/helper"),n={};c.add=function(a){var b=l();return f(a,b),n[b]=new d(a),n[b]},c.remove=function(a){delete n[e(a)],g(a)},c.get=function(a){return n[e(a)]}},{"../lib/class":2,"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(a,b,c){"use strict";function d(a,b){return a.settings.minScrollbarLength&&(b=Math.max(b,a.settings.minScrollbarLength)),a.settings.maxScrollbarLength&&(b=Math.min(b,a.settings.maxScrollbarLength)),b}function e(a,b){var c={width:b.railXWidth};b.isRtl?c.left=b.negativeScrollAdjustment+a.scrollLeft+b.containerWidth-b.contentWidth:c.left=a.scrollLeft,b.isScrollbarXUsingBottom?c.bottom=b.scrollbarXBottom-a.scrollTop:c.top=b.scrollbarXTop+a.scrollTop,g.css(b.scrollbarXRail,c);var d={top:a.scrollTop,height:b.railYHeight};b.isScrollbarYUsingRight?b.isRtl?d.right=b.contentWidth-(b.negativeScrollAdjustment+a.scrollLeft)-b.scrollbarYRight-b.scrollbarYOuterWidth:d.right=b.scrollbarYRight-a.scrollLeft:b.isRtl?d.left=b.negativeScrollAdjustment+a.scrollLeft+2*b.containerWidth-b.contentWidth-b.scrollbarYLeft-b.scrollbarYOuterWidth:d.left=b.scrollbarYLeft+a.scrollLeft,g.css(b.scrollbarYRail,d),g.css(b.scrollbarX,{left:b.scrollbarXLeft,width:b.scrollbarXWidth-b.railBorderXWidth}),g.css(b.scrollbarY,{top:b.scrollbarYTop,height:b.scrollbarYHeight-b.railBorderYWidth})}var f=a("../lib/class"),g=a("../lib/dom"),h=a("../lib/helper"),i=a("./instances"),j=a("./update-scroll");b.exports=function(a){var b=i.get(a);b.containerWidth=a.clientWidth,b.containerHeight=a.clientHeight,b.contentWidth=a.scrollWidth,b.contentHeight=a.scrollHeight;var c;a.contains(b.scrollbarXRail)||(c=g.queryChildren(a,".ps-scrollbar-x-rail"),c.length>0&&c.forEach(function(a){g.remove(a)}),g.appendTo(b.scrollbarXRail,a)),a.contains(b.scrollbarYRail)||(c=g.queryChildren(a,".ps-scrollbar-y-rail"),c.length>0&&c.forEach(function(a){g.remove(a)}),g.appendTo(b.scrollbarYRail,a)),!b.settings.suppressScrollX&&b.containerWidth+b.settings.scrollXMarginOffset<b.contentWidth?(b.scrollbarXActive=!0,b.railXWidth=b.containerWidth-b.railXMarginWidth,b.railXRatio=b.containerWidth/b.railXWidth,b.scrollbarXWidth=d(b,h.toInt(b.railXWidth*b.containerWidth/b.contentWidth)),b.scrollbarXLeft=h.toInt((b.negativeScrollAdjustment+a.scrollLeft)*(b.railXWidth-b.scrollbarXWidth)/(b.contentWidth-b.containerWidth))):b.scrollbarXActive=!1,!b.settings.suppressScrollY&&b.containerHeight+b.settings.scrollYMarginOffset<b.contentHeight?(b.scrollbarYActive=!0,b.railYHeight=b.containerHeight-b.railYMarginHeight,b.railYRatio=b.containerHeight/b.railYHeight,b.scrollbarYHeight=d(b,h.toInt(b.railYHeight*b.containerHeight/b.contentHeight)),b.scrollbarYTop=h.toInt(a.scrollTop*(b.railYHeight-b.scrollbarYHeight)/(b.contentHeight-b.containerHeight))):b.scrollbarYActive=!1,b.scrollbarXLeft>=b.railXWidth-b.scrollbarXWidth&&(b.scrollbarXLeft=b.railXWidth-b.scrollbarXWidth),b.scrollbarYTop>=b.railYHeight-b.scrollbarYHeight&&(b.scrollbarYTop=b.railYHeight-b.scrollbarYHeight),e(a,b),b.scrollbarXActive?f.add(a,"ps-active-x"):(f.remove(a,"ps-active-x"),b.scrollbarXWidth=0,b.scrollbarXLeft=0,j(a,"left",0)),b.scrollbarYActive?f.add(a,"ps-active-y"):(f.remove(a,"ps-active-y"),b.scrollbarYHeight=0,b.scrollbarYTop=0,j(a,"top",0))}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(a,b,c){"use strict";var d,e,f=a("./instances"),g=document.createEvent("Event"),h=document.createEvent("Event"),i=document.createEvent("Event"),j=document.createEvent("Event"),k=document.createEvent("Event"),l=document.createEvent("Event"),m=document.createEvent("Event"),n=document.createEvent("Event"),o=document.createEvent("Event"),p=document.createEvent("Event");g.initEvent("ps-scroll-up",!0,!0),h.initEvent("ps-scroll-down",!0,!0),i.initEvent("ps-scroll-left",!0,!0),j.initEvent("ps-scroll-right",!0,!0),k.initEvent("ps-scroll-y",!0,!0),l.initEvent("ps-scroll-x",!0,!0),m.initEvent("ps-x-reach-start",!0,!0),n.initEvent("ps-x-reach-end",!0,!0),o.initEvent("ps-y-reach-start",!0,!0),p.initEvent("ps-y-reach-end",!0,!0),b.exports=function(a,b,c){if(void 0===a)throw"You must provide an element to the update-scroll function";if(void 0===b)throw"You must provide an axis to the update-scroll function";if(void 0===c)throw"You must provide a value to the update-scroll function";"top"===b&&c<=0&&(a.scrollTop=c=0,a.dispatchEvent(o)),"left"===b&&c<=0&&(a.scrollLeft=c=0,a.dispatchEvent(m));var q=f.get(a);"top"===b&&c>=q.contentHeight-q.containerHeight&&(a.scrollTop=c=q.contentHeight-q.containerHeight,a.dispatchEvent(p)),"left"===b&&c>=q.contentWidth-q.containerWidth&&(a.scrollLeft=c=q.contentWidth-q.containerWidth,a.dispatchEvent(n)),d||(d=a.scrollTop),e||(e=a.scrollLeft),"top"===b&&c<d&&a.dispatchEvent(g),"top"===b&&c>d&&a.dispatchEvent(h),"left"===b&&c<e&&a.dispatchEvent(i),"left"===b&&c>e&&a.dispatchEvent(j),"top"===b&&(a.scrollTop=d=c,a.dispatchEvent(k)),"left"===b&&(a.scrollLeft=e=c,a.dispatchEvent(l))}},{"./instances":18}],21:[function(a,b,c){"use strict";var d=a("../lib/dom"),e=a("../lib/helper"),f=a("./instances"),g=a("./update-geometry"),h=a("./update-scroll");b.exports=function(a){var b=f.get(a);b&&(b.negativeScrollAdjustment=b.isNegativeScroll?a.scrollWidth-a.clientWidth:0,d.css(b.scrollbarXRail,"display","block"),d.css(b.scrollbarYRail,"display","block"),b.railXMarginWidth=e.toInt(d.css(b.scrollbarXRail,"marginLeft"))+e.toInt(d.css(b.scrollbarXRail,"marginRight")),b.railYMarginHeight=e.toInt(d.css(b.scrollbarYRail,"marginTop"))+e.toInt(d.css(b.scrollbarYRail,"marginBottom")),d.css(b.scrollbarXRail,"display","none"),d.css(b.scrollbarYRail,"display","none"),g(a),h(a,"top",a.scrollTop),h(a,"left",a.scrollLeft),d.css(b.scrollbarXRail,"display",""),d.css(b.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19,"./update-scroll":20}]},{},[1]);

/**
 * https://github.com/rstacruz/details-polyfill/blob/9f25de6a0d90bcd1dbd9ef21317e9276ca8f2633/index.js
 * !customized css at the end!
 */
(function(a,b){"function"===typeof define&&define.amd?define(b):"object"===typeof exports?module.exports=b():b()})(this,function(){(function(){var a=document.createElement("details");if(!("open"in a))return!1;a.innerHTML="<summary>a</summary>b";document.body.appendChild(a);var b=a.offsetHeight;a.open=!0;b=b!=a.offsetHeight;document.body.removeChild(a);return b})()||(document.documentElement.className+=" no-details",window.addEventListener("click",function(a){"summary"===a.target.nodeName.toLowerCase()&&(a=a.target.parentNode)&&(a.getAttribute("open")?(a.open=!1,a.removeAttribute("open")):(a.open=!0,a.setAttribute("open","open")))}),function(a,b){if(!document.getElementById(a)){var c=document.createElement("style");c.id=a;c.innerHTML=b;document.getElementsByTagName("head")[0].appendChild(c)}}("details-polyfill-style",'html.no-details details:not([open])>:not(summary){display:none} html.no-details details>summary{display:block}'))});


$(window).load(function () {
  // iterate Markup and add custom footnotes
  $('[data-source]').each(function (index, image) {
    $("<div class='number-on-reference' >[" + (index + 1) + "]</div>").insertAfter(image);
  });

  $(".btn-quelle").click(showImageSources);

});

/**
 * main function to extract data-source information from images and displays them in
 * the footer area of the page. this method is called through a link which is placed in the
 * footer area of the page
 */
function showImageSources() {
  var $demo = $('#demo');
  if ($demo.hasClass('hide')) {
    $demo.removeClass('hide').addClass('show');
    $("#showSources").find(".glyphicon").removeClass('glyphicon-chevron-right').addClass('glyphicon-chevron-down');

    $demo.show();

    if ($demo.hasClass('init')) {
      $demo.removeClass('init');

      $('[data-source]').each(function (index, image) {
        $demo.html($demo.text() + ' [' + (index + 1) + '] ' + $(image).attr('data-source'));
      });
    }

  } else {
    $demo.removeClass('show').addClass('hide');
    $("#showSources").find(".glyphicon").removeClass('glyphicon-chevron-down').addClass('glyphicon-chevron-right');
    $demo.hide();
  }
}


"use strict";

(function ($) {
  var form = $('#searchPage, form.with-pagination');

  if (!form.length) {
    return;
  }

  function setPagination(number) {
    form.find("input[name='pageNum']").val(number);
  }

  form.find("#reset-button").on("click", function () {
    form.find("#suche-kontext").find("input, select").val("");
    setPagination(0);
    form.submit();
  });

  form.find("select").on("change", function () {
    setPagination(0);
    form.submit();
  });

  form.find("input").keypress(function (event) {
    if (event.which === 13) {
      event.preventDefault();
      setPagination(0);
      form.submit();
      return false;
    }
  });

  form.find("a.didYouMeanLink").on("click", function (e) {
    e.preventDefault();
    form.find("input[name='query']").val($(this).text());
    form.submit();
  });

  form.find(".pagination ul a").on("click", function (e) {
    e.preventDefault();
    setPagination(parseInt($(this).text()) - 1);
    form.submit();
  });
  form.find(".pagination > a").on("click", function (e) {
    e.preventDefault();
    setPagination(parseInt(form.find(".pagination .pager-current").parent()[$(this).attr("rel")]().text()) - 1);
    form.submit();
  });

})(jQuery);


var isMobile      = false;

jQuery((function ($) {
  var checkBreakpoint = function () {
    if (Modernizr.mq('(min-width: 641px)')) {
      $('html').removeClass("isMobile");
      return false;
    }
    $('html').addClass("isMobile");
    return true;
  };

  isMobile = checkBreakpoint();
  $(window).resize(function () {
    isMobile = checkBreakpoint();
  });

  // mobile panel resizer
  $( window ).resize(function() {
      panelResize();
  });
  $(document).on("orientationchange", function(e) {
      panelResize();
  });
  // table-responsive scrolling fixes for mobile and desktop view
  var panelResize = function() {
    if(isMobile) {
      // mobile needs a width at panel-default
      $(".panel-default").each(function() {
        $(this).width($(document).width() - 30);
      });
      $(".table-responsive").each(function() {
        $(this).width("");
      });
    } else {
      // desktop needs a width at table-responsive
      $(".panel-default").each(function() {
        $(this).width("");
      });
      $(".table-responsive").each(function() {
        $(this).width(620);
      });
    }
  };

  panelResize();
  // end mobile panel resizer

  return function() {
      //console.log('promise finished');

      // Strukturseite Modulauswahl
      // --------------------------

      /*
      var modulTyp = '2a'; // 2a, 3a, 3c, 4a, 4b, 5a, 5b, 6a

      $('main').hide();
      $('.typ_' + modulTyp).show();
      */


      // Page settings
      // -------------

      var page = $('body').attr('id');
      //console.log(page);
      switch(page) {
        case 'contentpage-artikel':
            $('.navbar-ebene-4').hide();
            $('.nav-collapse-ebene-3 ul:first-child').addClass('arrow');
            break;
      }


      /*****************
      *
      * Masonry für NBAs
      *
      ******************/

      initMasonry();
      var resizeTimeout;
      $(window).resize(function () {
          if (resizeTimeout) {
              window.clearTimeout(resizeTimeout);
          }
          resizeTimeout = window.setTimeout(function () {
              initMasonry("resize");
          }, 500);
      });

      /*****************
      *
      * Sliding Shadows
      *
      ******************/

      slideShadow();

      /*****************
      *
      * Bindings
      *
      ******************/
      // Mobile Share Icon
      $(document).on('click', '.share-mobile-button, .share-mobile-button-close', function(e) {
          var _bar = $(".share-mobile-iconbar");
          if (_bar.hasClass("opened")){
          	_bar.removeClass("opened").css("display", "none");
          }
          else{
          	_bar.addClass("opened").css("display", "block");
          }
          return false;
      });

      // Mobile Search
      $(document).on('click touchstart', '.clear-search', function(e) {
          e.preventDefault();
          $( ".searchbar" ).slideToggle();
          $( ".searchfield" ).val('');
      });

      // Resize shadow on search results
      $('.page-wrapper').bind( 'resize', function(e) {
          slideShadow();
      });

      // Resize shadow, when div changes height - example: monday-forms
      new ResizeSensor($('article'), function () {
        slideShadow();
      });


      /*****************
      *
      * Modal Carousel
      *
      ******************/

      // Vertikale Zenrierung des Modal Windows
      $(document).on('shown.bs.modal', '.modal', centerModal);
      $(window).on('resize', function () {
          $('.modal:visible').each(centerModal);
      });
      window.addEventListener("orientationchange", function() {
          $('.modal:visible').each(centerModal);
      }, false);



      // Dynamisches Erzeugen des Carousels im Modal Window
      $(document).delegate('*[data-toggle="lightbox"]', 'click', function(event) {
          event.preventDefault();

          var carouselID          = $(this).closest('.carousel').attr('id');
          var carouselIndicators  = '';
          var carouselInner       = '';
          var carouselImages      = $('#'+carouselID+' .wrapper-parent .item a');
          var activeHref          = $(this).attr('href');
          var imgIDs              = [];

          //console.log(carouselID,carouselImages);

          carouselImages.each(function(index){
              var href    = $(this).attr('href');
              var title   = $(this).data('title');
              var footer  = $(this).data('footer');
              var isVideo = $(this).data('video');
              var imgID   = $(this).find('img').attr('src');

              if(imgIDs.indexOf(imgID) <= -1){
                  imgIDs.push(imgID);

                  var active = activeHref === href ? 'active' : '';

                  carouselIndicators += '<li data-target="#carousel-generic" data-slide-to="'+index+'" class="'+active+'"></li>';

                  if(typeof isVideo !== 'undefined'){
                      var videoContent = $(this).parent().find('.videoLayer').html();
                      carouselInner += '<div class="item '+active+'">'+videoContent+'<div class="carousel-caption"><h3>'+title+'</h3><p>'+footer+'</p></div></div>';
                  }
                  else {
                      var clonedImage = $(this).find('img').clone().attr("src", href)[0];
                      var srcRef = '';
                      try {
                          srcRef = $(this).find('.number-on-reference')[0].outerHTML;
                      } catch (ignored) {
                          // no reference found
                      }
                      carouselInner += '<div class="item '+active+'">'+clonedImage.outerHTML+'<div class="carousel-caption"><h3>'+title+'</h3><p>'+footer+'</p></div>'+srcRef+'</div>';
                  }
              }

          });

          $('#carousel-generic .carousel-indicators').html(carouselIndicators);
          $('#carousel-generic .carousel-inner').html(carouselInner);

          $('#carousel-generic').carousel({
                  interval: false
          });

          $('#genericModal').modal();
          $('#carousel-generic .carousel-control, #carousel-generic .carousel-indicators').show();
          $('#carousel-generic .carousel-caption').css('height', 'auto');
      });

      /*****************
      *
      * Modal Image
      *
      ******************/

      /*
      var isScrolled = false;
      $(".lightbox").on('swipeleft',  function(){ alert('left'); isScrolled = true; })
          .on('swiperight', function(){ alert('right'); isScrolled = true; })
          .on('swipeup',    function(){ alert('up'); isScrolled = true; })
          .on('swipedown',  function(){ alert('down'); isScrolled = true; });
      */

      function nextTouchEvent(){
          //event.preventDefault();

          $(this).on('touchend', function(e){
              var href    = $(this).find('img').attr('src');
              var alt     = $(this).find('img').attr('alt');
              var original= $(this).find('img').data('original');

              carouselIndicators = '<li data-target="#carousel-generic" data-slide-to="0" class="active"></li>';

              var caption = '';
              if(alt != ''){
                  caption = '<div class="carousel-caption"><p>'+alt+'</p></div>';
              }
              carouselInner = '<div class="item active"><img src="'+original+'" alt="" />'+caption+'</div>';

              $('#carousel-generic .carousel-indicators').html(carouselIndicators);
              $('#carousel-generic .carousel-inner').html(carouselInner);

              $('#carousel-generic').carousel();
              $('#genericModal').modal()
              $('#carousel-generic .carousel-control, #carousel-generic .carousel-indicators').hide();
              $('#carousel-generic .carousel-caption').css('height', 'auto');

              $(this).off('touchend');
          });

          $(this).on('touchmove', function(e){
              $(this).off('touchend');
          });
      }

      function nextClickEvent(event){
          event.preventDefault();

          var $img    = $(this).find('img');
          var href    = $img.attr('src');
          var alt     = $img.attr('alt');
          //var original= $img.data('original');
          var original= $img.attr('data-original');

          carouselIndicators = '<li data-target="#carousel-generic" data-slide-to="0" class="active"></li>';

          var caption = '';
          if(alt != ''){
              caption = '<div class="carousel-caption"><p>'+alt+'</p></div>';
          }
          carouselInner = '<div class="item active"><img src="'+original+'" alt="" />'+caption+'</div>';

          $('#carousel-generic .carousel-indicators').html(carouselIndicators);
          $('#carousel-generic .carousel-inner').html(carouselInner);

          $('#carousel-generic').carousel();
          $('#genericModal').modal()
          $('#carousel-generic .carousel-control, #carousel-generic .carousel-indicators').hide();
          $('#carousel-generic .carousel-caption').css('height', 'auto');
      }

      // Dynamisches Erzeugen des Carousels im Modal Window
      $(document).delegate('.lightbox', 'click', nextClickEvent);
      $('.lightbox').on('touchstart', this, nextTouchEvent);

      // Listener für "externen" Modal Close Button
      $(document).on("click touchstart", 'button.close', function() {
          $('.modal').modal('hide');
      });


      /****************************************
      *
      * Video in Modal fuer Slider Startseite - dbsystel
      *
      *****************************************/

      $(document).on('click touchstart', '.video-button', function(e) {
        e.preventDefault();
        var videoContent = $(this).parent().parent().find('.videoLayer').html();
        $('#carousel-generic .carousel-inner').html(videoContent);
        $('#carousel-generic').carousel();
        $('#genericModal').modal();
        $('#carousel-generic .carousel-control, #carousel-generic .carousel-indicators').hide();
        $('#carousel-generic .carousel-caption').css('height', 'auto');
        //$('.modal-body').html(videoContent);
        //$('#genericModal').modal('show');
      });

      /*****************
      *
      * Mobile Tabs
      *
      ******************/

      // if(isMobile === true){
          // $('.tab-pane').removeClass('active');
      // }

      $(document).on("click", '.mobile-tab', function() {
          var target      = $(this).attr('href');
          //console.log(target);
          var tabIsActive = $(target).hasClass('active');
          $('.tab-pane').removeClass('active');
          if(!tabIsActive){
              $(target).addClass('active');
              //$(target + ' + .nav-tabs li a .glyphicon-chevron-right').css('-webkit-transform', 'rotate(270deg)').css('margin-bottom','12px');
          }
      });


      /*****************
      *
      * Polyfills
      *
      ******************/

      // Placeholder Shim
      /*
      Modernizr.load({
          test: Modernizr.placeholder,
          nope: './bower_components/jquery-placeholder/jquery.placeholder.js',
          complete: function() {
              //init();
              $('input, textarea').placeholder();
          }
      });
      */

      /********************************
      *
      * StartPage Carousel ProgressBar
      *
      *********************************/

      progressBar();


      /********************************
      *
      * Initiate Mobile Menu
      *
      *********************************/

      if(isMobile) {
          $('.dl-menuwrapper').dlmenu();
          $('.dl-menuwrapper .dl-menu li a:first-child').click(function() {
              $(this).parent().addClass("pressed");
          });
      }

      /********************************
      *
      * Initiate Select Boxes
      *
      *********************************/

      if( /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent) ) {
          $('.selectpicker').selectpicker('mobile');
      }
      else {
          $('.selectpicker').selectpicker();
      }


      /********************************
      *
      * Initiate Panels
      *
      *********************************/

      $('.panel').find("[data-toggle='collapse']").addClass('collapsed');
      $('.panel .panel-collapse.collapse.in').prev('.collapsed').removeClass('collapsed'); //revert if open was forced

      /********************************
      *
      * Initiate Carousel IDs
      *
      *********************************/

      initCarouselIDs();

      /********************************
      *
      * Initiate Fastclick for Mobile
      *
      *********************************/

      FastClick.attach(document.body);

      /********************************
      *
      * Tablesorter
      *
      *********************************/

      try {
          $(".tablesorter").tablesorter();
      }
      catch(err) {
          //console.log(err.message);
      }

      /****************************************
       *
       * Video in headers - layout2014
       *
       *****************************************/

      $(document).on('click touchstart', '.header-overlay-h1.video', function (e) {
          e.preventDefault();
          var carousel = $('#carousel-generic');
          carousel.addClass('hideIndicators').find('.carousel-inner').html($(this).closest('.header-caption').find('.videoLayer').html());
          $('#genericModal').modal();
          carousel.find('.carousel-caption').css('height', 'auto');
      });

      $(document).on('click touchstart', '#interestFormLink', function(e) {
        e.preventDefault();
        if ( $('.interest-list-form input[name=seminarName]').val() == '' ) {
          $('.interest-list-form input[name=seminarName]').val($('article h1').text());
        }
        $('.interest-list-form').appendTo('#carousel-generic .carousel-inner').removeClass('hidden');
        $('#genericModal').modal();
        $('#carousel-generic .carousel-control, #carousel-generic .carousel-indicators').hide();
      });
  };

  function slideShadow(){
      //var topHeight = $('.header-part-1').outerHeight(true) + $('.header-part-2').outerHeight(true) + $('.header-part-3').outerHeight(true) + 40;
      var topHeight = $('.header-container').outerHeight(true) + $('.container-navbar-ebene-1').outerHeight(true) + $('.header-image').outerHeight(true) + 40;


      var bottomHeight = $('.container.footer').outerHeight(true);
      var contentHeight = $('main').outerHeight(true);

      var shadowHeight = $(window).height();// - topHeight;
      if (contentHeight < shadowHeight){
          shadowHeight = contentHeight - 40;
      }

      //console.log('top: ', topHeight);
      //console.log('bottom: ', bottomHeight);
      //console.log('shadowHeight: ', shadowHeight);
      //console.log('windowHeight: ', $(window).height());

      $('.vertical-shadow').height(shadowHeight);

      $('.vertical-shadow').affix({
          offset: {
              top: topHeight,
              bottom: bottomHeight
          }
      });
  }
}(jQuery)));

function initMasonry(resize){
    var windowWidth = $(window).width();
    var isInitialized = $('#nba-masonry').hasClass('masonryInitialized');
    if(windowWidth < 640 && !isInitialized){
        $('#nba-masonry').masonry({
            columnWidth: '.grid-sizer',
            itemSelector: '.nba-element',
            gutter: 20
        });
        $('#nba-masonry').addClass('masonryInitialized');
        window.setTimeout(function () {
            $('#nba-masonry').masonry('layout');
        }, 2000);
        window.setTimeout(function () {
            $('#nba-masonry').masonry('layout');
        }, 10000);
    }
    else if( windowWidth < 640 && isInitialized && resize == "resize") {
        $('#nba-masonry').masonry('layout');
    }
    else if(isInitialized) {
        $('#nba-masonry').masonry('destroy');
        $('#nba-masonry').removeClass('masonryInitialized');
    }
}

function centerModal() {
    //console.log(window.orientation);

    $(this).css('display', 'block');
    var $dialog = $(this).find(".modal-dialog");
    var $actualImg = $(this).find(".modal-dialog .item.active img");
    setTimeout( function(){
        var $dialogContent = $(".modal-content");

        $dialog.height('').width('');
        $dialog.css('position', '').css('left', '');

        var dialogHeight = $dialogContent.height() + 2; // + 2px border
        var dialogWidth = $dialogContent.width() + 2;   // + 2px border
        var imgHeight = $actualImg.height();
        var imgWidth = $actualImg.width();
        var windowHeight = window.innerHeight;
        var windowWidth = window.innerWidth;
        var aspectRatio = dialogWidth / dialogHeight;
        //console.log('dialogHeight',dialogHeight);
        //console.log('dialogWidth',dialogWidth);
        //console.log('windowHeight',windowHeight);
        //console.log('imgHeight',imgHeight);
        //console.log('imgWidth',imgWidth);

        if(dialogHeight <= windowHeight && dialogHeight < imgHeight){
            //console.log('dialogHeight <= windowHeight');
            dialogHeight  = windowHeight;
            dialogWidth   = dialogHeight * aspectRatio;
        }
        if(dialogWidth <= windowWidth && dialogWidth < imgWidth){
            //console.log('dialogWidth <= windowWidth');
            dialogWidth   = windowWidth;
            dialogHeight  = dialogWidth / aspectRatio;
        }

        if (dialogHeight > windowHeight){
            //console.log('dialogHeight > windowHeight');
            var factor      = windowHeight / dialogHeight;
            dialogHeight = (factor * dialogHeight) - 56;
            if ($('.mwf-form', $dialog).length == 0) {
              dialogWidth = (factor * dialogWidth) - (56 * aspectRatio);
            }
            $dialog.height(dialogHeight).width(dialogWidth);
            var posLeft = (windowWidth - dialogWidth) / 2;
            $dialog.css('position', 'absolute').css('left', posLeft);
        }
        if (dialogWidth > windowWidth){
            //console.log('dialogWidth > windowWidth');
            var factor      = windowWidth / dialogWidth;
            dialogHeight = (factor * dialogHeight) - 56;
            if ($('.mwf-form', $dialog).length == 0) {
              dialogWidth = (factor * dialogWidth) - (56 * aspectRatio);
            }
            $dialog.height(dialogHeight).width(dialogWidth);
            var posLeft = (windowWidth - dialogWidth) / 2;
            $dialog.css('position', 'absolute').css('left', posLeft);
        }

        var offset = (windowHeight - dialogHeight) / 2;
        if( offset > 300) {
            offset = 100;
        }
        // Center modal vertically in window
        $dialog.css('margin-top', offset);
        // MODIFIED BOOTSTRAP MODAL.JS:
        // commented out "this.setScrollbar()" (line 58) and "this.resetScrollbar()" (line 109) in modal.js because of bootstrap-error
        // (different browser handling of scrollbar and Modal.prototype.setScrollbar in modal.js (line 211)) --> made shift/left-right-movement of background-content

        $('.carousel-indicators').clone().appendTo('.ekko-lightbox .modal-content .modal-body');
        /*
        if(window.orientation == 90 || window.orientation == -90){
            $('.carousel-control.left').css('left','49px');
            $('.carousel-control.right').css('right','-35px');
        }
        else {
            $('.carousel-control.left').css('left','79px');
            $('.carousel-control.right').css('right','-65px');
        }
        */
    }, 100);
}

function progressBar(){
  $('#startPageCarouselMobile').carousel({
    interval: 6000
  });
  var percent = 0, bar = $('.transition-timer-carousel-progress-bar'), crsl = $('#startPageCarousel');
  function progressBarCarousel() {
    bar.css({width:percent+'%'});
    percent = percent +0.5;
    if (percent>100) {
        percent=0;
        crsl.carousel('next');
    }
  }
  crsl.carousel({
      interval: false,
      pause: true
  }).on('slid.bs.carousel', function () {});var barInterval = setInterval(progressBarCarousel, 30);
  crsl.hover(
      function(){
          clearInterval(barInterval);
      },
      function(){
          barInterval = setInterval(progressBarCarousel, 30);
      })
}

$.curCSS = function(element, attrib, val) {
    $(element).css(attrib, val);
};

// initialize carousel IDs
function initCarouselIDs () {
    setTimeout(function(){
        var carouselCounter = 0;
        var imageCounter = 0;
        var thisCarouselImages = null;
        $('.carousel.carousel-desktop, .carousel.carousel-mobile').each(function(){
            carouselCounter++;
            $(this).attr('id','carouselID-'+carouselCounter);
            $(this).find("[data-target='#carousel-target']").attr('data-target','#carouselID-'+carouselCounter);
            $(this).find("[href='#carousel-pager']").attr('href','#carouselID-'+carouselCounter);
            /*
            $(this).carousel({
                interval: false
            });
            */
            /*
            $(this).find('.carousel-inner .item a').each(function(){
                $(this).attr('data-carouselimgid',randomID());
            });
            */
        });
    }, 1000);
}

function randomID()
{
    var text = "";
    var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";

    for( var i=0; i < 5; i++ )
        text += possible.charAt(Math.floor(Math.random() * possible.length));

    return text;
}

function escapeHtml(unsafe) {
    return unsafe
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/"/g, "&quot;")
        .replace(/'/g, "&#039;");
}


/**
 * Some JS for the normal hover menus
 */
$(document).ready(function () {
  "use strict";
  // alignment of small menu
  $(".nav-menu-small > li > .dl-submenu").filter(function () {
    return $(this).height() > 160;
  }).addClass("right");

  // set margin if number of navigation-childs < 6
  $(".nav-menu-small > li > .dl-submenu").each(function() {
    if ($(this).children().length < 6) {
      $(this).css("margin-right", "30px");
    }
  });

  // fade out of stage
  var stage = function () {
    return $("html:not(.isMobile) .header-image .fill > *:first-child");
  };
  $(".navbar-nav > li:has(ul)").hover(function () {
    stage().stop().fadeTo("slow", 0.1);  //stop to cancel current fading
  }, function () {
    stage().stop().fadeTo("slow", 1);
  });
});


/*global jQuery */
/**
 * downloads in article (content area)
 */
jQuery((function ($) {
    'use strict';
    (function setHoverEffect() {
        $('article .embeddedDownload .download-asset').on('touchstart', function () {
            $(this).addClass('hover_effect');
        }).on('touchend', function () {
            $(this).removeClass('hover_effect');
        });
    }());

    // because of negative margin-left there has to be more margin-right for every left (odd) element which floats (without <p></p> between)
    (function setOddClass() {
        var counter = 1;
        $('article .embeddedDownload').each(function(){
            var thisEmbeddedDownload  = $(this);
            if (counter % 2) {
                thisEmbeddedDownload.addClass('embeddedDownload-odd');
            }
            if (thisEmbeddedDownload.next().hasClass('embeddedDownload')) {
                counter++;
            } else {
                counter = 1;
            }
        });
    }());
}(jQuery)));


/*global jQuery,isMobile */
/**
 * use an accordion for header dropDowns
 */
jQuery((function ($) {
    'use strict';
    $('header .btn-group.dropbutton').on('shown.bs.dropdown', function () {
        var dropdown = $(this).find('.dropdown-menu');
        if (isMobile) {
            // accordion
            $('header').css('margin-bottom', dropdown.outerHeight(false));
            // if we have more buttons adjust the offset to fill the screen
            dropdown.offset({left: 0});
        } else {
            //min-width should be equals to parent size
            dropdown.css('min-width', $(this).outerWidth(false));
        }
    }).on('hide.bs.dropdown', function () {
        $('html.isMobile header').css('margin-bottom', 0);
        $(this).find('.dropdown-menu').removeAttr('style');
    });
}(jQuery)));

/*global isMobile, jQuery */
/**
 * Initializes the pagegrid collapsibles
 */
jQuery((function ($) {
    'use strict';

    var slideTimeForLinkText = 350;
    (function collapsiblePlacementHeaders() {
        if (!isMobile) {
            $(".forwardLinkText a").animate({width:'toggle'},slideTimeForLinkText);
            $('.placementHead > .forwardLink .arrow-icon, .placementHead > .forwardLink .forwardLinkText a').hover(function (event) {
                    var placementHead = $(event.target).closest('.placementHead');
                    var tabPlacementHead = placementHead.next('.placementContent').find('.nav-tabs.withPlacementCluster');
                    var redicrectLink = placementHead.find('.forwardLinkText a');
                    $(placementHead).addClass("forwardLink_hover");
                    $(tabPlacementHead).addClass("forwardLink_hover");
                    $(redicrectLink).stop().animate({width:'toggle'},slideTimeForLinkText);
                },
                function (event) {
                    var placementHead = $(event.target).closest('.placementHead');
                    var tabPlacementHead = placementHead.next('.placementContent').find('.nav-tabs.withPlacementCluster');
                    var redicrectLink = placementHead.find('.forwardLinkText a');
                    $(placementHead).removeClass("forwardLink_hover");
                    $(tabPlacementHead).removeClass("forwardLink_hover");
                    $(redicrectLink).stop().animate({width:'toggle'},slideTimeForLinkText);
                }
            );
            // for tabs (querylists with linkname/tab-links) only
            $(document).on('click', '.nav-tabs.placementHead', function (event) {
                var tabPlacementHead = $(event.target).closest('.nav-tabs.placementHead');
                var tabLinks = tabPlacementHead.next('.tab-content').next('ul.tab-links');
                var overviewLinks = tabLinks.find('> li');
                overviewLinks.removeClass("active");
                $('#link' + event.target.id).addClass("active");
            });
        }
        // for mobile only
        $(document).on('click', '.placementHeadToggleIcon', function (event) {
            var placementHead = $(event.target).closest('.placementHead');
            var redicrectLink = placementHead.find('.forwardLinkText');
            var module = placementHead.next('.placementContent');
            var arrow = placementHead.find('.placementHeadToggleIcon');
            // check if link is rendered
            if (redicrectLink.length > 0) {
                redicrectLink.collapse('toggle');
            }
            module.collapse('toggle');
            arrow.toggleClass("in");
        });
        // for mobile tabs only
        $(document).on('click', '.mobileTabs.placementHead', function (event) {
            var placementHead = $(event.target).closest('.placementHead');
            var redicrectLink = placementHead.find('.forwardLinkText');
            var module = placementHead.next('.placementContent');
            var arrow = placementHead.find('.placementHeadToggleIconTab');
            // check if link is rendered
            if (redicrectLink.length > 0) {
              redicrectLink.collapse('toggle');
            }
            placementHead.find('h2').toggleClass("active");
            module.collapse('toggle');
            arrow.toggleClass("in");
        });
        // append background click for social modules, excluding inner links
        $('.placementContent .item[data-url]').css('cursor', 'pointer').click(function () {
            window.open($(this).data('url'), '_blank').focus();
        }).find('a').click(function (e) {
            e.stopPropagation();
        });
    }());

    /* ignore teaser overlaping in first placement */
    if(isMobile) {
        $(".container .pagegrid .pg-row .placement .teaser").each(function(){
            var ti = $(this).find(".teaserimage");
            var tc = $(this).find(".teasercontent");
            if(ti.height() < tc.height())
                ti.height(tc.height())
        })
    }
}(jQuery)));


/**
 * Initializes all the (slick) sliders
 */
jQuery((function ($) {
    'use strict';
    if (!$.fn.slick) {
        return;
    }
    var advertisingBannerSlideTime = window["advertisingBannerSlideTime"] || 5000;
    var headerBannerSlideTime = window["headerBannerSlideTime"] || 5000;
    var breakpoint = 640;

    (function initInfoRibbon() {
        var infoRibbons = $('.infoRibbon');
        if (infoRibbons.length) {
            infoRibbons.each(function () {
                // centralize the first element with the inner margin and extend collection if necessary
                var thisItem = $(this);
                if (thisItem.children().length < 1) {
                    return;
                }
                while (thisItem.children().length < 7) {
                    thisItem.children().clone().prependTo(thisItem);
                }
                var ch = thisItem.children();
                ch.last().prev().addBack().insertBefore(ch.first());
            }).slick({
                infinite: true,
                slidesToShow: 7,
                slidesToScroll: 2,
                responsive: [{
                    breakpoint: breakpoint,
                    settings: {
                        slidesToShow: 1,
                        slidesToScroll: 1,
                        swipeToSlide: true
                    }
                }],
                variableWidth: true,
                prevArrow: '<button type="button" class="slick-prev"></button>',
                nextArrow: '<button type="button" class="slick-next"></button>'
            });
        }
    }());

    (function initHeaderSlider() {
        var sliderContainer = $('.container.header-image div[class^="slider-"]');
        if (sliderContainer.length) {
            var slidesSize = sliderContainer.children().length;
            if (slidesSize < 1) {
                return;
            }

            var slickConfig = {
                infinite: true,
                centerMode: true,
                variableWidth: true,
                swipeToSlide: true
            };
            if (slidesSize === 1) {
                //disable slider if only one element exists - duplicate ths to show the blured pics
                sliderContainer.children().clone().appendTo(sliderContainer);
                slickConfig.arrows = false;
            } else {
                // adjust the autoplaySpeed also in layout2014-header-image .autoplay.slide h2:after#transition and/or in Page.body.ftl
                slickConfig = $.extend(slickConfig, {
                    autoplay: true,
                    autoplaySpeed: headerBannerSlideTime,
                    pauseOnHover: false,
                    dots: true,
                    speed: 0,
                    prevArrow: '<button type="button" class="slick-prev"></button>',
                    nextArrow: '<button type="button" class="slick-next"></button>'
                });
            }

            // both change-events and the option speed=0 are used to have some kind of fade effect as
            // transition for the images and a carousel for the captions - all hail to the ux guys the native
            // fade option from slick is only supposed to work without variableWidth
            var curSlide, nextSlide, isForward = null;
            var rem = function () {
                $(this).remove();
            };
            sliderContainer.slick(slickConfig).on('beforeChange', function (event, slick, cur, next) {
                /*jslint unparam:true*/
                curSlide = $(slick.$slides[cur]);
                nextSlide = $(slick.$slides[next]);
                isForward = !(cur === 0 && slick.$slides.length - 1 === next) &&
                            ((next > cur) || (next === 0 && slick.$slides.length - 1 === cur));

                curSlide.find('img').clone().addClass('prevImg').insertBefore(nextSlide.find('img')).fadeOut(350, rem);
                if (isForward) {
                    curSlide.find('h1, h2').animate({"left": "-=960px"}, 300, 'swing', function () {
                        $(this).css('left', '');
                    });
                    nextSlide.find('h1, h2').css('left', '+=960px').animate({"left": "-=960px"}, 450);
                } else if (cur === next) {
                    // do nothing
                } else {
                    curSlide.find('h1, h2').animate({"left": "+=960px"}, 300, 'swing', function () {
                        $(this).css('left', '');
                    });
                    nextSlide.find('h1, h2').css('left', '-=960px').animate({"left": "+=960px"}, 450);
                }
            }).on('afterChange', function (event, slick) {
                /*jslint unparam:true*/
                if (slick.$slider.hasClass('slider-wide')) {
                    var nxtFadeIn = (isForward ? nextSlide.next() : nextSlide.prev()).find('img');
                    nextSlide.find('img').clone().addClass('prevImg').insertBefore(nxtFadeIn).fadeOut(350, rem);
                    var curFadeOut = (isForward ? curSlide.prev() : curSlide.next()).find('img').clone();
                    curFadeOut.addClass('prevImg').insertBefore(curSlide.find('img')).fadeOut(350, rem);
                }
            });
            if (slickConfig.autoplay) {
                sliderContainer.addClass('autoplay');
            }

            // svg fallback for browsers with no css-blur support - the
            if (!isMobile && sliderContainer.hasClass('slider-wide') && !Modernizr.cssfilters && Modernizr.inlinesvg) {
                if (!Modernizr.picture && sliderContainer.find('img').parent().is('picture')) { // svg-fallback blur-effect has bugs with <picture> and <div class="image-wrapper"> --> so we remove them
                    sliderContainer.find('img').unwrap(); // unwrap picture
                    sliderContainer.find('source').remove(); // then source in unused
                    sliderContainer.find('img').unwrap(); // unwrap div.image-wrapper
                }
                sliderContainer.find('img').after(function () {
                    var img = $(this);
                    var blurVal = window.globalHeadSliderBlur;
                    blurVal = blurVal !== undefined && blurVal !== null && Math.floor(blurVal) === blurVal &&
                              $.isNumeric(blurVal) ? blurVal : 35;
                    return '<svg style="width: 960px; height: 300px; line-height: 0; position: absolute; top: 0; display: ' +
                           (img.parent().hasClass('slick-current') ? 'none' : 'initial') +
                           '"><defs><filter id="blur-effect" width="960" height="300"><feGaussianBlur stdDeviation="' +
                           blurVal + '"/></filter></defs><image xlink:href="' + img.attr('src') +
                           '" width="980" height="320" filter="url(#blur-effect)" /></svg>';
                });
                sliderContainer.on('beforeChange', function (event, slick, currentSlideNr, nextSlideNr) {
                    /*jslint unparam:true*/
                    $(slick.$slides[currentSlideNr]).find('svg').fadeToggle(500);
                    $(slick.$slides[nextSlideNr]).find('svg').fadeToggle(500);
                });
            }
        }
    }());
    (function initPlacementSlickSlider() {
        var plSliders = $('.pl-slider');
        if (plSliders.length) {
            plSliders.each(function () {
                // check if class "pl-slider" is set at the right position
                var thisPlSlider = $(this);
                var thisPlacement = $(this);
                if (thisPlacement.find('.placementContent').length) {
                    thisPlSlider = thisPlacement.children('.placementContent');
                    if (isMobile && !thisPlSlider.hasClass('in')) {
                        var redicrectLink = thisPlacement.find('.forwardLinkText');
                        var modules = thisPlacement.find('.placementContent');
                        var arrow = thisPlacement.find('.placementHeadToggleIcon');
                        // check if link is rendered
                        if (redicrectLink.length > 0) {
                            redicrectLink.collapse('show');
                        }
                        modules.collapse('show');
                        arrow.toggleClass("in");
                    }
                }
                if (thisPlSlider.find('.externalLinks').length || thisPlSlider.find('.twitter-content').length ||
                        thisPlSlider.find('.facebook-content').length || thisPlSlider.find('.instagram').length) {
                    thisPlSlider = thisPlSlider.children(':first-child');
                }
                thisPlacement.removeClass('pl-slider');
                thisPlSlider.addClass('pl-slider');

                // set slidesToShow (also rows and slidesPerRow) depending on width and module
                var slidesToShow = 1; // default for width-33
                var rows = 1; // default
                var slidesPerRow = 1; // default
                if (!isMobile) {
                    if (thisPlacement.hasClass('width-33')) {
                        if (thisPlSlider.hasClass('externalLinks')) {
                            rows = 2;
                            slidesPerRow = 1;
                        }
                    } else if (thisPlacement.hasClass('width-66')) {
                        slidesToShow = 2;
                        if (thisPlSlider.find('.teaser.campaign').length) {
                            slidesToShow = 1;
                        } else if (thisPlSlider.hasClass('externalLinks')) {
                            slidesToShow = 1;
                            rows = 2;
                            slidesPerRow = 2;
                        } else if (thisPlSlider.find('.filterproxy').length) {
                            slidesToShow = 1;
                            rows = 2;
                            slidesPerRow = 1;
                            if (thisPlacement.hasClass('height-200')) {
                                rows = 5;
                            }
                        }
                    } else if (thisPlacement.hasClass('width-100')) {
                        slidesToShow = 3;
                        if (thisPlSlider.find('.teaser.campaign').length) {
                            slidesToShow = 1;
                        } else if (thisPlSlider.hasClass('externalLinks')) {
                            slidesToShow = 1;
                            rows = 2;
                            slidesPerRow = 3;
                        } else if (thisPlSlider.find('.filterproxy').length) {
                            slidesToShow = 1;
                            rows = 2;
                            slidesPerRow = 1;
                        }
                    }
                    if (thisPlSlider.hasClass('twitter-content')) {
                        slidesToShow = 1;
                        rows = 2;
                        slidesPerRow = 1;
                        thisPlSlider.removeClass('desktop-y-scrollable');
                        if (thisPlacement.hasClass('width-100')) {
                            rows = 3;
                        }
                    } else if (thisPlSlider.hasClass('facebook-content')) {
                        slidesToShow = 1;
                        rows = 1;
                        slidesPerRow = 1;
                        thisPlSlider.removeClass('desktop-y-scrollable');
                    } else if (thisPlSlider.hasClass('instagram')) {
                        slidesToShow = 1;
                        rows = 2;
                        slidesPerRow = 1;
                        if (thisPlacement.hasClass('width-100')) {
                            rows = 1;
                        }
                    }
                } else if (isMobile && (thisPlacement.hasClass('width-100')) && (thisPlSlider.hasClass('instagram'))) {
                    thisPlSlider.find('.instagram-row').find('.teaserimage').unwrap();
                }

                if (thisPlacement.find('.dots-slider-wrapper').length) {
                    var dotsSlider = thisPlacement.find('.dots-slider');
                    dotsSlider.not('.slick-initialized').slick({
                        infinite: true,
                        dots: true,
                        arrows: false,
                        autoplay: true,
                        autoplaySpeed: advertisingBannerSlideTime,
                        slidesToShow: 1,
                        swipeToSlide: true,
                        slidesToScroll: 1,
                        responsive: [{
                            breakpoint: breakpoint,
                            settings: {
                                infinite: true,
                                dots: true,
                                arrows: false,
                                autoplay: true,
                                autoplaySpeed: advertisingBannerSlideTime,
                                slidesToShow: 1,
                                slidesToScroll: 1,
                                swipeToSlide: true
                            }
                        }]
                    });
                } else {
                    thisPlSlider.not('.slick-initialized').slick({
                        slidesToShow: slidesToShow,
                        slidesToScroll: slidesToShow,
                        rows: rows,
                        slidesPerRow: slidesPerRow,
                        dots: true,
                        prevArrow: '<button type="button" class="slick-prev"></button>',
                        nextArrow: '<button type="button" class="slick-next"></button>',
                        responsive: [{
                            breakpoint: breakpoint,
                            settings: {
                                slidesToShow: 1,
                                slidesToScroll: 1,
                                swipeToSlide: true,
                                rows: 1,
                                slidesPerRow: 1
                            }
                        }]
                    });
                    // set positions of slick-dots and arrows (calculated from width of dots)
                    thisPlSlider.slick('refresh');
                    // 8px width + 6px margin (left and right)
                    var slickDotsWidth = thisPlSlider.find('.slick-dots').find('li').length * (8 + 6);
                    var slickPrev = thisPlSlider.find('.slick-prev');
                    var slickNext = thisPlSlider.find('.slick-next');
                    // + 18px half arrow width (4) and distance (14) to dots
                    var slickButtonPosition = 'calc(50% - ' + ((slickDotsWidth / 2) + 18) + 'px)';
                    slickPrev.css('left', slickButtonPosition);
                    slickNext.css('right', slickButtonPosition);
                    if (isMobile && (thisPlacement.hasClass('width-100')) && (thisPlSlider.hasClass('instagram'))) {
                        thisPlSlider.find('.slick-track').addClass('instagram-row');
                    }
                }
            });
        }
    }());
}(jQuery)));


/*global isMobile, jQuery*/
/**
 * Resize the font in headers based on the displayed amount of text
 */
jQuery((function ($) {
    'use strict';
    var isSlider = $('.header-image div[class^=slider]');

    function format() {
        $('.header-caption').each(function () {
            var headerH1 = $(this).find('h1'), headerH2 = $(this).find('h2');
            if (headerH1.length && headerH2.length) {
                if (isMobile) {
                    if (headerH1[0].scrollHeight > 33) {
                        headerH1.addClass('hasMuchText');
                    }
                } else {
                    if (headerH2.parent('a').length) {  // if there is a link-icon (:after-element)
                        headerH2.css('min-width', (headerH1.outerWidth(false) + 110) + "px");   // 65px + :after-element (45px)
                        if (headerH1[0].scrollHeight > 45) {
                            headerH2.css('min-width', (headerH1.outerWidth(false) + 135) + "px");   // 65px + big-:after-element (70px)
                        }
                    } else {    // no link-icon (no :after-element-width to add)
                        headerH2.css('min-width', (headerH1.outerWidth(false) + 65) + "px");
                    }
                    if (headerH1[0].scrollHeight > 45) {
                        headerH1.addClass('hasMuchText');
                        if (headerH1.parent('a').length) {
                            headerH1.parent('a').css('min-width', '350px'); // 350px = 280px text-width + 70px big-:after-element
                        }
                        if (headerH2[0].scrollHeight < 62) {    // if h2-box ist smaller than h1-box -> bring them to same height
                            headerH2.css('padding', "24px 20px");
                            headerH2.css('min-height', "62px");
                        }
                    }
                }
            }
        });
    }

    format();
    if ($.fn.slick && isSlider.length) {
        var silderFont = function () {
            if (isSlider.hasClass('slick-initialized')) {
                format();
            } else {
                setTimeout(silderFont, 100);
            }
        };
        silderFont();
    }
}(jQuery)));


/*global isMobile, jQuery */
/**
 * Initializes all the js scrollbars
 */
jQuery((function ($) {
    'use strict';
    if (!$.fn.perfectScrollbar) {
        return;
    }
    if (!isMobile) {
        $('.desktop-y-scrollable').perfectScrollbar({
            suppressScrollX: true,
            wheelPropagation: true,
            swipePropagation: true
        }).parent().addClass('with-ps');
    }
}(jQuery)));

/*global jQuery */
/**
 * Video link in headers
 */
jQuery((function ($) {
    'use strict';
    $(document).on('click touchstart', '.header-overlay-h1.video', function (e) {
        e.preventDefault();
        var carousel = $('#carousel-generic');
        carousel.addClass('hideIndicators').find('.carousel-inner').html($(this).closest('.header-caption').find('.videoLayer').html());
        $('#genericModal').modal();
        carousel.find('.carousel-caption').css('height', 'auto');
    });
}(jQuery)));

/*global isMobile, jQuery */
/**
 * JS for MegaMenu
 */
/*jQuery((function ($) {*/

$(document).ready(function() {
    var megaMenuMainNavi = $(".dropdown.mega-dropdown");

    if(megaMenuMainNavi.length > 0) {

        /* Mega Menu Fade (Begin) */
        /* Fade out on click */
        megaMenuMainNavi.click(function(){
            $('img.hidden-xs').stop().fadeTo(1, 0.1);
            $('div#startPageCarousel, h1.header-overlay-h1, h2.header-overlay-h2, .image-wrapper > .number-on-reference:nth-of-type(1), .slider-wide.slick-slider, .slider-small.slick-slider, .db-bracket').fadeTo('slow', 0.1);
        });

        /* Click on DIVs surrounding Menu */
        $(document).on('click', function(event) {
            if (!$(event.target).closest('.dropdown.mega-dropdown').length) {
                $('img.hidden-xs').stop().fadeTo(1, 1);
                $('div#startPageCarousel, h1.header-overlay-h1, h2.header-overlay-h2, .image-wrapper > .number-on-reference:nth-of-type(1), .slider-wide.slick-slider, .slider-small.slick-slider, .db-bracket').fadeTo('slow', 1);
            }
        });

        /* Click on mega-dropdown with added class "open" (Menu-State -> opened) */
        $( ".navbar-nav" ).on( "click", ".dropdown.mega-dropdown.open", function() {
            $('img.hidden-xs').stop().fadeTo(1, 1);
            $('div#startPageCarousel, h1.header-overlay-h1, h2.header-overlay-h2, .image-wrapper > .number-on-reference:nth-of-type(1), .slider-wide.slick-slider, .slider-small.slick-slider, .db-bracket').fadeTo('slow', 1);
        });
        /* Mega Menu Fade (End) */

        /* Calculation for Menu CSS Left and Height Property (Begin) */
        var navHeightLevel2;
        var navHeightLevel3;
        var navHeightLevel4;
        var navHeightLevel5;
        var navHeightLevel6;

        megaMenuMainNavi.click(function(){
            navHeightLevel2 = $(this).find(".level2").height();

            if (navHeightLevel2 > 355)
            {
                $("ul.mega-dropdown-menu").css({'height': navHeightLevel2+"px" });
            }
        });

        $("li.level3").hover(function(event){
            var statusInfoteaser = $(this).parent().prev().hasClass('infoteaser');
            var widthInfoteaser = $(this).parent().prev('.infoteaser').outerWidth(true);
            var widthLevel2 = $(this).parent().outerWidth(true);
            navHeightLevel3 = $(".dropdown.mega-dropdown.open").find(".level3 > .mega-nav-level").height();
            if (statusInfoteaser) {
                $(".dropdown.mega-dropdown.open").find("li.level3 > ul").css({left: widthLevel2 + widthInfoteaser - 1});
            }
            else {
            $(".dropdown.mega-dropdown.open").find("li.level3 > ul").css({left: widthLevel2-1});
            }

            if (navHeightLevel3 > navHeightLevel2)
            {
                $("ul.mega-dropdown-menu").css({'height': navHeightLevel3+"px" });
            }
        });

        $("li.level4").hover(function(){
            var widthLevel3 = $(this).parent().outerWidth(true);
            navHeightLevel4 = $(".dropdown.mega-dropdown.open").find(".level4 > .mega-nav-level").height();

            $(".dropdown.mega-dropdown.open").find("li.level4 > ul").css({left: widthLevel3-1});
            if (navHeightLevel4 > navHeightLevel3)
            {
                $("ul.mega-dropdown-menu").css({'height': navHeightLevel4+"px" });
            }
        });

        $("li.level5").hover(function(){
            var widthLevel4 = $(this).parent().outerWidth(true);
            navHeightLevel5 = $(".dropdown.mega-dropdown.open").find(".level5 > .mega-nav-level").height();

            $(".dropdown.mega-dropdown.open").find("li.level5 > ul").css({left: widthLevel4-1});
            if (navHeightLevel5 > navHeightLevel4)
            {
                $("ul.mega-dropdown-menu").css({'height': navHeightLevel5+"px" });
            }
        });

        $("li.level6").hover(function(){
            var widthLevel5 = $(this).parent().outerWidth(true);
            navHeightLevel6 = $(".dropdown.mega-dropdown.open").find(".level6 > .mega-nav-level").height();

            $(".dropdown.mega-dropdown.open").find("li.level6 > ul").css({left: widthLevel5-1});
            if (navHeightLevel6 > navHeightLevel5)
            {
                $("ul.mega-dropdown-menu").css({'height': navHeightLevel6+"px" });
            }
        });
        /* Calculation for Menu CSS Left and Height Property (End) */

        $(".dropdown-submenu > a").append("<span class='openNextMenu'></span>");
        $(".dropdown-submenu > a .openNextMenu").click(function (evt) {
            evt.preventDefault();
            evt.stopPropagation();
            var activeList = $(this).closest(".dropdown-submenu");
            activeList.siblings(".open").removeClass("open");
            activeList.toggleClass("open");
        });

        /* for Tablets */
        $(".mega-dropdown").click(function () {
            var statusInfoteaser = $(this).find('.infoteaser');
            if (statusInfoteaser) {
                $(this).find("li.level3 > ul").css({left: "4000px"});
            }
        });

        $(".level3.dropdown-submenu > a .openNextMenu").click(function (evt) {
            evt.preventDefault();
            evt.stopPropagation();
            var statusInfoteaser = $(this).parent().parent().parent().prev().hasClass('infoteaser');
            var widthInfoteaser = $(this).parent().parent().parent().prev('.infoteaser').outerWidth(true);
            var widthLevel2 = $(this).parent().parent().parent().outerWidth(true);
            navHeightLevel3 = $(".dropdown.mega-dropdown.open").find(".level3 > .mega-nav-level").height();
            if (statusInfoteaser) {
                $(".dropdown.mega-dropdown.open").find("li.level3 > ul").css({left: widthLevel2 + widthInfoteaser - 1});
            }
            else {
                $(".dropdown.mega-dropdown.open").find("li.level3 > ul").css({left: widthLevel2-1});
            }

            if (navHeightLevel3 > navHeightLevel2)
            {
                $("ul.mega-dropdown-menu").css({'height': navHeightLevel3+"px" });
            }
        });

        $("li.level4.dropdown-submenu > a .openNextMenu").click(function (evt) {
            evt.preventDefault();
            evt.stopPropagation();
            var widthLevel3 = $(this).parent().parent().parent().outerWidth(true);
            navHeightLevel4 = $(".dropdown.mega-dropdown.open").find(".level4 > .mega-nav-level").height();

            $(".dropdown.mega-dropdown.open").find("li.level4 > ul").css({left: widthLevel3-1});
            if (navHeightLevel4 > navHeightLevel3)
            {
                $("ul.mega-dropdown-menu").css({'height': navHeightLevel4+"px" });
            }
        });

        $("li.level5.dropdown-submenu > a .openNextMenu").click(function (evt) {
            evt.preventDefault();
            evt.stopPropagation();
            var widthLevel4 = $(this).parent().parent().parent().outerWidth(true);
            navHeightLevel5 = $(".dropdown.mega-dropdown.open").find(".level5 > .mega-nav-level").height();

            $(".dropdown.mega-dropdown.open").find("li.level5 > ul").css({left: widthLevel4-1});
            if (navHeightLevel5 > navHeightLevel4)
            {
                $("ul.mega-dropdown-menu").css({'height': navHeightLevel5+"px" });
            }
        });

        $("li.level6.dropdown-submenu > a .openNextMenu").click(function (evt) {
            evt.preventDefault();
            evt.stopPropagation();
            var widthLevel5 = $(this).parent().parent().parent().outerWidth(true);
            navHeightLevel6 = $(".dropdown.mega-dropdown.open").find(".level6 > .mega-nav-level").height();

            $(".dropdown.mega-dropdown.open").find("li.level6 > ul").css({left: widthLevel5-1});
            if (navHeightLevel6 > navHeightLevel5)
            {
                $("ul.mega-dropdown-menu").css({'height': navHeightLevel6+"px" });
            }
        });



    }
});

//breadcrumb
jQuery((function ($) {
    'use strict';
    if ($('nav.breadcrumb ul li').length < 3) { //only active if at least 3 elements
        return;
    }
    // re-register expanding each time the breadcrumb area is leaved
    function registerExpander() {
        var breadcrumb = $('nav.breadcrumb ul.breadcrumbHidden li.active');
        breadcrumb.mouseenter(function () {
            if (isMobile) {
                return;
            }
            breadcrumb.off('mouseenter');
            $('nav.breadcrumb ul').removeClass('breadcrumbHidden');
        });
    }
    registerExpander();
    $('nav.breadcrumb ul').mouseleave(function() {
        if (isMobile) {
            return;
        }
        $('nav.breadcrumb ul').addClass('breadcrumbHidden');
        registerExpander();
    }).trigger('mouseleave');
}(jQuery)));

/* Auto open nav levels */
/*Versioned for later use*/
    /*$(document).ready(function(){
        megaMenuMainNavi.click(function(){
            $('.level3').addClass('active');
        });
    });*/

/*
}(jQuery)));*/


/*global isMobile, jQuery */
/**
 * JS for Media Gallerys
 */

$(document).ready(function() {

    var $slickAllItems = $('.mgalslick'),
        $slickElement33Wrapper = $('.width-33'),
        $slickElement66Wrapper = $('.width-66'),
        $slickElement100Wrapper = $('.width-100'),
        slideCounts = {
            width33: 1,
            width66: 3,
            width100: 4
        };

    if($slickAllItems.length > 0) {

        if(isMobile) {
            slideCounts.width66 = 1;
            slideCounts.width100 = 1;
        }

        $(".placementHeadToggleIcon").click(function () {
            window.setTimeout(function(){
                $('.mgalslick').slick('setPosition');
            },0);
        });

        $slickAllItems.on('init reInit afterChange', function (event, slick, currentSlide, nextSlide) {
            if(slick) {
                var visibleSlidesCount = slideCounts.width33,
                    context = slick.$nextArrow.context,
                    i, cur, test;

                if($(context).hasClass('width-66')) {
                    visibleSlidesCount = slideCounts.width66;
                } else if($(context).hasClass('width-100')) {
                    visibleSlidesCount = slideCounts.width100;
                }
                i = (currentSlide ? currentSlide : 0) + 1;
                cur = Math.ceil(i / visibleSlidesCount);
                test = Math.ceil(slick.slideCount / visibleSlidesCount);
                $(context).find(".pagingInfo").text(cur + ' von ' + test);
            }
        });

        /*
        * options
         * slickWrapper {object} dom for Slick Context Dom
         * slickitem {object} dom for Slick
        * slidesToShow {number} number of slides to show
        * slidesToScroll {number} number of slides to scroll
        * */
        function renderSlickInstance(options) {
            if(options.slickitem) {
                $(options.slickitem).slick({
                    slidesToShow: options.slidesToShow,
                    slidesToScroll: options.slidesToScroll,
                    dots: false,
                    prevArrow: $(options.slickWrapper).find('.slider-control.prev'),
                    nextArrow: $(options.slickWrapper).find('.slider-control.next'),
                    responsive: [
                        {
                            breakpoint: 640,
                            settings: {
                                slidesToShow: 1,
                                slidesToScroll: 1
                            }
                        }
                    ]
                });
            }
        }

        $slickElement33Wrapper.each(function (indx, item) {
            var slickItem = $(item).find(' .mgalslick'),
                slickOptions = {
                    slickWrapper: item,
                    slickitem: null,
                    slidesToShow: slideCounts.width33,
                    slidesToScroll: slideCounts.width33
                };

            if(slickItem.length > 0) {
                slickItem.each(function (indexOfSlick, itemOfSlick) {
                    slickOptions.slickitem = itemOfSlick;
                    renderSlickInstance(slickOptions)
                });

            }

        });


        $slickElement66Wrapper.each(function (indx, item) {
            var slickItem = $(item).find(' .mgalslick'),
                slickOptions = {
                    slickWrapper: item,
                    slickitem: null,
                    slidesToShow: slideCounts.width66,
                    slidesToScroll: slideCounts.width66
                }
            if(slickItem.length > 0) {
                slickItem.each(function (indexOfSlick, itemOfSlick) {
                    slickOptions.slickitem = itemOfSlick;
                    renderSlickInstance(slickOptions)
                });
            }

        });


        $slickElement100Wrapper.each(function (indx, item) {
            var slickItem = $(item).find(' .mgalslick'),
                slickOptions = {
                    slickWrapper: item,
                    slickitem: null,
                    slidesToShow: slideCounts.width100,
                    slidesToScroll: slideCounts.width100
                }
            if(slickItem.length > 0) {
                slickItem.each(function (indexOfSlick, itemOfSlick) {
                    slickOptions.slickitem = itemOfSlick;
                    renderSlickInstance(slickOptions)
                });
            }

        });
    }

});


/*global isMobile, jQuery */
/**
 * Shopping Basket for DB Training
 * Based on web storage
 */

var memoryList = (function () {
    var config = {
            expires: 604800, //7days in seconds = 604800
            memoryLists: ["objects"],
            countItemsShortList: 500
        },
        context = {
            lastModified: 0,
            date: new Date(),
            currentTime: Math.round(+new Date()/1000),
            expireDate: 0
        };

    var setIconsSelected = function (listObject) {
        $(listObject.items).each(function (indx, item) {
            $("span[data-itemid='" + item.id + "']").addClass("watchselected");

            /* Text change el */
            var el = $("span[data-itemid='" + item.id + "'] a");
            if (el.text() == el.data("toggletext")) {
              el.text(el.data("text-original"));
            } else {
              el.text(el.data("toggletext"));
            }
        });
    };

    /* aktualisiert die Anzeige der Anzahl gemerkter Leistungen */
    var updateMemorylistItemsCount = function () {
        var countMemoryListItems = 0;
        $(config.memoryLists).each(function (indx, listname) {
            listObject = getListFromStore(listname);
            if (typeof listObject == "object" && listObject.items) {
                countMemoryListItems += listObject.items.length;
            }
        });

        $(".countMemoryList").text(countMemoryListItems);

        /* show Message if MemoryList is empty */
        $(".memorylistShortMessage").hide();
        $(".memorylistDetailMessage").hide();
        if (countMemoryListItems == 0) {
            $(".memorylistShortMessage").show();
            $(".memorylistDetailInfoListWrapper").hide();
        }
        else {
            $(".memorylistDetailInfoListWrapper").show();
            $(".memorylistShowMessage").hide();
            $(".memorylistDetailMessage").hide();
        }
        renderDetaillistContent();
    };

    var renderMemoryListInformation = function () {
        var listObject;
        $(config.memoryLists).each(function (indx, listname) {
            listObject = getListFromStore(listname);
            if (typeof listObject == "object" && listObject.items) {
                setIconsSelected(listObject);
            }
        });
        updateMemorylistItemsCount();
    };

    var createMemoryListImpl = function () {
        if(localStorage.length > 0) {
            renderMemoryListInformation();
        }
    };

    /* Nicht den gesamten local Storage mit "clear()" leeren, da der local Storage auch von anderen Systemen benutzt wird */
    function clearMemoryListImpl() {
        $(config.memoryLists).each(function (indx, listname) {
            localStorage.removeItem(listname);
        });
        updateMemorylistItemsCount();
    };

    function renderShortlistContent() {
        var shortListItemsWrapper = $(".memorylistShortInfoListWrapper .memorylistShortInfoList"),
            maxItemsReached = false,
            listObject;
        $(".memorylistShortInfoListWrapper .memorylistShortInfoItem").remove();
        $(config.memoryLists).each(function (indx, listname) {
            listObject = getListFromStore(listname);
            if (typeof listObject == "object" && listObject.items && !maxItemsReached) {
                $(listObject.items).each(function (indxInner, itemsInner) {
                    if(indxInner == config.countItemsShortList) {
                        maxItemsReached = true;
                        return false;
                    } else {
                        shortListItemsWrapper.append("<a href='" + itemsInner.href + "'><li class='memorylistShortInfoItem'><p><span class='mlShortListTitle'>" + itemsInner.ctitle + "<br/>" + (itemsInner.title ? itemsInner.title : "") + "</span><span class='deleteMlItem' data-itemid='" + itemsInner.id + "'></span></p></li></a>");
                    }
                });
            }
        });
        addMemoryShortListEvents();
        }

    /**DetailList
    *
    * new classes: memorylistDetailInfoListWrapper, memorylistDetailInfoList, memorylistDetailInfoItem, mlDetailListTitle
    *
    * */
    function renderDetaillistContent() {
        var detailListItemsWrapper = $(".memorylistDetailInfoListWrapper .memorylistDetailInfoList"),
            maxItemsReached = false,
            itemPosition = 1,
            listObject;
        $(".memorylistDetailInfoListWrapper .memorylistDetailInfoItem").remove();
        $(config.memoryLists).each(function (indx, listname) {
            listObject = getListFromStore(listname);
            if (typeof listObject == "object" && listObject.items && !maxItemsReached) {
                $(listObject.items).each(function (indxInner, itemsInner) {
                    if(indxInner == config.countItemsShortList) {
                        maxItemsReached = true;
                        return false;
                    } else {
                        var serviceAmount = 1;
                        var serviceLevel = '';
                        $(listObject.items).each(function (indx, item) {
                            if(item.id == itemsInner.id) {
                                if (item.serviceAmount) {
                                    serviceAmount = parseInt(item.serviceAmount);
                                }
                                if (item.serviceLevel) {
                                    serviceLevel = item.serviceLevel;
                                }
                            }
                        });

                        var itemAmount = '1'; // Default value 1 for every element in memorylist
                        if (typeof itemAmount !== "undefined") {
                            itemAmount = "<input type='number' min='1' value='" + serviceAmount + "' name='memorylistAmount' class='memorylistAmount' data-itemid='" + itemsInner.id + "'>";
                        }
                        detailListItemsWrapper.append("<div class='row memorylistDetailInfoItem'>" +
                          "<span class='col-xs-1'><a href='" + itemsInner.href + "'>" + itemPosition + "</a></span>" +
                          "<span class='col-xs-1'><a href='" + itemsInner.href + "'>" + itemsInner.id + "</a></span>" +
                          "<span class='col-xs-5'><a href='" + itemsInner.href + "'>" + itemsInner.ctitle + "<br/>" + itemsInner.dateBegin + " - " + itemsInner.dateEnd + "</a></span>" +
                          "<span class='col-xs-2'><a href='" + itemsInner.href + "'>" + (itemsInner.location ? itemsInner.location : "-") + "</a></span>" +
                          "<span class='col-xs-1'>" + itemsInner.price + "</span>" +
                          "<span class='col-xs-1'>" + itemAmount + "</span>" +
                          "<span class='col-xs-1 deleteMlItem' data-itemid='" + itemsInner.id + "'></span></div>");
                        itemPosition = itemPosition+1;
                    }
                });
            }
        });
        addMemoryShortListEvents();

        /**
         * Save service level
         */
        $('.memorylistLevel').on('change', function() {
            var itemId = $(this).data('itemid');
            var itemValue = $(this).val();
            if (itemId && itemValue) {
                var objectsList = getListFromStore('objects');

                if(typeof objectsList == "object" && objectsList.items) {
                    $(objectsList.items).each(function (indx, item) {
                        if(item.id == itemId) {
                            objectsList.items[indx].serviceLevel = itemValue;
                        }
                    });
                    localStorage.setItem('objects', JSON.stringify(objectsList));
                }
            }
        });

        /**
         * Save service amount
         */
        $('.memorylistAmount').on('input', function() {
            var itemId = $(this).data('itemid');
            var itemValue = $(this).val();
            if (itemId && itemValue) {
                var objectsList = getListFromStore('objects');

                if(typeof objectsList == "object" && objectsList.items) {
                    $(objectsList.items).each(function (indx, item) {
                        if(item.id == itemId) {
                            objectsList.items[indx].serviceAmount = itemValue;
                        }
                    });
                    localStorage.setItem('objects', JSON.stringify(objectsList));
                }
            }
        });
      $(document).on("mwf-ajax-finished", function () {
        $("input[name='memListObject']").val(localStorage.getItem("objects"));
      });
    }

    function renderListsContent() {
        renderShortlistContent();
        renderDetaillistContent();
    }

    /**
     * Set the local storage expiration date.
     **/
    function setCookieAge() {
        context.newExpireDate = Math.round((Math.floor(Date.now()/1000)+config.expires));
        localStorage.setItem('new_memory_list_expire_date', context.newExpireDate);
    }

    /**
     * Check the age of the local storage content. Delete the content if older than the expire date.
     **/
    function checkCookieAge() {
        if(localStorage.getItem('new_memory_list_expire_date') < (Math.floor(Date.now() / 1000))) {
            clearMemoryListImpl();
            renderListsContent();
            $('.watchicon-wrapper .watchicon').removeClass( "watchselected" );
        }
    }

    var showShortList = function () {
        var shortListDOM = $(".memorylistShortInfoListWrapper");
        if(!shortListDOM.hasClass("shortListVisible")) {
            renderListsContent();
        }
        shortListDOM.toggleClass("shortListVisible");
    };

    var addMemoryListEvents = function() {

        /**
         * add or remove item, triggered from accordion icons
         */
        $('.watchicon-wrapper .watchicon').click(function (evt) {
            evt.preventDefault();
            $( this ).toggleClass( "watchselected" );

            /* Text change el */
            var el = $('a', $(this));
            if (el.text() == el.data("toggletext")) {
              el.text(el.data("text-original"));
            } else {
              el.text(el.data("toggletext"));
            }

            var itemId = $(this).data("itemid"),
                memoryItem = dbTrainingObject.memoryList[itemId],
                thisId = this.id;

            $.notify.defaults({
                arrowShow: false,
                autoHideDelay: 5000,
                position: "top"
            });

            if (typeof memoryItem == "object" && memoryItem.id) {
                if($( this ).hasClass("watchselected")) {

                    addMemoryItem(memoryItem, renderListsContent);
                      $( this ).notify(
                          linkTextOrderMessage, "success"
                      );
                } else {
                    removeMemoryItem(memoryItem, renderListsContent);
                     $( this ).notify(
                          linkTextDismissMessage
                      );
                }
            }
            // if there are two watchicons then both should be toggle synchronous
            $(".watchicon-wrapper span[data-itemid='" + itemId + "']").each(function (indx, item) {
                if (thisId != item.id) {
                    $(this).toggleClass("watchselected");
                }
            });
            setCookieAge();
        });

        /**
         * show/hide shortlist in status bar
         * */
        $(".memorylistShowShortInfoBtn").click(function (evt) {
            evt.preventDefault();
            showShortList();
        })
    };

    var addMemoryShortListEvents = function() {

        /***
         ** remove item, triggered from shortlist
         **/
        $('.memorylistShortInfoList .deleteMlItem').off("click").on("click", function (evt) {
            evt.preventDefault();
            var itemId = $(this).data("itemid");

            // check list "objects" and remove it, do not care about dbTrainingObject here!
            var objectsList = getListFromStore('objects');

            if(typeof objectsList == "object" && objectsList.items) {
                $(objectsList.items).each(function (indx, item) {
                    if(item.id == itemId) {
                        deleteItemByIdImpl('objects', itemId);

                        /* Text change el */
                        var el = $("span[data-itemid='" + item.id + "'] a");
                        if (el.text() == el.data("toggletext")) {
                          el.text(el.data("text-original"));
                        } else {
                          el.text(el.data("toggletext"));
                        }

                    }
                });
            }

            // check for existence of watchicon on current page and remove
            var watchIconCheckId = 'span[data-itemid="' + itemId + '"]';
            if($(watchIconCheckId).length) {
                $(watchIconCheckId).removeClass("watchselected");
            }
            renderListsContent();
            setCookieAge();
        });

        /**
         * remove item, triggered from detaillist
         */
        $('.memorylistDetailInfoList .deleteMlItem').off("click").on("click", function (evt) {
            evt.preventDefault();
            var itemId = $(this).data("itemid");

          // check list "objects" and remove it, do not care about dbTrainingObject here!
            var objectsList = getListFromStore('objects');

            if(typeof objectsList == "object" && objectsList.items) {
                $(objectsList.items).each(function (indx, item) {
                    if(item.id == itemId) {
                        deleteItemByIdImpl('objects', itemId);

                        /* Text change el */
                        var el = $("span[data-itemid='" + item.id + "'] a");
                        if (el.text() == el.data("toggletext")) {
                          el.text(el.data("text-original"));
                        } else {
                          el.text(el.data("toggletext"));
                        }

                    }
                });
            }

            // check for existance of watchicon on current page and remove
            var watchIconCheckId = 'span[data-itemid="' + itemId + '"]';
            if($(watchIconCheckId).length) {
                $(watchIconCheckId).removeClass("watchselected");
            }
            renderListsContent();
            setCookieAge();
        });

        $(".memorylistClearBtn").off("click").on("click", function (evt) {
            evt.preventDefault();
            clearMemoryListImpl();
            renderListsContent();
            $("span.watchicon").removeClass("watchselected");

            /* Text change el */
            var el = $("span.watchicon a");
            el.text(el.data("text-original"));
        });
    };

    var getListFromStore = function (listname) {
        var storeList = localStorage.getItem(listname);
        if (typeof storeList === "undefined" || storeList == null) {
            storeList = "";
        } else {
            storeList = $.parseJSON(storeList);
        }
        return storeList;
    };

    var deleteItemByIdImpl = function (listname, itemId, callback) {
        var storeList = getListFromStore(listname);
        if(typeof storeList == "object" && storeList.items) {
            $(storeList.items).each(function (indx, item) {
                if(item.id == itemId) {
                    storeList.items.splice(indx, 1);
                    return false;
                }
            });
        }
        localStorage.setItem(listname, JSON.stringify(storeList));
        updateMemorylistItemsCount();
        if(callback) {
            callback();
        }
    };

    /**
     * itemObject
     * id {number} id of the item
     * listname {string} name if the list to store
     * callback {function} optional function
     * */
    var removeMemoryItem = function (itemObject, callback) {
        deleteItemByIdImpl(itemObject.listname, itemObject.id, callback);
    };

    /**
     * options
     * title {string} headline item
     * id {number} id of the item
     * listname {string} name if the list to store
     * callback {function} optional function
     * */
    var addMemoryItem = function (itemObject, callback) {
        var storeList = getListFromStore(itemObject.listname);
        if (typeof storeList == "object" && storeList.items) {
            storeList.items.push(itemObject);
        } else {
            storeList = {
                items: [itemObject]
            };
        }
        localStorage.setItem(itemObject.listname, JSON.stringify(storeList));
        updateMemorylistItemsCount();
        if(callback) {
            callback();
        }
    };

    var prepareMemoryListStatusBar = function () {
        if($("#memoryListMarkup").length) {
            var domEl = $("#memoryListMarkup").html();
            $("body").prepend(domEl);
            $(".memorylistBlock").slideDown();
        }
        createMemoryListImpl();
        addMemoryListEvents();
    };

    var initImpl = function () {
        prepareMemoryListStatusBar();
    };

    return {
        /**
        * Initial create cookie and update expire date
        * */
        init: function () {
            initImpl();
            checkCookieAge();
        },
        /**
         * Delete item from list in cookie
         * @param listname {String} name of the list
         * @param itemId {String} id of the item to delete
         * */
        deleteItemById: function (listname, itemId) {
            deleteItemByIdImpl(listname, itemId);
        },
        /**
        * delete all memory entries in cookie
        * */
        clearMemoryList: function () {
            clearMemoryListImpl();
        }
    };

})();

$(document).ready(function() {
    'use strict';
    if(typeof dbTrainingObject === "object") {
        memoryList.init();
    }

    $(function() {
        // check if watchicon is selected and change tooltip
        $(".watchicon-wrapper .watchicon").hover(function () {
            if ($( this ).hasClass("watchselected")){
                $( this ).attr("title", "Aus dem Warenkorb entfernen");
            }else {
                $( this ).attr("title", "Zum Warenkorb hinzuf\u00fcgen");
            }
        })
    });
});


/**
 * YouTube Video Overlay
 */
jQuery((function ($) {
    'use strict';
    $(document).on('click touchstart', '.youtube .teaserimage', function (e) {
        e.preventDefault();
        var carousel = $('#carousel-generic');
        carousel.addClass('hideIndicators').find('.carousel-inner').html($(this).find('.videoLayer').html());
        $('#genericModal').modal();
        carousel.find('.carousel-caption').css('height', 'auto');
    });
}(jQuery)));

// adds the class "ios" to the HTML Tag if an iOS System is detected in the UserAgent (CSS Styling purposes)
jQuery((function ($) {
    'use strict';

    if (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream) {
        $('html').addClass('ios');
    }
    // Not an iOS device - Place actions here
    // For detailed iOS version checks - http://stackoverflow.com/questions/9038625/detect-if-device-is-ios/9039885#9039885

}(jQuery)));

/*global jQuery, showImageSources*/
/**
 * Initializes for printing
 */


(function ($) {
    'use strict';
    // http://pupunzi.open-lab.com/2013/01/16/jquery-1-9-is-out-and-browser-has-been-removed-a-fast-workaround/
    jQuery.browser = {};
    jQuery.browser.mozilla = /mozilla/.test(navigator.userAgent.toLowerCase()) &&
                             !/webkit/.test(navigator.userAgent.toLowerCase());
    jQuery.browser.webkit = /webkit/.test(navigator.userAgent.toLowerCase());

    var beforePrint = function () {
        // generate footnotes when printing
        showImageSources();
        // hide header section and footer information (only in db-bracket-top) if no EcmChannel
        if ($('.strukturseite').length === 0) {
            $('section').css('display', 'none');
            $('.container.footer .db-bracket-top').css('display', 'none');
            if (!jQuery.browser.webkit) {
                var $nba = $('#nba-masonry');
                $nba.parent().addClass('nba-masonry');
                $nba.insertAfter('article');
                var $header = $('header .row-header .col-sm-4.hidden-xs');
                if ($header.children().length === 0) {
                    $header.addClass('col-sm-4-removed').removeClass('col-sm-4');
                }
            }
            if (jQuery.browser.webkit) {
                $('article').css('max-width', '100%');
            }
            if (jQuery.browser.mozilla) {
                $('.fill').css('width', '60%');
                $('.page-wrapper').css('zoom', '100%');
            }
        }
    };

    var afterPrint = function () {
        //reset changes from beforePrint
        showImageSources();
        $('section').css('display', 'block');
        $('.container.footer .db-bracket-top').css('display', 'block');
        if (!jQuery.browser.webkit) {
            $('.nba-masonry').append($('#nba-masonry')).removeClass('nba-masonry');
            var $col = $('.col-sm-4-removed');
            if ($col.length) {
                $col.addClass('col-sm-4').removeClass('col-sm-4-removed');
            }
        }
        if (jQuery.browser.webkit) {
            $('article').css('max-width', '620px');
        }
        if (jQuery.browser.mozilla) {
            $('.fill').css('width', '960px');
        }
    };

    if (window.matchMedia) {
        window.matchMedia('print').addListener(function (mql) {
            if (mql.matches) {
                beforePrint();
            } else {
                afterPrint();
            }
        });
    }
    window.onbeforeprint = beforePrint;
    window.onafterprint = afterPrint;
}(jQuery));


$(document).ready(function () {
    var applicationSearch = $('#application-search');

    if (applicationSearch.length) {
        var apps = window.applications || [];
        apps.forEach(function (application) {//initialize list of applications
            $('.applications-list').append('<li class="application-element"><a target="_self" class="row" href="' + application[1] +
                '"><span class="shortName col-md-2 col-sm-2 col-xs-4">' + application[0] +
                '</span><span class="longName col-md-10 col-sm-10 col-xs-8">' + application[2] + '</span></a></li>');
        });
        $('.desktop-y-scrollable').perfectScrollbar('update'); // update scrollbar
        if (sessionStorage.scrollTop !== 'undefined') {///// if user has already visited the page, the result-list scrolls to its last position (in case the user uses the history-back-button in browser)
            $('.results-list').scrollTop(sessionStorage.scrollTop);
        }
        if (document.location.hash.length !== 0) {//if hash was set, hash-text will be inserted in searchbox
            applicationSearch.val(document.location.href.split('#')[1]);
        } else if (sessionStorage.appSearchInput !== 'undefined' && sessionStorage.appSearchInput != '') {///// if user has already visited the page, set last input
            document.location.hash = '#' + sessionStorage.appSearchInput;
            applicationSearch.val(sessionStorage.appSearchInput);
        }

        applicationSearch.focus();// focus searchbar after pageload
        applicationSearch.keyup();//simulate a keyup to triger search and initialize letter-box
    }
});

///// After a letter is clicked, the result list will scroll to the first element beginning with selected character  /////
$('a.letter-navigation').on('click touchstart', function(e) {
    e.preventDefault();
    var letter = $(this).text();//text of selected letter (e.g. 'A')
    var target = $('.application-element').filter(function () {//checking all list items for specific 'letter' at first position
        return $.trim($(this).text()).toUpperCase().indexOf(letter) === 0;
    });
    var currentScrollPosition = $('.results-list').scrollTop();//get current scroll position of result list
    var positionOfTargetObject = $(target).position().top;//get relative top-position of target object (value between 0 and height of result list)
    if (isMobile) {
      $('html, body').animate({scrollTop: currentScrollPosition + positionOfTargetObject}, 700);//scroll to target object
    } else {
        $('.results-list').animate({scrollTop: currentScrollPosition + positionOfTargetObject}, 700);//scroll to target object
    }
});
////// Initialize letter-box and check if there are elements beginning with a specific letter /////
function updateLetterBox() {
    var existingChars = [];
    var possibleChars = ['A',
        'B',
        'C',
        'D',
        'E',
        'F',
        'G',
        'H',
        'I',
        'J',
        'K',
        'L',
        'M',
        'N',
        'O',
        'P',
        'Q',
        'R',
        'S',
        'T',
        'U',
        'V',
        'W',
        'X',
        'Y',
        'Z'];

    $('.application-element').each(function (index) {//checking all list items and push their first letter to array 'existing-chars'
        if ($(this).css('display') !== 'none' && !$(this).hasClass('no-results')) {
            //char = $.trim($( this ).text()).toLowerCase().slice(0,1);
            existingChars.push($.trim($(this).text()).toUpperCase().slice(0, 1));
        }
    });
    $(possibleChars.forEach(function checkChars(element, index, possibleChars) {//loop through alphabet and check if there are elements beginning with single letter
        if (existingChars.indexOf(element) !== -1) {//element with letter is available in list
            $('a.letter-navigation:contains(' + element + ')').attr('href', element);//set value of href with letter
            $('a.letter-navigation:contains(' + element + ')').removeClass('inactive');
        } else {//element with letter is not available in list
            $('a.letter-navigation:contains(' + element + ')').addClass('inactive');
            $('a.letter-navigation:contains(' + element + ')').removeAttr('href', element);//unset value of href
        }
    }));
}

function appSearchInput(that) {
    if ($(that).val().length !== 0) {//if searchbox contains text, the hash will be set
        document.location.hash = '#' + $(that).val();
        sessionStorage.appSearchInput = $(that).val();
    } else {//if the searchbx is empty, the hash will be deleted (to prevent page scrolls to top when only '#' is set)
        history.pushState('', document.title, window.location.pathname);
        sessionStorage.appSearchInput = '';
    }
}

///// if the searchbar loses focus, it´s content will be append to url as hash  //////
$('#application-search').focusout(function () {
    appSearchInput(this);
}).on('input', function () {
    appSearchInput(this);
});

///// remember the current scroll position of result-list to restore is by refresh or revisiting /////
$('.results-list').scroll(function () {
    sessionStorage.scrollTop = $(this).scrollTop();
});

///// Update the letter-box everytime user inputs a new letter into searchbox
$('#application-search').keyup(function () {
    $('.results-list').scrollTop(0);

    setTimeout(function () {//timeout is needed, because we have to wait for updated search-results. Else it would scan the old result list.
        updateLetterBox();
    }, 0);
});

//// Reset search form
$('#app-search-reset').click(function (e) {
    e.preventDefault();
    $('#application-search').val('');
    $('.application-element.no-results').remove();
    $('.application-element').show();
    history.pushState('', document.title, window.location.pathname);
    sessionStorage.scrollTop = 0;
    sessionStorage.appSearchInput = '';
    updateLetterBox();
});


(function () {
    if (typeof ecmGlobalSettings === 'undefined') {
        ecmGlobalSettings = new Object();
    } else {
        ecmGlobalSettings = this.ecmGlobalSettings;
    }

    ecmGlobalSettings.cookies = {};

    ecmGlobalSettings.cookies.init = function () {
        //run the code that creates cookies
        $('#cookieAcceptBtn').on('click', function (event) {
            ecmGlobalSettings.cookies.setCookie('cookie_showBanner', 0, 365);
            ecmGlobalSettings.cookies.removeCookieBanner();
            event.preventDefault();
        });
    };

    ecmGlobalSettings.cookies.removeCookieBanner = function () {
      $('#cookieBanner').addClass('hidden');
    };

    ecmGlobalSettings.cookies.setCookie = function (cname, cvalue, exdays) {
        var d = new Date();
        d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
        var expires = "expires=" + d.toUTCString();
        document.cookie = cname + "=" + cvalue + "; " + expires + "; path=/";
    };

    // getCookie in brick not used but in careers-theme
    ecmGlobalSettings.cookies.getCookie = function (cname) {
        var name = cname + "=";
        var carray = document.cookie.split(';');
        for (var i = 0; i < carray.length; i++) {
            var c = carray[i];
            while (c.charAt(0) == ' ') {
                c = c.substring(1);
            }
            if (c.indexOf(name) != -1) {
                return c.substring(name.length, c.length); //true;
            }
        }
        return ""; //false;
    };

    //bind click-events for cookies:
    ecmGlobalSettings.cookies.init();
}).call(this);


"use strict";!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.ResizeSensor=b()}("undefined"!=typeof window?window:this,function(){function a(a,b){var c=Object.prototype.toString.call(a),d="[object Array]"===c||"[object NodeList]"===c||"[object HTMLCollection]"===c||"[object Object]"===c||"undefined"!=typeof jQuery&&a instanceof jQuery||"undefined"!=typeof Elements&&a instanceof Elements,e=0,f=a.length;if(d)for(;e<f;e++)b(a[e]);else b(a)}function b(a){if(!a.getBoundingClientRect)return{width:a.offsetWidth,height:a.offsetHeight};var b=a.getBoundingClientRect();return{width:Math.round(b.width),height:Math.round(b.height)}}if("undefined"==typeof window)return null;var c=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){return window.setTimeout(a,20)},d=function(e,f){function g(){var a=[];this.add=function(b){a.push(b)};var b,c;this.call=function(){for(b=0,c=a.length;b<c;b++)a[b].call()},this.remove=function(d){var e=[];for(b=0,c=a.length;b<c;b++)a[b]!==d&&e.push(a[b]);a=e},this.length=function(){return a.length}}function h(a,d){if(a){if(a.resizedAttached)return void a.resizedAttached.add(d);a.resizedAttached=new g,a.resizedAttached.add(d),a.resizeSensor=document.createElement("div"),a.resizeSensor.dir="ltr",a.resizeSensor.className="resize-sensor";var e="position: absolute; left: -10px; top: -10px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",f="position: absolute; left: 0; top: 0; transition: 0s;";a.resizeSensor.style.cssText=e,a.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+e+'"><div style="'+f+'"></div></div><div class="resize-sensor-shrink" style="'+e+'"><div style="'+f+' width: 200%; height: 200%"></div></div>',a.appendChild(a.resizeSensor);var h=window.getComputedStyle(a).getPropertyPriority("position");"absolute"!==h&&"relative"!==h&&"fixed"!==h&&(a.style.position="relative");var i,j,k,l,m=a.resizeSensor.childNodes[0],n=m.childNodes[0],o=a.resizeSensor.childNodes[1],p=b(a),q=p.width,r=p.height,s=function(){var b=0===a.offsetWidth&&0===a.offsetHeight;if(b){var c=a.style.display;a.style.display="block"}n.style.width="100000px",n.style.height="100000px",m.scrollLeft=1e5,m.scrollTop=1e5,o.scrollLeft=1e5,o.scrollTop=1e5,b&&(a.style.display=c)};a.resizeSensor.resetSensor=s;var t=function(){j=0,i&&(q=k,r=l,a.resizedAttached&&a.resizedAttached.call())},u=function(){var d=b(a),e=d.width,f=d.height;i=e!=q||f!=r,i&&!j&&(j=c(t)),s()},v=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c)};v(m,"scroll",u),v(o,"scroll",u),c(s)}}a(e,function(a){h(a,f)}),this.detach=function(a){d.detach(e,a)},this.reset=function(){e.resizeSensor.resetSensor()}};return d.reset=function(b,c){a(b,function(a){a.resizeSensor.resetSensor()})},d.detach=function(b,c){a(b,function(a){a&&(a.resizedAttached&&"function"==typeof c&&(a.resizedAttached.remove(c),a.resizedAttached.length())||a.resizeSensor&&(a.contains(a.resizeSensor)&&a.removeChild(a.resizeSensor),delete a.resizeSensor,delete a.resizedAttached))})},d});

/*!
 * The Final Countdown for jQuery v2.2.0 (http://hilios.github.io/jQuery.countdown/)
 * Copyright (c) 2016 Edson Hilios
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){"use strict";function b(a){if(a instanceof Date)return a;if(String(a).match(g))return String(a).match(/^[0-9]*$/)&&(a=Number(a)),String(a).match(/\-/)&&(a=String(a).replace(/\-/g,"/")),new Date(a);throw new Error("Couldn't cast `"+a+"` to a date object.")}function c(a){var b=a.toString().replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");return new RegExp(b)}function d(a){return function(b){var d=b.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);if(d)for(var f=0,g=d.length;f<g;++f){var h=d[f].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/),j=c(h[0]),k=h[1]||"",l=h[3]||"",m=null;h=h[2],i.hasOwnProperty(h)&&(m=i[h],m=Number(a[m])),null!==m&&("!"===k&&(m=e(l,m)),""===k&&m<10&&(m="0"+m.toString()),b=b.replace(j,m.toString()))}return b=b.replace(/%%/,"%")}}function e(a,b){var c="s",d="";return a&&(a=a.replace(/(:|;|\s)/gi,"").split(/\,/),1===a.length?c=a[0]:(d=a[0],c=a[1])),Math.abs(b)>1?c:d}var f=[],g=[],h={precision:100,elapse:!1,defer:!1};g.push(/^[0-9]*$/.source),g.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),g.push(/[0-9]{4}([\/\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),g=new RegExp(g.join("|"));var i={Y:"years",m:"months",n:"daysToMonth",d:"daysToWeek",w:"weeks",W:"weeksToMonth",H:"hours",M:"minutes",S:"seconds",D:"totalDays",I:"totalHours",N:"totalMinutes",T:"totalSeconds"},j=function(b,c,d){this.el=b,this.$el=a(b),this.interval=null,this.offset={},this.options=a.extend({},h),this.instanceNumber=f.length,f.push(this),this.$el.data("countdown-instance",this.instanceNumber),d&&("function"==typeof d?(this.$el.on("update.countdown",d),this.$el.on("stoped.countdown",d),this.$el.on("finish.countdown",d)):this.options=a.extend({},h,d)),this.setFinalDate(c),!1===this.options.defer&&this.start()};a.extend(j.prototype,{start:function(){null!==this.interval&&clearInterval(this.interval);var a=this;this.update(),this.interval=setInterval(function(){a.update.call(a)},this.options.precision)},stop:function(){clearInterval(this.interval),this.interval=null,this.dispatchEvent("stoped")},toggle:function(){this.interval?this.stop():this.start()},pause:function(){this.stop()},resume:function(){this.start()},remove:function(){this.stop.call(this),f[this.instanceNumber]=null,delete this.$el.data().countdownInstance},setFinalDate:function(a){this.finalDate=b(a)},update:function(){if(0===this.$el.closest("html").length)return void this.remove();var b,c=void 0!==a._data(this.el,"events"),d=new Date;b=this.finalDate.getTime()-d.getTime(),b=Math.ceil(b/1e3),b=!this.options.elapse&&b<0?0:Math.abs(b),this.totalSecsLeft!==b&&c&&(this.totalSecsLeft=b,this.elapsed=d>=this.finalDate,this.offset={seconds:this.totalSecsLeft%60,minutes:Math.floor(this.totalSecsLeft/60)%60,hours:Math.floor(this.totalSecsLeft/60/60)%24,days:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToWeek:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToMonth:Math.floor(this.totalSecsLeft/60/60/24%30.4368),weeks:Math.floor(this.totalSecsLeft/60/60/24/7),weeksToMonth:Math.floor(this.totalSecsLeft/60/60/24/7)%4,months:Math.floor(this.totalSecsLeft/60/60/24/30.4368),years:Math.abs(this.finalDate.getFullYear()-d.getFullYear()),totalDays:Math.floor(this.totalSecsLeft/60/60/24),totalHours:Math.floor(this.totalSecsLeft/60/60),totalMinutes:Math.floor(this.totalSecsLeft/60),totalSeconds:this.totalSecsLeft},this.options.elapse||0!==this.totalSecsLeft?this.dispatchEvent("update"):(this.stop(),this.dispatchEvent("finish")))},dispatchEvent:function(b){var c=a.Event(b+".countdown");c.finalDate=this.finalDate,c.elapsed=this.elapsed,c.offset=a.extend({},this.offset),c.strftime=d(this.offset),this.$el.trigger(c)}}),a.fn.countdown=function(){var b=Array.prototype.slice.call(arguments,0);return this.each(function(){var c=a(this).data("countdown-instance");if(void 0!==c){var d=f[c],e=b[0];j.prototype.hasOwnProperty(e)?d[e].apply(d,b.slice(1)):null===String(e).match(/^[$A-Z_][0-9A-Z_$]*$/i)?(d.setFinalDate.call(d,e),d.start()):a.error("Method %s does not exist on jQuery.countdown".replace(/\%s/gi,e))}else new j(this,b[0],b[1])})}});

/**
 * jquery-circle-progress - jQuery Plugin to draw animated circular progress bars:
 * {@link http://kottenator.github.io/jquery-circle-progress/}
 *
 * @author Rostyslav Bryzgunov <kottenator@gmail.com>
 * @version 1.2.2
 * @licence MIT
 * @preserve
 */
!function(a){if("function"==typeof define&&define.amd)define(["jquery"],a);else if("object"==typeof module&&module.exports){var b=require("jquery");a(b),module.exports=b}else a(jQuery)}(function(a){function b(a){this.init(a)}b.prototype={value:0,size:100,startAngle:-Math.PI,thickness:"auto",fill:{gradient:["#3aeabb","#fdd250"]},emptyFill:"rgba(0, 0, 0, .1)",animation:{duration:1200,easing:"circleProgressEasing"},animationStartValue:0,reverse:!1,lineCap:"butt",insertMode:"prepend",constructor:b,el:null,canvas:null,ctx:null,radius:0,arcFill:null,lastFrameValue:0,init:function(b){a.extend(this,b),this.radius=this.size/2,this.initWidget(),this.initFill(),this.draw(),this.el.trigger("circle-inited")},initWidget:function(){this.canvas||(this.canvas=a("<canvas>")["prepend"==this.insertMode?"prependTo":"appendTo"](this.el)[0]);var b=this.canvas;if(b.width=this.size,b.height=this.size,this.ctx=b.getContext("2d"),window.devicePixelRatio>1){var c=window.devicePixelRatio;b.style.width=b.style.height=this.size+"px",b.width=b.height=this.size*c,this.ctx.scale(c,c)}},initFill:function(){function b(){var b=a("<canvas>")[0];b.width=c.size,b.height=c.size,b.getContext("2d").drawImage(n,0,0,f,f),c.arcFill=c.ctx.createPattern(b,"no-repeat"),c.drawFrame(c.lastFrameValue)}var c=this,d=this.fill,e=this.ctx,f=this.size;if(!d)throw Error("The fill is not specified!");if("string"==typeof d&&(d={color:d}),d.color&&(this.arcFill=d.color),d.gradient){var g=d.gradient;if(1==g.length)this.arcFill=g[0];else if(g.length>1){for(var h=d.gradientAngle||0,i=d.gradientDirection||[f/2*(1-Math.cos(h)),f/2*(1+Math.sin(h)),f/2*(1+Math.cos(h)),f/2*(1-Math.sin(h))],j=e.createLinearGradient.apply(e,i),k=0;k<g.length;k++){var l=g[k],m=k/(g.length-1);a.isArray(l)&&(m=l[1],l=l[0]),j.addColorStop(m,l)}this.arcFill=j}}if(d.image){var n;d.image instanceof Image?n=d.image:(n=new Image,n.src=d.image),n.complete?b():n.onload=b}},draw:function(){this.animation?this.drawAnimated(this.value):this.drawFrame(this.value)},drawFrame:function(a){this.lastFrameValue=a,this.ctx.clearRect(0,0,this.size,this.size),this.drawEmptyArc(a),this.drawArc(a)},drawArc:function(a){if(0!==a){var b=this.ctx,c=this.radius,d=this.getThickness(),e=this.startAngle;b.save(),b.beginPath(),this.reverse?b.arc(c,c,c-d/2,e-2*Math.PI*a,e):b.arc(c,c,c-d/2,e,e+2*Math.PI*a),b.lineWidth=d,b.lineCap=this.lineCap,b.strokeStyle=this.arcFill,b.stroke(),b.restore()}},drawEmptyArc:function(a){var b=this.ctx,c=this.radius,d=this.getThickness(),e=this.startAngle;a<1&&(b.save(),b.beginPath(),a<=0?b.arc(c,c,c-d/2,0,2*Math.PI):this.reverse?b.arc(c,c,c-d/2,e,e-2*Math.PI*a):b.arc(c,c,c-d/2,e+2*Math.PI*a,e),b.lineWidth=d,b.strokeStyle=this.emptyFill,b.stroke(),b.restore())},drawAnimated:function(b){var c=this,d=this.el,e=a(this.canvas);e.stop(!0,!1),d.trigger("circle-animation-start"),e.css({animationProgress:0}).animate({animationProgress:1},a.extend({},this.animation,{step:function(a){var e=c.animationStartValue*(1-a)+b*a;c.drawFrame(e),d.trigger("circle-animation-progress",[a,e])}})).promise().always(function(){d.trigger("circle-animation-end")})},getThickness:function(){return a.isNumeric(this.thickness)?this.thickness:this.size/14},getValue:function(){return this.value},setValue:function(a){this.animation&&(this.animationStartValue=this.lastFrameValue),this.value=a,this.draw()}},a.circleProgress={defaults:b.prototype},a.easing.circleProgressEasing=function(a){return a<.5?.5*(a*=2)*a*a:1-.5*(a=2-2*a)*a*a},a.fn.circleProgress=function(c,d){var e="circle-progress",f=this.data(e);if("widget"==c){if(!f)throw Error('Calling "widget" method on not initialized instance is forbidden');return f.canvas}if("value"==c){if(!f)throw Error('Calling "value" method on not initialized instance is forbidden');if(void 0===d)return f.getValue();var g=arguments[1];return this.each(function(){a(this).data(e).setValue(g)})}return this.each(function(){var d=a(this),f=d.data(e),g=a.isPlainObject(c)?c:{};if(f)f.init(g);else{var h=a.extend({},d.data());"string"==typeof h.fill&&(h.fill=JSON.parse(h.fill)),"string"==typeof h.animation&&(h.animation=JSON.parse(h.animation)),g=a.extend(h,g),g.el=d,f=new b(g),d.data(e,f)}})}});

/*
 * jQuery Format Plugin v1.3
 * http://www.asual.com/jquery/format/
 *
 * Copyright (c) 2009-2011 Rostislav Hristov
 * Uses code by Matt Kruse
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Date: 2013-09-28 11:18:54 +0300 (Sat, 28 Sep 2013)
 */
(function(z){z.format=function(){var o={date:{format:"MMM dd, yyyy h:mm:ss a",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],daysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortDateFormat:"M/d/yyyy h:mm a",longDateFormat:"EEEE, MMMM dd, yyyy h:mm:ss a"},
number:{format:"#,##0.0#",groupingSeparator:",",decimalSeparator:"."}};return{locale:function(b){a={a:6};if(b)for(var i in b)for(var g in b[i])o[i][g]=b[i][g];return o},date:function(b,i){var g=0,h=0,c=0;c=h="";var l,e;if(typeof b=="string"){var m=function(r,v,y,w){for(w=w;w>=y;w--){var x=r.substring(v,v+w);if(x.length>=y&&/^\d+$/.test(x))return x}return null};if(typeof i=="undefined")i=o.date.format;var d=0,n=new Date(0,0,0,0,0,0,0),j=n.getYear(),f=n.getMonth()+1,p=1,k=n.getHours(),t=n.getMinutes(),
u=n.getSeconds();n=n.getMilliseconds();for(var s="",q;g<i.length;){c="";for(h=i.charAt(g);i.charAt(g)==h&&g<i.length;)c+=i.charAt(g++);if(c.indexOf("MMMM")>-1&&c.length>4)c="MMMM";if(c.indexOf("EEEE")>-1&&c.length>4)c="EEEE";if(c=="yyyy"||c=="yy"||c=="y"){if(c=="yyyy")e=l=4;if(c=="yy")e=l=2;if(c=="y"){l=2;e=4}j=m(b,d,l,e);if(j===null)return 0;d+=j.length;if(j.length==2){j=parseInt(j,10);j=j>70?1900+j:2E3+j}}else if(c=="MMMM"){h=f=0;for(c=o.date.monthsFull.length;h<c;h++){q=o.date.monthsFull[h];if(b.substring(d,
d+q.length).toLowerCase()==q.toLowerCase()){f=h+1;d+=q.length;break}}if(f<1||f>12)return 0}else if(c=="MMM"){h=f=0;for(c=o.date.monthsShort.length;h<c;h++){q=o.date.monthsShort[h];if(b.substring(d,d+q.length).toLowerCase()==q.toLowerCase()){f=h+1;d+=q.length;break}}if(f<1||f>12)return 0}else if(c=="EEEE"){h=0;for(c=o.date.daysFull.length;h<c;h++){q=o.date.daysFull[h];if(b.substring(d,d+q.length).toLowerCase()==q.toLowerCase()){d+=q.length;break}}}else if(c=="EEE"){h=0;for(c=o.date.daysShort.length;h<
c;h++){q=o.date.daysShort[h];if(b.substring(d,d+q.length).toLowerCase()==q.toLowerCase()){d+=q.length;break}}}else if(c=="MM"||c=="M"){f=m(b,d,1,2);if(f===null||f<1||f>12)return 0;d+=f.length}else if(c=="dd"||c=="d"){p=m(b,d,1,2);if(p===null||p<1||p>31)return 0;d+=p.length}else if(c=="hh"||c=="h"){k=m(b,d,1,2);if(k===null||k<1||k>12)return 0;d+=k.length}else if(c=="HH"||c=="H"){k=m(b,d,1,2);if(k===null||k<0||k>23)return 0;d+=k.length}else if(c=="KK"||c=="K"){k=m(b,d,1,2);if(k===null||k<0||k>11)return 0;
d+=k.length}else if(c=="kk"||c=="k"){k=m(b,d,1,2);if(k===null||k<1||k>24)return 0;d+=k.length;k--}else if(c=="mm"||c=="m"){t=m(b,d,1,2);if(t===null||t<0||t>59)return 0;d+=t.length}else if(c=="ss"||c=="s"){u=m(b,d,1,2);if(u===null||u<0||u>59)return 0;d+=u.length}else if(c=="SSS"||c=="SS"||c=="S"){n=m(b,d,1,3);if(n===null||n<0||n>999)return 0;d+=n.length}else if(c=="a"){s=b.substring(d,d+2).toLowerCase();if(s=="am")s="AM";else if(s=="pm")s="PM";else return 0;d+=2}else if(c!=b.substring(d,d+c.length))return 0;
else d+=c.length}if(d!=b.length)return 0;if(f==2)if(j%4===0&&j%100!==0||j%400===0){if(p>29)return 0}else if(p>28)return 0;if(f==4||f==6||f==9||f==11)if(p>30)return 0;if(k<12&&s=="PM")k=k-0+12;else if(k>11&&s=="AM")k-=12;return new Date(j,f-1,p,k,t,u,n)}else{g=function(r,v){if(typeof v=="undefined"||v==2)return(r>=0&&r<10?"0":"")+r;else{if(r>=0&&r<10)return"00"+r;if(r>=10&&r<100)return"0"+r;return r}};if(typeof i=="undefined")i=o.date.format;e=b.getYear();if(e<1E3)e=String(e+1900);m=b.getMonth()+1;
d=b.getDate();j=b.getDay();f=b.getHours();p=b.getMinutes();l=b.getSeconds();k=b.getMilliseconds();b={y:e,yyyy:e,yy:String(e).substring(2,4),M:m,MM:g(m),MMM:o.date.monthsShort[m-1],MMMM:o.date.monthsFull[m-1],d:d,dd:g(d),EEE:o.date.daysShort[j],EEEE:o.date.daysFull[j],H:f,HH:g(f)};b.h=f===0?12:f>12?f-12:f;b.hh=g(b.h);b.k=f!==0?f:24;b.kk=g(b.k);b.K=f>11?f-12:f;b.KK=g(b.K);b.a=f>11?"PM":"AM";b.m=p;b.mm=g(p);b.s=l;b.ss=g(l);b.S=k;b.SS=g(k);b.SSS=g(k,3);e="";g=0;c=h="";for(l=false;g<i.length;){c="";h=
i.charAt(g);if(h=="'"){g++;if(i.charAt(g)==h){e+=h;g++}else l=!l}else{for(;i.charAt(g)==h;)c+=i.charAt(g++);if(c.indexOf("MMMM")!=-1&&c.length>4)c="MMMM";if(c.indexOf("EEEE")!=-1&&c.length>4)c="EEEE";e+=typeof b[c]!="undefined"&&!l?b[c]:c}}return e}},number:function(b,i){var g,h,c,l,e;if(typeof b=="string"){g=o.number.groupingSeparator;c=o.number.decimalSeparator;l=b.indexOf(c);e=1;if(l!=-1)e=Math.pow(10,b.length-l-1);b=b.replace(new RegExp("["+g+"]","g"),"");b=b.replace(new RegExp("["+c+"]"),".");
return Math.round(b*e)/e}else{if(typeof i=="undefined"||i.length<1)i=o.number.format;g=",";h=i.lastIndexOf(g);c=".";l=i.indexOf(c);var m=g="";c=b<0;var d=i.substr(l+1).replace(/#/g,"").length,n=i.substr(l+1).length,j=10;b=Math.abs(b);if(l!=-1){m=o.number.decimalSeparator;if(n>0){e=1E3;j=Math.pow(j,n);var f=Math.round(parseInt(b*j*e-Math.round(b)*j*e,10)/e);f=String(f<0?Math.round(parseInt(b*j*e-parseInt(b,10)*j*e,10)/e):f);var p=b.toString().split(".");if(typeof p[1]!="undefined")for(e=0;e<n;e++)if(p[1].substr(e,
1)=="0"&&e<n-1&&f.length!=n)f="0"+f;else break;for(e=0;e<n-m.length;e++)f+="0";p="";for(e=0;e<f.length;e++){n=f.substr(e,1);if(e>=d&&n=="0"&&/^0*$/.test(f.substr(e+1)))break;p+=n}m+=p}if(m==o.number.decimalSeparator)m=""}if(l!==0){g=m!=""?String(parseInt(Math.round(b*j)/j,10)):String(Math.round(b));b=o.number.groupingSeparator;d=0;if(h!=-1){d=l!=-1?l-h:i.length-h;d--}if(d>0){h=0;j="";for(e=g.length;e--;){if(h!==0&&h%d===0)j=b+j;j=g.substr(e,1)+j;h++}g=j}h=/#|,/g;i=l!=-1?i.substr(0,l).replace(h,"").length:
i.replace(h,"").length;for(e=g.length;e<i;e++)g="0"+g}i=g+m;return(c?"-":"")+i}}}}()})(jQuery);


/*!
 *  Ajax Autocomplete for jQuery, 2015-09-18
 *  (c) 2013 Tomas Kirda
 *
 *  Ajax Autocomplete for jQuery is freely distributable under the terms of an MIT-style license.
 *  For details, see the web site: https://github.com/devbridge/jQuery-Autocomplete
 */
(function ($) {
    'use strict';

    var
        utils = (function () {
            return {
                escapeRegExChars: function (value) {
                    return value.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
                },
                createNode: function (containerClass) {
                    var div = document.createElement('div');
                    div.className = containerClass;
                    div.style.position = 'absolute';
                    div.style.display = 'none';
                    return div;
                },
                escapeHtmlChars: function (value) {
                    return value.replace(/&/g, '&amp;').replace(/"/g, '&quot;').replace(/'/g, '&#39;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
                }
            };
        }()),

        keys = {
            ESC: 27,
            TAB: 9,
            RETURN: 13,
            LEFT: 37,
            UP: 38,
            RIGHT: 39,
            DOWN: 40
        };

    function Autocomplete(el, options) {
        var noop = function () {},
            that = this,
            defaults = {
                sendFormData: false,
                autoSelectFirst: false,
                appendTo: 'body',
                serviceUrl: null,
                lookup: null,
                onSelect: null,
                width: 'auto',
                minChars: 1,
                maxHeight: 300,
                deferRequestBy: 0,
                params: {},
                formatResult: Autocomplete.formatResult,
                delimiter: null,
                zIndex: 9999,
                type: 'GET',
                noCache: false,
                onSearchStart: noop,
                onSearchComplete: noop,
                onSearchError: noop,
                containerClass: 'autocomplete-suggestions',
                tabDisabled: false,
                dataType: 'text',
                currentRequest: null,
                triggerSelectOnValidInput: true,
                lookupFilter: function (suggestion, originalQuery, queryLowerCase) {
                    return suggestion.value.toLowerCase().indexOf(queryLowerCase) !== -1;
                },
                paramName: 'query',
                transformResult: function (response) {
                    return typeof response === 'string' ? $.parseJSON(response) : response;
                }
            };

        // Shared variables:
        that.element = el;
        that.el = $(el);
        that.suggestions = [];
        that.badQueries = [];
        that.selectedIndex = -1;
        that.currentValue = that.element.value;
        that.intervalId = 0;
        that.cachedResponse = {};
        that.onChangeInterval = null;
        that.onChange = null;
        that.isLocal = false;
        that.suggestionsContainer = null;
        that.options = $.extend({}, defaults, options);
        that.classes = {
            selected: 'autocomplete-selected',
            suggestion: 'autocomplete-suggestion'
        };
        that.hint = null;
        that.hintValue = '';
        that.selection = null;

        // Initialize and set options:
        that.initialize();
        that.setOptions(options);
    }

    Autocomplete.utils = utils;

    $.Autocomplete = Autocomplete;

    Autocomplete.formatResult = function (suggestion, currentValue) {
        var pattern = '(' + utils.escapeRegExChars(currentValue) + ')',
            value = utils.escapeHtmlChars(suggestion.value);

        return value.replace(new RegExp(pattern, 'gi'), '<strong>$1<\/strong>');
    };

    Autocomplete.prototype = {

        killerFn: null,

        initialize: function () {
            var that = this,
                suggestionSelector = '.' + that.classes.suggestion,
                selected = that.classes.selected,
                options = that.options,
                container;

            // Remove autocomplete attribute to prevent native suggestions:
            that.element.setAttribute('autocomplete', 'off');

            that.killerFn = function (e) {
                if ($(e.target).closest('.' + that.options.containerClass).length === 0) {
                    that.killSuggestions();
                    that.disableKillerFn();
                }
            };

            that.suggestionsContainer = Autocomplete.utils.createNode(options.containerClass);

            container = $(that.suggestionsContainer);

            container.appendTo(options.appendTo);

            // Only set width if it was provided:
            if (options.width !== 'auto') {
                container.width(options.width);
            }

            // Listen for mouse over event on suggestions list:
            container.on('mouseover.autocomplete', suggestionSelector, function () {
                that.activate($(this).data('index'));
            });

            // Deselect active element when mouse leaves suggestions container:
            container.on('mouseout.autocomplete', function () {
                that.selectedIndex = -1;
                container.children('.' + selected).removeClass(selected);
            });

            // Listen for click event on suggestions list:
            container.on('click.autocomplete', suggestionSelector, function () {
                that.select($(this).data('index'));
            });

            that.fixPosition();

            that.fixPositionCapture = function () {
                if (that.visible) {
                    that.fixPosition();
                }
            };

            $(window).on('resize.autocomplete', that.fixPositionCapture);

            that.el.on('keydown.autocomplete', function (e) { that.onKeyPress(e); });
            that.el.on('keyup.autocomplete', function (e) { that.onKeyUp(e); });
            that.el.on('blur.autocomplete', function () { that.onBlur(); });
            that.el.on('focus.autocomplete', function () { that.onFocus(); });
            that.el.on('change.autocomplete', function (e) { that.onKeyUp(e); });
        },

        onFocus: function () {
            var that = this;
            that.fixPosition();
            if (that.options.minChars <= that.el.val().length) {
                that.onValueChange();
            }
        },

        onBlur: function () {
            this.enableKillerFn();
        },

        setOptions: function (suppliedOptions) {
            var that = this,
                options = that.options;

            $.extend(options, suppliedOptions);

            that.isLocal = $.isArray(options.lookup);

            if (that.isLocal) {
                options.lookup = that.verifySuggestionsFormat(options.lookup);
            }

            // Adjust height, width and z-index:
            $(that.suggestionsContainer).css({
                'max-height': options.maxHeight + 'px',
                'width': options.width + 'px',
                'z-index': options.zIndex
            });
        },

        clearCache: function () {
            this.cachedResponse = {};
            this.badQueries = [];
        },

        clear: function () {
            this.clearCache();
            this.currentValue = '';
            this.suggestions = [];
        },

        disable: function () {
            var that = this;
            that.disabled = true;
            if (that.currentRequest) {
                that.currentRequest.abort();
            }
        },

        enable: function () {
            this.disabled = false;
        },

        fixPosition: function () {
            var that = this,
                offset,
                styles;

            // Don't adjsut position if custom container has been specified:
            if (that.options.appendTo !== 'body') {
                return;
            }

            offset = that.el.offset();

            styles = {
                top: (offset.top + that.el.outerHeight()) + 'px',
                left: offset.left + 'px'
            };

            if (that.options.width === 'auto') {
                styles.width = (that.el.outerWidth() - 2) + 'px';
            }

            $(that.suggestionsContainer).css(styles);
        },

        enableKillerFn: function () {
            var that = this;
            $(document).on('click.autocomplete', that.killerFn);
        },

        disableKillerFn: function () {
            var that = this;
            $(document).off('click.autocomplete', that.killerFn);
        },

        killSuggestions: function () {
            var that = this;
            that.stopKillSuggestions();
            that.intervalId = window.setInterval(function () {
                that.hide();
                that.stopKillSuggestions();
            }, 50);
        },

        stopKillSuggestions: function () {
            window.clearInterval(this.intervalId);
        },

        isCursorAtEnd: function () {
            var that = this,
                valLength = that.el.val().length,
                selectionStart = that.element.selectionStart,
                range;

            if (typeof selectionStart === 'number') {
                return selectionStart === valLength;
            }
            if (document.selection) {
                range = document.selection.createRange();
                range.moveStart('character', -valLength);
                return valLength === range.text.length;
            }
            return true;
        },

        onKeyPress: function (e) {
            var that = this;

            // If suggestions are hidden and user presses arrow down, display suggestions:
            if (!that.disabled && !that.visible && e.which === keys.DOWN && that.currentValue) {
                that.suggest();
                return;
            }

            if (that.disabled || !that.visible) {
                return;
            }

            switch (e.which) {
                case keys.ESC:
                    that.el.val(that.currentValue);
                    that.hide();
                    break;
                case keys.RIGHT:
                    if (that.hint && that.options.onHint && that.isCursorAtEnd()) {
                        that.selectHint();
                        break;
                    }
                    return;
                case keys.TAB:
                    if (that.hint && that.options.onHint) {
                        that.selectHint();
                        return;
                    }
                // Fall through to RETURN
                case keys.RETURN:
                    if (that.selectedIndex === -1) {
                        that.hide();
                        return;
                    }
                    that.select(that.selectedIndex);
                    if (e.which === keys.TAB && that.options.tabDisabled === false) {
                        return;
                    }
                    break;
                case keys.UP:
                    that.moveUp();
                    break;
                case keys.DOWN:
                    that.moveDown();
                    break;
                default:
                    return;
            }

            // Cancel event if function did not return:
            e.stopImmediatePropagation();
            e.preventDefault();
        },

        onKeyUp: function (e) {
            var that = this;

            if (that.disabled) {
                return;
            }

            switch (e.which) {
                case keys.UP:
                case keys.DOWN:
                    return;
            }

            clearInterval(that.onChangeInterval);

            if (that.currentValue !== that.el.val()) {
                that.findBestHint();
                if (that.options.deferRequestBy > 0) {
                    // Defer lookup in case when value changes very quickly:
                    that.onChangeInterval = setInterval(function () {
                        that.onValueChange();
                    }, that.options.deferRequestBy);
                } else {
                    that.onValueChange();
                }
            }
        },

        onValueChange: function () {
            var that = this,
                options = that.options,
                value = that.el.val(),
                query = that.getQuery(value),
                index;

            if (that.selection) {
                that.selection = null;
                (options.onInvalidateSelection || $.noop).call(that.element);
            }

            clearInterval(that.onChangeInterval);
            that.currentValue = value;
            that.selectedIndex = -1;

            // Check existing suggestion for the match before proceeding:
            if (options.triggerSelectOnValidInput) {
                index = that.findSuggestionIndex(query);
                if (index !== -1) {
                    that.select(index);
                    return;
                }
            }

            if (query.length < options.minChars) {
                that.hide();
            } else {
                that.getSuggestions(query);
            }
        },

        findSuggestionIndex: function (query) {
            var that = this,
                index = -1,
                queryLowerCase = query.toLowerCase();

            $.each(that.suggestions, function (i, suggestion) {
                if (suggestion.value.toLowerCase() === queryLowerCase) {
                    index = i;
                    return false;
                }
            });

            return index;
        },

        getQuery: function (value) {
            var delimiter = this.options.delimiter,
                parts;

            if (!delimiter) {
                return value;
            }
            parts = value.split(delimiter);
            return $.trim(parts[parts.length - 1]);
        },

        getSuggestionsLocal: function (query) {
            var that = this,
                options = that.options,
                queryLowerCase = query.toLowerCase(),
                filter = options.lookupFilter,
                limit = parseInt(options.lookupLimit, 10),
                data;

            data = {
                suggestions: $.grep(options.lookup, function (suggestion) {
                    return filter(suggestion, query, queryLowerCase);
                })
            };

            if (limit && data.suggestions.length > limit) {
                data.suggestions = data.suggestions.slice(0, limit);
            }

            return data;
        },

        getSuggestions: function (q) {
            var response,
                that = this,
                options = that.options,
                serviceUrl = options.serviceUrl,
                data,
                cacheKey,
                form;

            options.params[options.paramName] = q;
            data = options.ignoreParams ? null : options.params;

            if (options.sendFormData) {
                form = that.el.closest("form");
                var formData = form.serializeObject();
                data = $.extend(formData, data);
            }

            if (that.isLocal) {
                response = that.getSuggestionsLocal(q);
            } else {
                if ($.isFunction(serviceUrl)) {
                    serviceUrl = serviceUrl.call(that.element, q);
                }
                cacheKey = serviceUrl + ((serviceUrl.indexOf('?') == -1) ? '?' : '&') + $.param(data || {});
                response = that.cachedResponse[cacheKey];
            }

            if (response && $.isArray(response.suggestions)) {
                that.suggestions = response.suggestions;
                that.suggest();
            } else if (!that.isBadQuery(q)) {
                if (options.onSearchStart.call(that.element, options.params) === false) {
                    return;
                }
                if (that.currentRequest) {
                    that.currentRequest.abort();
                }

                that.currentRequest = $.ajax({
                    url: serviceUrl,
                    data: data,
                    type: options.type,
                    dataType: options.dataType
                }).done(function (data) {
                    that.currentRequest = null;
                    that.processResponse(data, q, cacheKey);
                    options.onSearchComplete.call(that.element, q);
                }).fail(function (jqXHR, textStatus, errorThrown) {
                    options.onSearchError.call(that.element, q, jqXHR, textStatus, errorThrown);
                });
            }
        },

        isBadQuery: function (q) {
            var badQueries = this.badQueries,
                i = badQueries.length;

            while (i--) {
                if (q.indexOf(badQueries[i]) === 0) {
                    return true;
                }
            }

            return false;
        },

        hide: function () {
            var that = this;
            that.visible = false;
            that.selectedIndex = -1;
            $(that.suggestionsContainer).hide();
            that.signalHint(null);
        },

        suggest: function () {
            if (this.suggestions.length === 0) {
                this.hide();
                return;
            }

            var that = this,
                options = that.options,
                formatResult = options.formatResult,
                value = that.getQuery(that.currentValue),
                className = that.classes.suggestion,
                classSelected = that.classes.selected,
                container = $(that.suggestionsContainer),
                beforeRender = options.beforeRender,
                html = '',
                index,
                width;

            if (options.triggerSelectOnValidInput) {
                index = that.findSuggestionIndex(value);
                if (index !== -1) {
                    that.select(index);
                    return;
                }
            }

            // Build suggestions inner HTML:
            $.each(that.suggestions, function (i, suggestion) {
                html += '<div class="' + className + '" data-index="' + i + '">' + formatResult(suggestion, value) + '</div>';
            });

            // If width is auto, adjust width before displaying suggestions,
            // because if instance was created before input had width, it will be zero.
            // Also it adjusts if input width has changed.
            // -2px to account for suggestions border.
            if (options.width === 'auto') {
                width = that.el.outerWidth() - 2;
                container.width(width > 0 ? width : 300);
            }

            container.html(html);

            // Select first value by default:
            if (options.autoSelectFirst) {
                that.selectedIndex = 0;
                container.children().first().addClass(classSelected);
            }

            if ($.isFunction(beforeRender)) {
                beforeRender.call(that.element, container);
            }

            container.show();
            that.visible = true;

            that.findBestHint();
        },

        findBestHint: function () {
            var that = this,
                value = that.el.val().toLowerCase(),
                bestMatch = null;

            if (!value) {
                return;
            }

            $.each(that.suggestions, function (i, suggestion) {
                var foundMatch = suggestion.value.toLowerCase().indexOf(value) === 0;
                if (foundMatch) {
                    bestMatch = suggestion;
                }
                return !foundMatch;
            });

            that.signalHint(bestMatch);
        },

        signalHint: function (suggestion) {
            var hintValue = '',
                that = this;
            if (suggestion) {
                hintValue = that.currentValue + suggestion.value.substr(that.currentValue.length);
            }
            if (that.hintValue !== hintValue) {
                that.hintValue = hintValue;
                that.hint = suggestion;
                (this.options.onHint || $.noop)(hintValue);
            }
        },

        verifySuggestionsFormat: function (suggestions) {
            // If suggestions is string array, convert them to supported format:
            if (suggestions.length && typeof suggestions[0] === 'string') {
                return $.map(suggestions, function (value) {
                    return { value: value, data: null };
                });
            }

            return suggestions;
        },

        processResponse: function (response, originalQuery, cacheKey) {
            var that = this,
                options = that.options,
                result = options.transformResult(response, originalQuery);

            result.suggestions = that.verifySuggestionsFormat(result.suggestions);

            // Cache results if cache is not disabled:
            if (!options.noCache) {
                that.cachedResponse[cacheKey] = result;
                if (result.suggestions.length === 0) {
                    that.badQueries.push(cacheKey);
                }
            }

            // Return if originalQuery is not matching current query:
            if (originalQuery !== that.getQuery(that.currentValue)) {
                return;
            }

            that.suggestions = result.suggestions;
            that.suggest();
        },

        activate: function (index) {
            var that = this,
                activeItem,
                selected = that.classes.selected,
                container = $(that.suggestionsContainer),
                children = container.children();

            container.children('.' + selected).removeClass(selected);

            that.selectedIndex = index;

            if (that.selectedIndex !== -1 && children.length > that.selectedIndex) {
                activeItem = children.get(that.selectedIndex);
                $(activeItem).addClass(selected);
                return activeItem;
            }

            return null;
        },

        selectHint: function () {
            var that = this,
                i = $.inArray(that.hint, that.suggestions);

            that.select(i);
        },

        select: function (i) {
            var that = this;
            that.hide();
            that.onSelect(i);
        },

        moveUp: function () {
            var that = this;

            if (that.selectedIndex === -1) {
                return;
            }

            if (that.selectedIndex === 0) {
                $(that.suggestionsContainer).children().first().removeClass(that.classes.selected);
                that.selectedIndex = -1;
                that.el.val(that.currentValue);
                that.findBestHint();
                return;
            }

            that.adjustScroll(that.selectedIndex - 1);
        },

        moveDown: function () {
            var that = this;

            if (that.selectedIndex === (that.suggestions.length - 1)) {
                return;
            }

            that.adjustScroll(that.selectedIndex + 1);
        },

        adjustScroll: function (index) {
            var that = this,
                activeItem = that.activate(index),
                offsetTop,
                upperBound,
                lowerBound,
                heightDelta = 25;

            if (!activeItem) {
                return;
            }

            offsetTop = activeItem.offsetTop;
            upperBound = $(that.suggestionsContainer).scrollTop();
            lowerBound = upperBound + that.options.maxHeight - heightDelta;

            if (offsetTop < upperBound) {
                $(that.suggestionsContainer).scrollTop(offsetTop);
            } else if (offsetTop > lowerBound) {
                $(that.suggestionsContainer).scrollTop(offsetTop - that.options.maxHeight + heightDelta);
            }

            that.el.val(that.getValue(that.suggestions[index].value));
            that.signalHint(null);
        },

        onSelect: function (index) {
            var that = this,
                onSelectCallback = that.options.onSelect,
                suggestion = that.suggestions[index];

            that.currentValue = that.getValue(suggestion.value);
            that.el.val(that.currentValue);
            that.signalHint(null);
            that.suggestions = [];
            that.selection = suggestion;

            if ($.isFunction(onSelectCallback)) {
                onSelectCallback.call(that.element, suggestion);
            }
        },

        getValue: function (value) {
            var that = this,
                delimiter = that.options.delimiter,
                currentValue,
                parts;

            if (!delimiter) {
                return value;
            }

            currentValue = that.currentValue;
            parts = currentValue.split(delimiter);

            if (parts.length === 1) {
                return value;
            }

            return currentValue.substr(0, currentValue.length - parts[parts.length - 1].length) + value;
        },

        dispose: function () {
            var that = this;
            that.el.off('.autocomplete').removeData('autocomplete');
            that.disableKillerFn();
            $(window).off('resize.autocomplete', that.fixPositionCapture);
            $(that.suggestionsContainer).remove();
        }
    };

    // Create chainable jQuery plugin:
    $.fn.autocomplete = function (options, args) {
        var dataKey = 'autocomplete';
        // If function invoked without argument return
        // instance of the first matched element:
        if (arguments.length === 0) {
            return this.first().data(dataKey);
        }

        return this.each(function () {
            var inputElement = $(this),
                instance = inputElement.data(dataKey);

            if (typeof options === 'string') {
                if (instance && typeof instance[options] === 'function') {
                    instance[options](args);
                }
            } else {
                // If instance already exists, destroy it:
                if (instance && instance.dispose) {
                    instance.dispose();
                }
                instance = new Autocomplete(this, options);
                inputElement.data(dataKey, instance);
            }
        });
    };

    if (typeof $.fn.serializeObject  === 'undefined') {
        $.fn.serializeObject = function() {
            var o = {};
            var a = this.serializeArray();
            $.each(a, function() {
                if (o[this.name] !== undefined) {
                    if (!o[this.name].push) {
                        o[this.name] = [o[this.name]];
                    }
                    o[this.name].push(this.value || '');
                } else {
                    o[this.name] = this.value || '';
                }
            });
            return o;
        };
    }
})(jQuery);



/*!
 *  Monday Webforms v1.7.1, (c) 2017 Monday Consulting GmbH
 *
 *  @see http://webforms.monday-consulting.com/index_en.html
 */

;(function(factory) {
    if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define(['jquery'], factory);
    } else if (typeof module === 'object' && module.exports) {
        // Node/CommonJS
        module.exports = function( root, jQuery ) {
            if ( jQuery === undefined ) {
                // require('jQuery') returns a factory that requires window to
                // build a jQuery instance, we normalize how we use modules
                // that require this pattern but the window provided is a noop
                // if it's defined (how jquery works)
                if ( typeof window !== 'undefined' ) {
                    jQuery = require('jquery');
                }
                else {
                    jQuery = require('jquery')(root);
                }
            }
            factory(jQuery);
            return jQuery;
        };
    } else {
        // Browser globals
        factory(jQuery);
    }
}(function($) {
    "use strict";

    // polyfill for customevent for IE10
    (function () {
        function CustomEvent ( event, params ) {
            params = params || { bubbles: false, cancelable: false, detail: undefined };
            var evt = document.createEvent( 'CustomEvent' );
            evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );
            return evt;
        }

        CustomEvent.prototype = window.Event.prototype;

        window.CustomEvent = CustomEvent;
    })();

    var EVENTS = {
        AJAX_FINISHED: "mwf-ajax-finished",
        AJAX_ERROR: "mwf-ajax-error",
        FORM_REPLACED: "mwf-form-replaced",
        FILL_DROPDOWN: "mwf-fill-dropdown",
        FILL_SELECTION: "mwf-fill-selection"
    };

    function triggerEvent(el, eventName, options) {
        var event;
        if (window.CustomEvent) {
            event = new CustomEvent(eventName, options);
        } else {
            event = document.createEvent('CustomEvent');
            event.initCustomEvent(eventName, true, true, options);
        }
        el.dispatchEvent(event);
    }

    /**
     * Monday Webforms jQuery-Plugin
     * @constructor
     */
    function Webforms(elem, settings) {
        var
            plugin = this,
            $elem = $(elem),
            operators = {},
            formdata = {},

            defaults = {
                appendUrlVars: false,
                operations: {},
                conditions: [],
                calculatedValues: [],
                fileuploadOptions: {},
                onConditionTrue: undefined,
                onConditionFalse: undefined,
                statisticsUrl: null
            },

            uiState = {
                visible: {},
                hidden: {},
                writable: {},
                readonly: {},
                optional: {},
                mandatory: {},
                disabled: {},
                enabled: {}
            },

            stateMapping = {
                visible: 'hidden',
                hidden: 'visible',
                writable: 'readonly',
                readonly: 'writable',
                optional: 'mandatory',
                mandatory: 'optional',
                disabled: 'enabled',
                enabled: 'disabled'
            },

            $form = $elem.is('form') ? $elem : $elem.find("form"),

            formId = $form.data('mwf-form'),
            target = settings.url,
            statisticsUrl = settings.statisticsUrl;

        if (statisticsUrl === undefined) {
            statisticsUrl = null;
        }

        if (formId === undefined) {
            formId = $form.data('mwf-id');
        }

        if (target === undefined) {
            target = $form.data('mwf-target');
        }

        plugin.settings = {};


        /* internal utility functions
         -----------------------------------------------------------------------------------------------------------  */

        function updateUI(fields, conditionId, cond) {
            var s, i, inverseState, isTrue, isFalse, state, input,

                conditionalFieldsState = {
                    'visible': [], 'hidden': [],
                    'writable': [], 'readonly': [],
                    'optional': [], 'mandatory': [],
                    'enabled': [], 'disabled': []
                };

            // clear UI state of this condition
            for (s in uiState) {
                if (uiState.hasOwnProperty(s)) {
                    delete uiState[s][conditionId];
                }
            }

            for (i = 0; i < fields.length; i++) {
                input = fields[i].input;
                state = fields[i].state;

                if (cond) {
                    conditionalFieldsState[state].push(input);
                }

                uiState[state][conditionId] = conditionalFieldsState[state];

                inverseState = stateMapping[state];

                isTrue = containsState(state, input);
                isFalse = containsState(inverseState, input);

                if (isTrue) {
                    plugin.settings.operations[state]($form, fields[i]);
                    if (plugin.settings.onConditionTrue !== undefined) {
                        plugin.settings.onConditionTrue($form, fields[i], state);
                    }
                }
                else if (isFalse || !isTrue) {
                    plugin.settings.operations[inverseState]($form, fields[i]);
                    if (plugin.settings.onConditionFalse !== undefined) {
                        plugin.settings.onConditionFalse($form, fields[i], state);
                    }
                }
            }
        }

        function containsState(type, input) {
            var state = uiState[type], cond;
            for (cond in state) {
                if (state.hasOwnProperty(cond) && $.inArray(input, state[cond]) > -1) {
                    return true;
                }
            }
            return false;
        }

        function valueChanged($elem) {
            formdata = serializeForm($form);
            $form.trigger("mwf-valuechange", $elem);
        }

        function serializeForm($form) {
            var o = {}, a = $form.serializeArray(), name;

            $.each(a, function() {
                var $input = $form.find('[name="' + this.name + '"]'),
                    value = this.value || '',
                    key;

                if (value === 'EMPTY_VALUE') value = '';

                if ($input.is(':radio') || $input.is(':checkbox') || $input.is('select')) {
                    if (!o.hasOwnProperty(this.name)) {
                        o[this.name] = [];
                    }

                    try {
                        key = JSON.parse(value).k;
                    } catch (ex) {
                        // do nothing
                    }

                    if (key !== undefined) {
                        o[this.name].push(key);
                    } else {
                        o[this.name].push(value);
                    }
                } else {
                    o[this.name] = value;
                }
            });

            $form.find("input:checkbox:not(:checked),input:radio:not(:checked)").each(function () {
                name = $(this).attr('name');
                if (!o.hasOwnProperty(name)) {
                    o[name] = '';
                }
            });

            return o;
        }

        /* API functions
         -----------------------------------------------------------------------------------------------------------  */

        function maxSelected(array, max) {
            var m = Number(max), l = (array !== null) ? array.length : 0;
            return (l < m);
        }

        function minSelected(array, min) {
            var m = Number(min), l = (array !== null) ? array.length : 0;
            return (l > m);
        }

        function isSelected(array, s) {
            return array !== null && $.inArray(s, array) > -1;
        }

        function parseAge(format, str) {
            if (str === null) {
                return null;
            }
            var date = parseDate(format, str), today = new Date();
            return Math.floor((today - date) / (365.25 * 24 * 60 * 60 * 1000));
        }

        function parseDate(format, date) {
            if (date === null) {
                return null;
            }
            return $.format.date(date, format);
        }

        function isEmptyList(array) {
            var i, s;
            if (array !== null) {
                for (i = 0; i < array.length; i++) {
                    s = String(array[i]);
                    if (s !== null && s !== '' && s !== 'EMPTY_VALUE') {
                        return false;
                    }
                }
            }
            return true;
        }

        function ajaxFillSelection($elem, attr, initial) {
            var id = $elem.data('mwf-id'), data = $.extend(formdata, attr.data);

            if ((attr.createEntry === undefined)) {
                attr.createEntry = (attr.type === 'checkbox') ? plugin.settings.createCheckBox : plugin.settings.createRadio;
            }

            if ((attr.onFillSelection === undefined)) {
                attr.onFillSelection = plugin.settings.onFillSelection;
            }

            $.ajax({
                url: attr.url,
                type: 'POST',
                data: data,
                cache: false
            })
                .done(function(json, textStatus, jqXHR) {
                var pre = attr.preselected.split(','), i, entry;

                    $elem.find('[data-mwf-container]').remove();

                    for (i in json) {
                        if (json.hasOwnProperty(i)) {
                            entry = json[i];
                        $elem.append(attr.createEntry($form, id, attr.name, entry, $.inArray(entry.k, pre) !== -1));
                        }
                    }

                if (initial) $elem.trigger('change');

                attr.onFillSelection($form, $elem);
                    triggerEvent(document, EVENTS.FILL_SELECTION, { detail: { $elem: $elem }});
                })
                .fail(function(jqXHR, textStatus, errorThrown) {
                    plugin.settings.onAjaxError(jqXHR, textStatus, errorThrown);
                });
        }

        function ajaxFillDropdown($elem, attr, initial) {
            var data = $.extend(formdata, attr.data);

            if ((attr.createOption === undefined)) {
                attr.createOption = plugin.settings.createOption;
            }

            if ((attr.onFillDropdown === undefined)) {
                attr.onFillDropdown = plugin.settings.onFillDropdown;
            }

            $.ajax({
                url: attr.url,
                type: 'POST',
                data: data,
                cache: false
            })
                .done(function(json, textStatus, jqXHR) {
                var $option, i, entry, pre = attr.preselected.split(',');

                    $elem.find('option[data-mwf-value]').remove();

                    for (i in json) {
                        if (json.hasOwnProperty(i)) {
                            entry = json[i];
                        $option = attr.createOption($form, entry, $.inArray(entry.k, pre) !== -1);
                            $elem.append($option);
                        }
                    }

                if (initial) $elem.trigger('change');

                attr.onFillDropdown($form, $elem);

                    triggerEvent(document, EVENTS.FILL_DROPDOWN, { detail: { $elem: $elem }});
                })
                .fail(function(jqXHR, textStatus, errorThrown) {
                    plugin.settings.onAjaxError(jqXHR, textStatus, errorThrown);
                });
        }

        function ajaxAutocomplete($field, attr) {
            var chars = 1;

            if (attr.params.chars !== undefined) {
                chars = attr.params.chars;
            }

            $field.autocomplete({
                paramName: 'query',
                params: attr.data,
                serviceUrl: attr.url,
                maxHeight: 150,
                noCache: true,
                minChars: chars,
                type: 'POST',
                onSelect: attr.onSelect,
                autoSelectFirst: true,
                sendFormData: true,

                transformResult: function(response) {
                    response = JSON.parse(response);
                    return {
                        suggestions: $.map(response, function(entry, key) {
                            return {value: entry.v, data: entry.k};
                        })
                    };
                }
            });
        }

        function ajaxSubmit(opt) {
            var $buttons = $form.find(':button').filter(':not(:disabled)'),
                data = {_parentUrl: window.location.href};

            if (plugin.settings.appendUrlVars) {
                $.extend(data, $.getUrlVars(window.location.search));
                delete data.view;
            }

            $.extend(data, $.getUrlVars(opt.query), $form.serializeObject());

            if (opt.onSubmit !== undefined) {
                if (!opt.onSubmit($form, opt.url, opt.query)) {
                    return;
                }
            }

            $buttons.prop('disabled', true);

            $.ajax({
                url: opt.url,
                type: 'POST',
                data: data,
                traditional: true,
                cache: false
            })
                .done(function(data, textStatus, jqXHR) {

                    if (jqXHR && jqXHR.getResponseHeader("webforms_redirect")) {
                        if (opt.onRedirect !== undefined) {
                            opt.onRedirect($form, data, textStatus, jqXHR);
                        }
                        location.assign(jqXHR.getResponseHeader("webforms_redirect"));
                        return;
                    }

                    $elem = $elem.replaceWithPush(data);
                    $form = $elem.is('form') ? $elem : $elem.find("form");

                    if (opt.onSuccess !== undefined) {
                        opt.onSuccess($form, data, textStatus, jqXHR);
                    }
                    triggerEvent(document, EVENTS.AJAX_FINISHED, { detail: { id: opt.id } });
                })
                .fail(function(jqXHR, textStatus, errorThrown) {
                    if (opt.onError !== undefined) {
                        opt.onError($form, jqXHR, textStatus, errorThrown);
                    }

                    $buttons.prop('disabled', false);

                    triggerEvent(document, EVENTS.AJAX_ERROR, { detail: { id: opt.id } });
                });
        }

        function createCondition(conditionId, conjunction, conditions, fields) {
            var $input, i,
                checkCondition = function() {
                    var all = true, any = false, condTrue, i, formValue;

                    for (i = 0; i < conditions.length - 1; i++) {
                        formValue = formdata[conditions[i][1]];

                        if (formValue === undefined) {
                            formValue = conditions[i][4];
                        }
                        condTrue = operators[conditions[i][2]](formValue, conditions[i][3]);

                        if (condTrue) {
                            any = true;
                        } else {
                            all = false;
                        }

                        if (!conjunction && any) {
                            break;
                        }
                    }

                    updateUI(fields, conditionId, (all || (!conjunction && any)));
                };

            // register event listener
            $form.on('mwf-valuechange', function(e, input) {
                for (i = 0; i < conditions.length - 1; i++) {
                    if ($(input).data("mwf-id") === conditions[i][0]) {
                        checkCondition();
                    }
                }
            });

            // check conditions initially
            checkCondition();

            if (plugin.settings.onConditionCreated !== undefined) {
                plugin.settings.onConditionCreated($form, conditionId, conjunction, conditions, fields);
            }
        }

        function createCalculatedValue(calcValueId, js, fields, formVariables, updateValue) {
            updateValue = (updateValue === undefined) ? plugin.settings.updateCalculatedValue : updateValue;

            var $input,
                name,
                id = calcValueId,
                vars = formVariables,
                fct,
                calculate = function() {
                    var state = $.extend({}, fields, formdata, vars),
                        result = fct(state),
                        $field = $form.find('[data-mwf-id="' + id + '"]');

                    updateValue($form, id, result);
                    $field.val(result).trigger('change');
                };

            try {
                eval('fct = function(s) {' + js + '}');
            } catch (ex) {
                $.logError(ex.message);
            }

            // register event listener
            $form.on('mwf-valuechange', function(e, input) {
                for (name in fields) {
                    if (fields.hasOwnProperty(name) && $(input).attr('name') === name) {
                        calculate();
                        break;
                    }
                }
            });
        }

        function recursiveEach(obj, callback, maxDeep) {
            var history = [], deep = -1, _recursiveEach;

            if (maxDeep === undefined) {
                maxDeep = Number.MAX_VALUE;
            }

            _recursiveEach = function(obj, callback) {
                var p, o, i, names = Object.getOwnPropertyNames(obj);

                deep++;

                for (i=0; i< names.length; i++) {
                    p = names[i];
                    o = obj[p];

                    if (typeof o === "object") {
                        if (deep < maxDeep && $.inArray(o, history) === -1) {
                            history.push(o);
                            _recursiveEach(o, callback);
                        }
                    } else{
                        if (callback.call(obj, obj, p, o) === false) {
                            break;
                        }
                    }
                }

                deep--;
            };

            _recursiveEach(obj, callback);
        }

        /* condition operators
         -----------------------------------------------------------------------------------------------------------  */

        operators.contains = function(formValue, value) {
            if (formValue === null || value === null) {
                return false;
            }
            return formValue.indexOf(value) !== -1;
        };

        operators.containsnot = function(formValue, value) {
            if (formValue === null || value === null) {
                return false;
            }
            return formValue.indexOf(value) === -1;
        };

        operators.startswith = function(formValue, value) {
            if (formValue === null || value === null) {
                return false;
            }
            return formValue.match(new RegExp("^" + value)) == value;
        };

        operators.endswith = function(formValue, value) {
            if (formValue === null || value === null) {
                return false;
            }
            return formValue.match(new RegExp(value + "$")) == value;
        };

        operators.equal = function(formValue, value) {
            if (formValue === null || value === null) {
                return formValue === value;
            }
            var f1 = parseFloat(formValue.replace(',', '.')),
                f2 = parseFloat(value.replace(',', '.'));

            return (!isNaN(f1) && !isNaN(f2) && f1 === f2) || (formValue === value);
        };

        operators.notequal = function(formValue, value) {
            if (formValue === null || value === null) {
                return formValue !== value;
            }
            var f1 = parseFloat(formValue.replace(',', '.')),
                f2 = parseFloat(value.replace(',', '.'));

            return (!isNaN(f1) && !isNaN(f2) && f1 !== f2) || (formValue !== value);
        };

        operators.empty = function(formValue, value) {
            return formValue === null || formValue === '';
        };

        operators.notempty = function(formValue, value) {
            return formValue !== null && formValue !== '';
        };

        operators.emptylist = function(formValue, value) {
            return isEmptyList(formValue);
        };

        operators.notemptylist = function(formValue, value) {
            return !isEmptyList(formValue);
        };

        operators.selected = function(formValue, value) {
            if (formValue === null || value === null) {
                return false;
            }
            return $.inArray(value, formValue) !== -1;
        };

        operators.notselected = function(formValue, value) {
            if (formValue === null || value === null) {
                return false;
            }
            return $.inArray(value, formValue) === -1;
        };

        operators.minselected = function(formValue, value) {
            var l = (formValue === null) ? 0 : formValue.length;
            return l > Number(value);
        };

        operators.maxselected = function(formValue, value) {
            var l = (formValue === null) ? 0 : formValue.length;
            return l < Number(value);
        };

        operators.lessthan = function(formValue, value) {
            if (formValue === null || value === null) {
                return false;
            }
            var f1 = parseFloat(formValue.replace(',', '.')),
                f2 = parseFloat(value.replace(',', '.'));

            return (!isNaN(f1) && !isNaN(f2) && f1 < f2);
        };

        operators.greaterthan = function(formValue, value) {
            if (formValue === null || value === null) {
                return false;
            }
            var f1 = parseFloat(formValue.replace(',', '.')),
                f2 = parseFloat(value.replace(',', '.'));

            return (!isNaN(f1) && !isNaN(f2) && f1 > f2);
        };

        /* default condition operations
         -----------------------------------------------------------------------------------------------------------  */

        defaults.operations['visible'] = function($form, field) {
            var $field = $form.find('[data-mwf-container="' + field.input + '"]');
            $field.removeAttr('disabled');
            $field.removeClass('mwf-hidden');
        };

        defaults.operations['hidden'] = function($form, field) {
            var $field = $form.find('[data-mwf-container="' + field.input + '"]');
            $field.attr("disabled", "true");
            $field.addClass('mwf-hidden');
        };

        defaults.operations['writable'] = function($form, field) {
            var $field = $form.find('[data-mwf-id="' + field.input + '"]');
            $field.removeAttr('readonly');
        };

        defaults.operations['readonly'] = function($form, field) {
            var $field = $form.find('[data-mwf-id="' + field.input + '"]');
            $field.val(field.value);
            $field.attr("readonly", "true");
        };

        defaults.operations['enabled'] = function($form, field) {
            var $field = $form.find('[data-mwf-id="' + field.input + '"]');
            $field.removeAttr('disabled');
            $field.trigger('enable');
        };

        defaults.operations['disabled'] = function($form, field) {
            var $field = $form.find('[data-mwf-id="' + field.input + '"]');
            $field.attr("disabled", "true");
            $field.trigger('disable');
        };

        defaults.operations['optional'] = function($form, field) {
            var $label = $form.find('label[for="' + field.input + '"]');
            $label.children('span.mwf-required').remove();
        };

        defaults.operations['mandatory'] = function($form, field) {
            var $label = $form.find('label[for="' + field.input + '"]'),
                $span = $('<span></span>').attr('class', 'mwf-required').text('*');
            $label.children('span.mwf-required').remove();
            $label.append($span);
        };

        defaults.createOption = function($form, entry, selected) {
            var $option = $('<option></option>');
            $option.attr('data-mwf-value', entry.k);
            $option.attr('value', JSON.stringify(entry)).append(entry.v);

            if (selected) {
                $option.attr('selected', true);
            }
            return $option;
        };

        /* defaults
         -----------------------------------------------------------------------------------------------------------  */

        defaults.createRadio = function($form, id, name, entry, checked) {
            var $span, $input, $label, entryId = id + '_' + entry.k;

            $span = $('<span></span>')
                .attr('class', 'mwf-option')
                .attr('data-mwf-container', entryId);

            $input = $('<input/>')
                .attr('type', 'radio')
                .attr('id', entryId)
                .attr('data-mwf-id', id)
                .attr('data-mwf-value', entry.k)
                .attr('value', JSON.stringify(entry))
                .attr('name', name)
                .attr('class', 'mwf-radio');

            if (checked) {
                $input.attr('checked', 'checked');
            }

            $label = $('<label></label>')
                .attr('for', entryId).append(entry.v);

            $span.append($input);
            $span.append(' ');
            $span.append($label);

            return $span;
        };

        defaults.createCheckBox = function($form, id, name, entry, checked) {
            var $span, $input, $label, entryId = id + '_' + entry.k;

            $span = $('<span></span>')
                .attr('class', 'mwf-option')
                .attr('data-mwf-container', entryId);

            $input = $('<input/>')
                .attr('type', 'checkbox')
                .attr('id', entryId)
                .attr('data-mwf-id', id)
                .attr('data-mwf-value', entry.k)
                .attr('value', JSON.stringify(entry))
                .attr('name', name)
                .attr('class', 'mwf-checkbox');

            if (checked) {
                $input.attr('checked', 'checked');
            }

            $label = $('<label></label>')
                .attr('for', entryId).append(entry.v);

            $span.append($input);
            $span.append(' ');
            $span.append($label);

            return $span;
        };

        defaults.createUploadFileRow = function($form, $attr, $file) {

            var $row, $fileinfo, $meta, $preview, $ul, $name, $size, $buttons, $upload, $delete, $span, $progress, $error;

            $row = $('<div/>').attr('data-mwf-file', '').attr('class', 'mwf-upload-row');

            $fileinfo = $('<div/>').attr('class', 'mwf-upload-fileinfo');

            $preview = $('<div/>').attr('data-mwf-file-preview', '').attr('class', 'mwf-upload-preview');

            $meta = $('<div/>').attr('class', 'mwf-upload-metadata');

            $ul = $('<ul/>');

            $name = $('<li>').text($attr.labels.name + ': ' + $file.name);

            $size = $('<li>').text($attr.labels.size + ': ' + $.formatSize($file.size));

            $buttons = $('<div/>').attr('class', ' mwf-upload-actions');

            $upload = $('<button>').attr('data-mwf-file-upload', '').attr('class', 'mwf-upload-upload').text($attr.labels.upload);

            $delete = $('<button>').attr('data-mwf-file-delete', '').attr('class', 'mwf-upload-delete').text($attr.labels.del);

            $span = $('<span>').css('width', '0%');

            $progress = $('<div/>').attr('data-mwf-file-progress', '').attr('class', 'mwf-upload-progressbar');

            $error = $('<div/>').attr('data-mwf-file-error', '').attr('class', 'mwf-upload-error');

            $buttons.append($delete);

            if ($attr.autoUpload === false) {
                $buttons.append($upload);
            }

            $ul.append($name);
            $ul.append($size);
            $meta.append($ul);
            $fileinfo.append($preview);
            $fileinfo.append($meta);
            $progress.append($span);
            $row.append($fileinfo);
            $row.append($buttons);
            $row.append($error);
            $row.append($progress);

            return $row;
        };

        defaults.createDownloadFileRow = function($form, $attr, $file) {

            var $row, $fileinfo, $meta, $preview, $image, $ul, $name, $size, $buttons, $delete, $span, $error;

            $row = $('<div/>').attr('data-mwf-file', '').attr('class', 'mwf-upload-row');

            $fileinfo = $('<div/>').attr('class', 'mwf-upload-fileinfo');

            $preview = $('<div/>').attr('data-mwf-preview', '').attr('class', 'mwf-upload-preview');

            $meta = $('<div/>').attr('class', 'mwf-upload-metadata');

            $ul = $('<ul/>');

            $name = $('<li>').text($attr.labels.name + ': ' + $file.name);

            $size = $('<li>').text($attr.labels.size + ': ' + $.formatSize($file.size));

            $buttons = $('<div/>').attr('class', ' mwf-upload-actions');

            $delete = $('<button>').attr('data-mwf-file-delete', '').attr('class', 'mwf-upload-delete').text($attr.labels.del);

            $buttons.append($delete);
            $ul.append($name);
            $ul.append($size);
            $meta.append($ul);

            if ($file.thumbnail_url) {
                $image = $('<img/>').attr('src', $file.thumbnail_url);
                $preview.append($image);
            }

            $fileinfo.append($preview);
            $fileinfo.append($meta);
            $row.append($fileinfo);
            $row.append($buttons);

            if ($file.error) {
                $error = $('<div/>').attr('data-mwf-file-error', '').attr('class', 'mwf-upload-error');
                $span = $('<span>').text($file.error);
                $error.append($span);
                $row.append($error);
            }

            return $row;
        };

        defaults.updateCalculatedValue = function($form, id, value) {
            $form.find('[data-mwf-value="' + id + '"]').text(value).html();
        };

        defaults.onAjaxError = function(jqXHR, status, error) {
            $.logError(jqXHR.responseText);
        };

        defaults.onSubmit = function($form, url, query) {
            return true;
        };

        defaults.onConditionCreated = function($form, conditionId, conjunction, conditions, fields) {
            // do nothing
        };

        defaults.onFillDropdown = function($form, $select) {
            // do nothing
        };

        defaults.onFillSelection = function($form, $elem) {
            // do nothing
        };

        defaults.onInit = function($form) {
            // do nothing
        };

        /* public methods
         -----------------------------------------------------------------------------------------------------------  */

        plugin.formSubmit = function(opt) {
            ajaxSubmit({
                url: target,
                id: formId,
                query: (opt.query !== undefined) ? opt.query : '',
                onSubmit: (opt.submit !== undefined) ? opt.submit : plugin.settings.onSubmit,
                onSuccess: (opt.success !== undefined) ? opt.success : plugin.settings.onSuccess,
                onError: (opt.error !== undefined) ? opt.error : plugin.settings.onAjaxError,
                onRedirect: (opt.redirect !== undefined) ? opt.redirect : plugin.settings.onRedirect
            });
        };

        plugin.gotoPage = function(opt) {
            ajaxSubmit({
                url: target,
                id: formId,
                query: opt.query.concat('&_target', opt.page, '=', opt.page),
                onSubmit: (opt.submit !== undefined) ? opt.submit : plugin.settings.onSubmit,
                onSuccess: (opt.success !== undefined) ? opt.success : plugin.settings.onSuccess,
                onError: (opt.error !== undefined) ? opt.error : plugin.settings.onAjaxError,
                onRedirect: (opt.redirect !== undefined) ? opt.redirect : plugin.settings.onRedirect
            });
        };

        plugin.init = function() {
            recursiveEach(settings, function(obj, property, value) {
                if (typeof value === 'string' && value.trim().substring(0, 8) === 'function') {
                    try {
                        eval('obj[property] =' + value);
                    } catch (ex) {
                        $.logError(ex.message);
                    }
                }
            }, 1);

            plugin.settings = $.extend(true, {}, defaults, settings);

            formdata = serializeForm($form);

            $form.on('change', function(event) {
                valueChanged($(event.target));

                if (statisticsUrl !== null) {
                    $.ajax({
                        url: statisticsUrl
                    });
                    statisticsUrl = null;
                }
            });

            if (target === undefined) {
                $.logError('No target URL specified.')
            }

            $.each($form.find('[data-mwf-submit]'), function() {
                var attr = $(this).data('mwf-submit'),
                    query = (attr.query !== undefined) ? attr.query : '',
                    onSuccess = (attr.success !== undefined) ? attr.success : plugin.settings.onSuccess,
                    onRedirect = (attr.redirect !== undefined) ? attr.redirect : plugin.settings.onRedirect,
                    onError = (attr.error !== undefined) ? attr.error : plugin.settings.onAjaxError,
                    onSubmit = (attr.submit !== undefined) ? attr.submit : plugin.settings.onSubmit;

                switch (attr.type) {
                    case 'next':
                    case 'back':
                        query = query.concat('&_target', attr.page, '=', attr.page);
                        $(this).attr('data-mwf-id', '_'.concat(attr.type, '_', formId));
                        break;

                    case 'goto':
                        query = query.concat('&_target', attr.page, '=', attr.page);
                        $(this).attr('data-mwf-id', '_'.concat(attr.type, attr.page, '_', formId));
                        break;

                    case 'cancel':
                    case 'exit':
                    case 'finish':
                        query = query.concat('&_', attr.type, '=1');
                        $(this).attr('data-mwf-id', '_'.concat(attr.type, '_', formId));
                        break;
                }

                $(this).on('click', function() {
                    ajaxSubmit({
                        url: target,
                        id: formId,
                        query: query,
                        onSubmit: onSubmit,
                        onSuccess: onSuccess,
                        onError: onError,
                        onRedirect: onRedirect
                    });
                });
            });

            $.each($form.find('[data-mwf-fileupload]'), function() {
                var $upload = $(this),
                    attr = $(this).data('mwf-fileupload'),
                    $dropzone = $upload.find('[data-mwf-dropzone]'),
                    $files = $upload.find('[data-mwf-files]'),
                    $fileInput = $upload.find('input:file'),
                    multiple = $fileInput.attr('multiple') !== undefined,
                    useXhr = (!multiple && $.support.xhrFileUpload) || $.support.xhrFormDataFileUpload,
                    count = 0,
                    pendingList = [],
                    enabled = true,
                    $buttons = null;

                $upload.find('[data-mwf-file-upload-all]').on('click', function() {
                    pendingList.forEach(function(data) {
                        data.submit();
                    });
                    pendingList = [];
                });

                $upload.find('[data-mwf-file-delete-all]').on('click', function() {
                    $files.find('[data-mwf-file-delete]').trigger('click');
                    pendingList = [];
                });

                $fileInput.on('disable', function() {
                    enabled = false;
                    $upload.fileupload('disable');
                    $upload.addClass('mwf-upload-disabled');
                    $upload.find(':button').prop('disabled', true);
                });

                $fileInput.on('enable', function() {
                    enabled = true;
                    $upload.fileupload('enable');
                    $upload.removeClass('mwf-upload-disabled');
                    $upload.find(':button').prop('disabled', false);
                });

                $dropzone.on('dragover', function() {
                    if (enabled) {
                        $(this).addClass('mwf-upload-dragover');
                    }
                });

                $dropzone.on('dragleave drop', function() {
                    $(this).removeClass('mwf-upload-dragover');
                });

                $upload.fileupload({
                    url: attr.url,
                    paramName: attr.name,
                    dataType: 'json',
                    dropZone: $dropzone,
                    fileInput: $fileInput,
                    previewMaxWidth: attr.previewMaxWidth,
                    previewMaxHeight: attr.previewMaxHeight,
                    previewCrop: true,
                    maxNumberOfFiles: 1,
                    formData: {xhr: useXhr},

                    add: function(e, data) {
                        var $this = $upload;

                        if (!enabled) {
                            return false;
                        }

                        if (multiple || count === 0) {
                            count++;
                        } else {
                            return false;
                        }

                        pendingList.push(data);

                        data.process(function() {
                            return $this.fileupload('process', data);
                        }).always(function() {
                            $.each(data.files, function(index, file) {
                                var $row = plugin.settings.createUploadFileRow($form, attr, file);
                                data.context = $row;

                                $row.find('[data-mwf-file-upload]').data(data).on('click', function() {
                                    pendingList.splice($.inArray(data, pendingList), 1);
                                    data.submit();
                                });

                                $row.find('[data-mwf-file-delete]').data(data).on('click', function() {
                                    $row.remove();
                                    pendingList.splice($.inArray(data, pendingList), 1);
                                    count--;
                                });

                                $row.find('[data-mwf-file-preview]').append(file.preview);

                                $files.append($row);
                            });

                            if (attr.autoUpload === true) {
                                data.submit();
                            }
                        });
                    },

                    submit: function(e, data) {
                        if ($buttons === null) {
                            $buttons = $form.find(':button').filter(':not(:disabled)');
                            $buttons.prop('disabled', true);
                        }
                    },

                    progress: function(e, data) {
                        var progress = parseInt(data.loaded / data.total * 100, 10);
                        if (data.context) {
                            data.context.each(function() {
                                data.context.find('[data-mwf-file-progress]').attr('aria-valuenow', progress).css('display', 'block').children().first().css('width', progress + '%').text(progress + '%');
                            });
                        }
                    },

                    done: function(e, data) {
                        var files = (typeof data.result === 'string') ? JSON.parse(data.result).files : data.result.files;

                        $.each(files, function(index, file) {
                            var $row = plugin.settings.createDownloadFileRow($form, attr, file);

                            if (data.context !== undefined) {
                                data.context.replaceWith($row)
                            } else {
                                $files.append($row);
                            }

                            if (file.error === undefined) {
                                $row.find('[data-mwf-file-delete]').on('click', function() {
                                    if (file.delete_url) {
                                        $.ajax({
                                            url: file.delete_url
                                        });
                                    }
                                    $row.remove();
                                    pendingList.splice($.inArray(data, pendingList), 1);
                                    count--;
                                });
                            } else {
                                $row.find('[data-mwf-file-delete]').on('click', function() {
                                    $row.remove();
                                    pendingList.splice($.inArray(data, pendingList), 1);
                                    count--;
                                });
                            }
                        });
                    },

                    fail: function(e, data) {
                        $.each(data.files, function(index, file) {

                            var $row = plugin.settings.createDownloadFileRow($form, attr, {
                                name: file.name,
                                size: file.size,
                                error: attr.labels.error
                            });

                            $row.find('[data-mwf-file-delete]').data(data).on('click', function() {
                                $row.remove();
                                pendingList.splice($.inArray(data, pendingList), 1);
                                count--;
                            });

                            if (data.context !== undefined) {
                                data.context.replaceWith($row)
                            } else {
                                $files.append($row);
                            }
                        });
                    },

                    always: function(e, data) {
                        if ($buttons !== null && $upload.fileupload('active') === 1) {
                            $buttons.prop('disabled', false);
                            $buttons = null;
                        }
                    }
                });

                // preload existing files
                $.ajax({
                    url: attr.url,
                    dataType: "json",
                    data: {_name: attr.name, _do: 'files'}
                }).done(function(result) {
                    $upload.fileupload('option', 'done').call($upload, $.Event('done'), {result: result});
                    count = result.files.length;
                });
            });

            $.each($form.find('[data-mwf-datasource]'), function() {
                var def = {
                        params: {},
                        data: {}
                    },
                    attr = $.extend(true, {}, def, $(this).data('mwf-datasource'));

                switch (attr.type) {
                    case 'checkbox':
                    case 'radio':
                        ajaxFillSelection($(this), attr, true);

                        $form.on('mwf-valuechange', function(e, input) {
                            if ($.trim(attr.params.dependsOn)) {
                                $.each(attr.params.dependsOn.split(','), function(i, v) {
                                    if ($(input).attr('name') === v) {
                                        ajaxFillSelection($(this), attr, false);
                                        return false;
                                    }
                                });
                            }
                        });

                        break;
                    case 'selection':
                        ajaxFillDropdown($(this), attr, true);

                        $form.on('mwf-valuechange', function(e, input) {
                            if ($.trim(attr.params.dependsOn)) {
                                $.each(attr.params.dependsOn.split(','), function(i, v) {
                                    if ($(input).attr('name') === v) {
                                        ajaxFillDropdown($(this), attr, false);
                                        return false;
                                    }
                                });
                            }
                        });

                        break;
                    case 'suggestion':
                        ajaxAutocomplete($(this), attr);
                        break;
                    default:
                        $.logError(attr.type === undefined ?
                            'Please specifiy the datasource type (checkbox, radio, selection or suggestion).' :
                            'Unknown datasource type "'.concat(attr.type, '".'));
                }
            });

            $.each(plugin.settings.conditions, function() {
                createCondition($(this).attr('id'), $(this).attr('conjunction'), $(this).attr('conditions'), $(this).attr('fields'));
            });

            $.each(plugin.settings.calculatedValues, function() {
                createCalculatedValue($(this).attr('id'), $(this).attr('js'), $(this).attr('fields'), $(this).attr('vars'));
            });

            plugin.settings.onInit($form);
        };

        plugin.init();
    }

    /* jQuery
     -----------------------------------------------------------------------------------------------------------  */

    $.fn.webforms = function(options) {
        var dataKey = 'webforms';

        return this.each(function() {
            var instance = $(this).data(dataKey);

            if (instance && instance.dispose) {
                instance.dispose();
            }

            instance = new Webforms(this, options);
            $(this).data(dataKey, instance);
        });
    };

    $.fn.replaceWithPush = function(elem) {
        var $elem = $(elem);
        this.replaceWith($elem);
        return $elem;
    };

    if (typeof $.fn.serializeObject === 'undefined') {
        $.fn.serializeObject = function() {
            var o = {}, a = this.serializeArray();
            $.each(a, function() {
                if (o[this.name] !== undefined) {
                    if (!o[this.name].push) {
                        o[this.name] = [o[this.name]];
                    }
                    o[this.name].push(this.value || '');
                } else {
                    o[this.name] = this.value || '';
                }
            });
            return o;
        };
    }

    if (typeof $.logError === 'undefined') {
        $.extend({
            logError: function(msg) {
                try {
                    if (msg !== undefined && typeof window.console !== 'undefined') {
                        console.error(msg);
                    }
                } catch (ex) {}
            }
        });
    }

    $.extend({
        mwfAjaxReplace: function(opt) {
            var $dest = $(opt.selector), data = {}, optinId, s;

            if ($dest.length > 0) {
                optinId = $.getOptinIdFromHash(opt.id);
                s = {
                    url: null,
                    type: 'POST',
                    appendUrlVars: false
                };

                if (optinId !== null) {
                    data._optinId = optinId;

                    if (typeof history.replaceState !== 'undefined' ) {
                        history.replaceState({}, document.title, window.location.pathname);
                    } else {
                        window.location.hash = '';
                    }

                    $('html, body').animate({
                        scrollTop: $dest.offset().top
                    });
                }

                // Create the final settings object
                $.extend(s, opt);

                if (s.appendUrlVars) {
                    $.extend(data, $.getUrlVars(window.location.search));
                    delete data.view;
                }

                $.extend(data, $.getUrlVars(s.query));

                $.ajax({
                    url: s.url,
                    type: s.type,
                    data: data,
                    traditional: true,
                    cache: false
                })
                    .done(function(data, textStatus, jqXHR) {
                        if (jqXHR && jqXHR.getResponseHeader("webforms_redirect")) {
                            location.assign(jqXHR.getResponseHeader("webforms_redirect"));
                            return;
                        }

                        $dest.replaceWith(data);
                        if (s.onSuccess !== undefined) {
                            s.onSuccess(data, textStatus, jqXHR);
                        }
                        triggerEvent(document, EVENTS.AJAX_FINISHED, { detail: { id: opt.id } });
                    })
                    .fail(function(jqXHR, textStatus, errorThrown) {
                        if (s.onError !== undefined) {
                            s.onError(jqXHR, textStatus, errorThrown);
                        } else {
                            $.logError(jqXHR.responseText);
                        }

                        triggerEvent(document, EVENTS.AJAX_ERROR, { detail: { id: opt.id } });
                    })
            }
        },

        getUrlVars: function(url) {
            var params = {}, i, param, pos, key, value, length;

            if (typeof url === "string" && url.length > 0) {
                if (url[0] === '?') {
                    url = url.substring(1);
                }

                url = url.split('&');

                for (i = 0, length = url.length; i < length; i++) {
                    if (!url[i] || 0 === url[i].length) {
                        continue;
                    }

                    param = url[i];
                    pos = param.indexOf('=');

                    if (pos >= 0) {
                        key = param.substr(0, pos);
                        value = param.substr(pos + 1);
                    }
                    else {
                        key = param;
                        value = '';
                    }

                    value = decodeURIComponent(value);

                    if (params[key] === undefined) {
                        params[key] = value;
                    }
                    else if (params[key] instanceof Array) {
                        params[key].push(value);
                    }
                    else {
                        params[key] = [params[key], value];
                    }
                }
            }

            return params;
        },

        getUrlVar: function(url, name) {
            return $.getUrlVars(url)[name];
        },

        getOptinIdFromHash: function(id) {
            // legacy hash = mwf:uuid
            // new hash    = mwf:formId:uuid
            var hash = location.hash.replace('#', ''),
                idx = hash.indexOf("mwf:"),
                optinId;

            if (idx !== -1) {
                var elements = hash.split(":");
                if (elements.length === 2 || elements[1] === String(id)) {
                    return hash.substring(idx+4, hash.length);
                }
            }
            return null;
        },

        formatSize: function (bytes) {
            if (typeof bytes !== 'number') {
                return '';
            }
            if (bytes >= 1000000000) {
                return (bytes / 1000000000).toFixed(2) + ' GB';
            }
            if (bytes >= 1000000) {
                return (bytes / 1000000).toFixed(2) + ' MB';
            }
            return (bytes / 1000).toFixed(2) + ' KB';
        }
    });

    $(document).ready(function() {
        var $document = $(document);

        $('[data-mwf-form]').each(function() {
            var id = $(this).data('mwf-form');

            $document.on(EVENTS.AJAX_FINISHED, function(event) {
                var triggerId = event.originalEvent.detail.id;

                if (id !== triggerId) {
                    return;
                }

                $('[data-mwf-fatal-error="' + triggerId + '"]').hide();

                var $form = $('[data-mwf-form="' + triggerId + '"]'),
                    s = {
                        id: triggerId,
                        selector: $form,
                        type: 'GET',
                        appendUrlVars: false
                    };

                $.extend(s, $form.data('mwf-settings'));

                if ($form.is('form')) {
                    $form.webforms(s);
                } else {
                    $.mwfAjaxReplace(s);
                }

                triggerEvent(document, EVENTS.FORM_REPLACED, { detail: { id: id } });
            });

            $document.on(EVENTS.AJAX_ERROR, function (event) {
                var triggerId = event.originalEvent.detail.id;

                if (id !== triggerId) {
                    return;
                }

                $('[data-mwf-fatal-error="' + triggerId + '"]').show();
            });

            triggerEvent(document, EVENTS.AJAX_FINISHED, { detail: { id: id } });
        });
    });
}));


var onlyOnPage = "/bahnsteige_details.html";
var url = window.location.href;
if (url.indexOf(onlyOnPage) > -1) {
$( ".header-caption" ).hide();
}

/*!
* Edited version of:
* liScroll 2.0
* major edit by: Sandra Ohmayer
* Examples and documentation at:
* http://www.gcmingati.net/wordpress/wp-content/lab/jquery/newsticker/jq-liscroll/scrollanimate.html
* 2007-2010 Gian Carlo Mingati
* Version: 1.0.2.1 (22-APRIL-2011)
* Dual licensed under the MIT and GPL licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html
* Requires:
* jQuery v1.2.x or later
*
*/
(function($) {
// The ticker plugin
$.fn.ticker = function(settings) {
settings = jQuery.extend({
travelocity: 0.05,
boldfactor: 1.13
}, settings);
return this.each(function(){
//new scrolling method with more flexibility and a clear ending - Sandra Ohmayer
var scroll = function ($element, elementWidth, velocity, containerWidth, distance) {
if (typeof distance === "undefined" || distance === null) {
distance = $element.data("distance");
}
$element.animate({
left: containerWidth-(elementWidth*(2+count))
}, distance/velocity, "linear" , function() {
$( this ).css( "left", containerWidth );
$element.data("distance", elementWidth*(2+count));
scroll($element, elementWidth, velocity, containerWidth);
});
};
var $strip = jQuery(this);
$strip.addClass("newsticker");
var stripWidth = 0;
$strip.find("li").each(function(i){
var liwidth = 0;
jQuery(this, i).find(".tickernormal").each(function(j){
liwidth += jQuery(this, j).width();
});
jQuery(this, i).find(".tickerbold").each(function(j){
liwidth += jQuery(this, j).width()*settings.boldfactor;
});
stripWidth += liwidth;
jQuery(this, i).width(liwidth);
});
var count = 0; // extra stripes needed
var $mask = $strip.wrap("<div class='mask'></div>");
var $tickercontainer = $strip.parent().wrap("<div class='tickercontainer'></div>");
var containerWidth = $strip.parent().parent().width(); //a.k.a. 'tickercontainer' width
$strip.width(stripWidth);
//duplicate for endless scrolling look - Sandra Ohmayer
var $clone = $strip.clone();
$clone.attr('id', $clone.attr('id')+'_clone');
$strip.parent().append($clone);
//fill space if news is short - Sandra Ohmayer
if (containerWidth/stripWidth <= 1) {
// longer then container 2 stripes are enough
} else {
count = Math.floor(containerWidth/stripWidth);
for (i = 0; i < count; i++) {
var $clonetemp = $strip.clone();
$clonetemp.attr('id', $clone.attr('id')+'_clone'+(2+i));
$strip.parent().append($clonetemp);
$clonetemp.css('left',stripWidth*(2+i)+containerWidth);
$clonetemp.data( "distance", stripWidth*(2+i)+stripWidth*(2+count));
scroll($clonetemp, stripWidth, settings.travelocity, containerWidth);
}
}
$strip.css('left',0+containerWidth);
$clone.css('left',stripWidth+containerWidth);
$strip.data( "distance", 0+stripWidth*(2+count) );
$clone.data( "distance", stripWidth+stripWidth*(2+count) );
scroll($strip, stripWidth, settings.travelocity, containerWidth);
scroll($clone, stripWidth, settings.travelocity, containerWidth);
//Hover for every scrollelement - Sandra Ohmayer
newstickerarray = $(".newsticker");
newstickerarray.each(function() {
$(this).hover(function(){
newstickerarray.each(function() {
$(this).stop();
});
},function (){
newstickerarray.each(function() {
var offset = $(this).position().left;
var oldDistance = $(this).data( "distance");
var newDistance = 0;
var realoffset = oldDistance-(stripWidth*(2+count))+containerWidth-offset;
newDistance = oldDistance-realoffset;
scroll($(this), stripWidth, settings.travelocity, containerWidth, newDistance);
});
});
});
});
};
})(jQuery);
/*!
* Edited version of:
* liScroll 2.0
* major edit by: Sandra Ohmayer
* Examples and documentation at:
* http://www.gcmingati.net/wordpress/wp-content/lab/jquery/newsticker/jq-liscroll/scrollanimate.html
* 2007-2010 Gian Carlo Mingati
* Version: 1.0.2.1 (22-APRIL-2011)
* Dual licensed under the MIT and GPL licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html
* Requires:
* jQuery v1.2.x or later
*
*/
(function($) {
// The ticker plugin
$.fn.ticker = function(settings) {
settings = jQuery.extend({
travelocity: 0.05
}, settings);
return this.each(function(){
//new scrolling method with more flexibility and a clear ending - Sandra Ohmayer
var scroll = function ($element, elementWidth, velocity, containerWidth, distance) {
if (typeof distance === "undefined" || distance === null) {
distance = $element.data("distance");
}
$element.animate({
left: containerWidth-(elementWidth*(2+count))
}, distance/velocity, "linear" , function() {
$( this ).css( "left", containerWidth );
$element.data("distance", elementWidth*(2+count));
scroll($element, elementWidth, velocity, containerWidth);
});
};
var $strip = jQuery(this);
$strip.addClass("newsticker");
var stripWidth = 0;
$strip.find("li").each(function(i){
var liwidth = 0;
jQuery(this, i).find(".tickernormal").each(function(j){
liwidth += jQuery(this, j).width();
});
jQuery(this, i).find(".tickerbold").each(function(j){
liwidth += jQuery(this, j).width()*1.1282;
});
stripWidth += liwidth;
jQuery(this, i).width(liwidth);
});
var count = 0; // extra stripes needed
var $mask = $strip.wrap("<div class='mask'></div>");
var $tickercontainer = $strip.parent().wrap("<div class='tickercontainer'></div>");
var containerWidth = $strip.parent().parent().width(); //a.k.a. 'tickercontainer' width
$strip.width(stripWidth);
//duplicate for endless scrolling look - Sandra Ohmayer
var $clone = $strip.clone();
$clone.attr('id', $clone.attr('id')+'_clone');
$strip.parent().append($clone);
//fill space if news is short - Sandra Ohmayer
if (containerWidth/stripWidth <= 1) {
// longer then container 2 stripes are enough
} else {
count = Math.floor(containerWidth/stripWidth);
for (i = 0; i < count; i++) {
var $clonetemp = $strip.clone();
$clonetemp.attr('id', $clone.attr('id')+'_clone'+(2+i));
$strip.parent().append($clonetemp);
$clonetemp.css('left',stripWidth*(2+i)+containerWidth);
$clonetemp.data( "distance", stripWidth*(2+i)+stripWidth*(2+count));
scroll($clonetemp, stripWidth, settings.travelocity, containerWidth);
}
}
$strip.css('left',0+containerWidth);
$clone.css('left',stripWidth+containerWidth);
$strip.data( "distance", 0+stripWidth*(2+count) );
$clone.data( "distance", stripWidth+stripWidth*(2+count) );
scroll($strip, stripWidth, settings.travelocity, containerWidth);
scroll($clone, stripWidth, settings.travelocity, containerWidth);
//Hover for every scrollelement - Sandra Ohmayer
newstickerarray = $(".newsticker");
newstickerarray.each(function() {
$(this).hover(function(){
newstickerarray.each(function() {
$(this).stop();
});
},function (){
newstickerarray.each(function() {
var offset = $(this).position().left;
var oldDistance = $(this).data( "distance");
var newDistance = 0;
var realoffset = oldDistance-(stripWidth*(2+count))+containerWidth-offset;
newDistance = oldDistance-realoffset;
scroll($(this), stripWidth, settings.travelocity, containerWidth, newDistance);
});
});
});
});
};
})(jQuery);
/*!
* Edited version of:
* liScroll 2.0
* major edit by: Sandra Ohmayer
* Examples and documentation at:
* http://www.gcmingati.net/wordpress/wp-content/lab/jquery/newsticker/jq-liscroll/scrollanimate.html
* 2007-2010 Gian Carlo Mingati
* Version: 1.0.2.1 (22-APRIL-2011)
* Dual licensed under the MIT and GPL licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html
* Requires:
* jQuery v1.2.x or later
*
*/
(function($) {
// The ticker plugin
$.fn.ticker = function(settings) {
settings = jQuery.extend({
travelocity: 0.05
}, settings);
return this.each(function(){
//new scrolling method with more flexibility and a clear ending - Sandra Ohmayer
var scroll = function ($element, elementWidth, velocity, containerWidth, distance) {
if (typeof distance === "undefined" || distance === null) {
distance = $element.data("distance");
}
$element.animate({
left: containerWidth-(elementWidth*(2+count))
}, distance/velocity, "linear" , function() {
$( this ).css( "left", containerWidth );
$element.data("distance", elementWidth*(2+count));
scroll($element, elementWidth, velocity, containerWidth);
});
};
var $strip = jQuery(this);
$strip.addClass("newsticker");
var stripWidth = 0;
$strip.find("li").each(function(i){
var liwidth = 0;
jQuery(this, i).find(".tickernormal").each(function(j){
liwidth += jQuery(this, j).width();
});
jQuery(this, i).find(".tickerbold").each(function(j){
liwidth += jQuery(this, j).width()*1.1282;
});
stripWidth += liwidth;
jQuery(this, i).width(liwidth);
});
var count = 0; // extra stripes needed
var $mask = $strip.wrap("<div class='mask'></div>");
var $tickercontainer = $strip.parent().wrap("<div class='tickercontainer'></div>");
var containerWidth = $strip.parent().parent().width(); //a.k.a. 'tickercontainer' width
$strip.width(stripWidth);
//duplicate for endless scrolling look - Sandra Ohmayer
var $clone = $strip.clone();
$clone.attr('id', $clone.attr('id')+'_clone');
$strip.parent().append($clone);
//fill space if news is short - Sandra Ohmayer
if (containerWidth/stripWidth <= 1) {
// longer then container 2 stripes are enough
} else {
count = Math.floor(containerWidth/stripWidth);
for (i = 0; i < count; i++) {
var $clonetemp = $strip.clone();
$clonetemp.attr('id', $clone.attr('id')+'_clone'+(2+i));
$strip.parent().append($clonetemp);
$clonetemp.css('left',stripWidth*(2+i)+containerWidth);
$clonetemp.data( "distance", stripWidth*(2+i)+stripWidth*(2+count));
scroll($clonetemp, stripWidth, settings.travelocity, containerWidth);
}
}
$strip.css('left',0+containerWidth);
$clone.css('left',stripWidth+containerWidth);
$strip.data( "distance", 0+stripWidth*(2+count) );
$clone.data( "distance", stripWidth+stripWidth*(2+count) );
scroll($strip, stripWidth, settings.travelocity, containerWidth);
scroll($clone, stripWidth, settings.travelocity, containerWidth);
//Hover for every scrollelement - Sandra Ohmayer
newstickerarray = $(".newsticker");
newstickerarray.each(function() {
$(this).hover(function(){
newstickerarray.each(function() {
$(this).stop();
});
},function (){
newstickerarray.each(function() {
var offset = $(this).position().left;
var oldDistance = $(this).data( "distance");
var newDistance = 0;
var realoffset = oldDistance-(stripWidth*(2+count))+containerWidth-offset;
newDistance = oldDistance-realoffset;
scroll($(this), stripWidth, settings.travelocity, containerWidth, newDistance);
});
});
});
});
};
})(jQuery);
/*!
* Edited version of:
* liScroll 2.0
* major edit by: Sandra Ohmayer
* Examples and documentation at:
* http://www.gcmingati.net/wordpress/wp-content/lab/jquery/newsticker/jq-liscroll/scrollanimate.html
* 2007-2010 Gian Carlo Mingati
* Version: 1.0.2.1 (22-APRIL-2011)
* Dual licensed under the MIT and GPL licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html
* Requires:
* jQuery v1.2.x or later
*
*/
(function($) {
// The ticker plugin
$.fn.ticker = function(settings) {
settings = jQuery.extend({
travelocity: 0.05
}, settings);
return this.each(function(){
//new scrolling method with more flexibility and a clear ending - Sandra Ohmayer
var scroll = function ($element, elementWidth, velocity, containerWidth, distance) {
if (typeof distance === "undefined" || distance === null) {
distance = $element.data("distance");
}
$element.animate({
left: containerWidth-(elementWidth*(2+count))
}, distance/velocity, "linear" , function() {
$( this ).css( "left", containerWidth );
$element.data("distance", elementWidth*(2+count));
scroll($element, elementWidth, velocity, containerWidth);
});
};
var $strip = jQuery(this);
$strip.addClass("newsticker");
var stripWidth = 0;
$strip.find("li").each(function(i){
var liwidth = 0;
jQuery(this, i).find(".tickernormal").each(function(j){
liwidth += jQuery(this, j).width();
});
jQuery(this, i).find(".tickerbold").each(function(j){
liwidth += jQuery(this, j).width()*1.1282;
});
stripWidth += liwidth;
jQuery(this, i).width(liwidth);
});
var count = 0; // extra stripes needed
var $mask = $strip.wrap("<div class='mask'></div>");
var $tickercontainer = $strip.parent().wrap("<div class='tickercontainer'></div>");
var containerWidth = $strip.parent().parent().width(); //a.k.a. 'tickercontainer' width
$strip.width(stripWidth);
//duplicate for endless scrolling look - Sandra Ohmayer
var $clone = $strip.clone();
$clone.attr('id', $clone.attr('id')+'_clone');
$strip.parent().append($clone);
//fill space if news is short - Sandra Ohmayer
if (containerWidth/stripWidth <= 1) {
// longer then container 2 stripes are enough
} else {
count = Math.floor(containerWidth/stripWidth);
for (i = 0; i < count; i++) {
var $clonetemp = $strip.clone();
$clonetemp.attr('id', $clone.attr('id')+'_clone'+(2+i));
$strip.parent().append($clonetemp);
$clonetemp.css('left',stripWidth*(2+i)+containerWidth);
$clonetemp.data( "distance", stripWidth*(2+i)+stripWidth*(2+count));
scroll($clonetemp, stripWidth, settings.travelocity, containerWidth);
}
}
$strip.css('left',0+containerWidth);
$clone.css('left',stripWidth+containerWidth);
$strip.data( "distance", 0+stripWidth*(2+count) );
$clone.data( "distance", stripWidth+stripWidth*(2+count) );
scroll($strip, stripWidth, settings.travelocity, containerWidth);
scroll($clone, stripWidth, settings.travelocity, containerWidth);
//Hover for every scrollelement - Sandra Ohmayer
newstickerarray = $(".newsticker");
newstickerarray.each(function() {
$(this).hover(function(){
newstickerarray.each(function() {
$(this).stop();
});
},function (){
newstickerarray.each(function() {
var offset = $(this).position().left;
var oldDistance = $(this).data( "distance");
var newDistance = 0;
var realoffset = oldDistance-(stripWidth*(2+count))+containerWidth-offset;
newDistance = oldDistance-realoffset;
scroll($(this), stripWidth, settings.travelocity, containerWidth, newDistance);
});
});
});
});
};
})(jQuery);
/*!
* Edited version of:
* liScroll 2.0
* major edit by: Sandra Ohmayer
* Examples and documentation at:
* http://www.gcmingati.net/wordpress/wp-content/lab/jquery/newsticker/jq-liscroll/scrollanimate.html
* 2007-2010 Gian Carlo Mingati
* Version: 1.0.2.1 (22-APRIL-2011)
* Dual licensed under the MIT and GPL licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html
* Requires:
* jQuery v1.2.x or later
*
*/
(function($) {
// The ticker plugin
$.fn.ticker = function(settings) {
settings = jQuery.extend({
travelocity: 0.05
}, settings);
return this.each(function(){
//new scrolling method with more flexibility and a clear ending - Sandra Ohmayer
var scroll = function ($element, elementWidth, velocity, containerWidth, distance) {
if (typeof distance === "undefined" || distance === null) {
distance = $element.data("distance");
}
$element.animate({
left: containerWidth-(elementWidth*(2+count))
}, distance/velocity, "linear" , function() {
$( this ).css( "left", containerWidth );
$element.data("distance", elementWidth*(2+count));
scroll($element, elementWidth, velocity, containerWidth);
});
};
var $strip = jQuery(this);
$strip.addClass("newsticker");
var stripWidth = 0;
$strip.find("li").each(function(i){
var liwidth = 0;
jQuery(this, i).find(".tickernormal").each(function(j){
liwidth += jQuery(this, j).width();
});
jQuery(this, i).find(".tickerbold").each(function(j){
liwidth += jQuery(this, j).width()*settings.boldfactor;
});
stripWidth += liwidth;
jQuery(this, i).width(liwidth);
});
var count = 0; // extra stripes needed
var $mask = $strip.wrap("<div class='mask'></div>");
var $tickercontainer = $strip.parent().wrap("<div class='tickercontainer'></div>");
var containerWidth = $strip.parent().parent().width(); //a.k.a. 'tickercontainer' width
$strip.width(stripWidth);
//duplicate for endless scrolling look - Sandra Ohmayer
var $clone = $strip.clone();
$clone.attr('id', $clone.attr('id')+'_clone');
$strip.parent().append($clone);
//fill space if news is short - Sandra Ohmayer
if (containerWidth/stripWidth <= 1) {
// longer then container 2 stripes are enough
} else {
count = Math.floor(containerWidth/stripWidth);
for (i = 0; i < count; i++) {
var $clonetemp = $strip.clone();
$clonetemp.attr('id', $clone.attr('id')+'_clone'+(2+i));
$strip.parent().append($clonetemp);
$clonetemp.css('left',stripWidth*(2+i)+containerWidth);
$clonetemp.data( "distance", stripWidth*(2+i)+stripWidth*(2+count));
scroll($clonetemp, stripWidth, settings.travelocity, containerWidth);
}
}
$strip.css('left',0+containerWidth);
$clone.css('left',stripWidth+containerWidth);
$strip.data( "distance", 0+stripWidth*(2+count) );
$clone.data( "distance", stripWidth+stripWidth*(2+count) );
scroll($strip, stripWidth, settings.travelocity, containerWidth);
scroll($clone, stripWidth, settings.travelocity, containerWidth);
//Hover for every scrollelement - Sandra Ohmayer
newstickerarray = $(".newsticker");
newstickerarray.each(function() {
$(this).hover(function(){
newstickerarray.each(function() {
$(this).stop();
});
},function (){
newstickerarray.each(function() {
var offset = $(this).position().left;
var oldDistance = $(this).data( "distance");
var newDistance = 0;
var realoffset = oldDistance-(stripWidth*(2+count))+containerWidth-offset;
newDistance = oldDistance-realoffset;
scroll($(this), stripWidth, settings.travelocity, containerWidth, newDistance);
});
});
});
});
};
})(jQuery);
 

if (typeof newstickerMessages !== 'undefined') {
jQuery(document.body).prepend("<ul id=\"ticker\"></ul>");
var today = new Date().getTime();

var tickerstring = "";
tickerstring += "<li>";
newstickerMessages.msg.forEach(function(entry) {
  tickerstring += "<div class='tickernormal'>+++&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>";
  tickerstring += "<div class='tickerbold'>" + entry + "&nbsp;</div>";
  tickerstring += "<div class='tickernormal'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div>";
});
tickerstring += "</li>";

jQuery("#ticker").append(tickerstring);

        
if(jQuery("#ticker > li").length != "0") {
  jQuery("#headercontainer").height(350);
  jQuery(function(){
    jQuery("#ticker").ticker({"boldfactor" : "1.5"});
    jQuery(".tickercontainer").addClass("tickercontainer_default");
  }); 
} else {
  jQuery("#ticker").hide();
}
}

